-- BYTECODE -- filemanager.lua:50-62
0001    GGET     0   0      ; "G_reader_settings"
0002    MOV      1   0
0003    TGETS    0   0   1  ; "readSetting"
0004    KSTR     2   2      ; "fm_screen_mode"
0005    CALL     0   2   3
0006    IST          0
0007    JMP      1 => 0009
0008    KSTR     0   3      ; "portrait"
0009 => UGET     1   0      ; Screen
0010    MOV      2   1
0011    TGETS    1   1   4  ; "getScreenMode"
0012    CALL     1   2   2
0013    ISEQV    1   0
0014    JMP      1 => 0020
0015    UGET     1   0      ; Screen
0016    MOV      2   1
0017    TGETS    1   1   5  ; "setScreenMode"
0018    MOV      3   0
0019    CALL     1   1   3
0020 => RET0     0   1

-- BYTECODE -- filemanager.lua:67-67
0001    RET0     0   1

-- BYTECODE -- filemanager.lua:84-86
0001    UGET     1   0      ; self
0002    MOV      2   1
0003    TGETS    1   1   0  ; "onSwipeFM"
0004    MOV      3   0
0005    CALL     1   1   3
0006    RET0     0   1

-- BYTECODE -- filemanager.lua:101-101
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "goHome"
0004    CALL     0   1   2
0005    RET0     0   1

-- BYTECODE -- filemanager.lua:102-102
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "setHome"
0004    CALL     0   1   2
0005    RET0     0   1

-- BYTECODE -- filemanager.lua:174-178
0001    UGET     1   0      ; DocumentRegistry
0002    MOV      2   1
0003    TGETS    1   1   0  ; "hasProvider"
0004    MOV      3   0
0005    CALL     1   2   3
0006    ISF          1
0007    JMP      2 => 0010
0008    KPRI     1   2
0009    RET1     1   2
0010 => RET0     0   1

-- BYTECODE -- filemanager.lua:179-179
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "onClose"
0004    CALLT    0   2

-- BYTECODE -- filemanager.lua:190-192
0001    KSTR     0   0      ; "ui"
0002    UGET     1   0      ; FileManager
0003    TGETS    1   1   1  ; "instance"
0004    TGETS    1   1   2  ; "path_text"
0005    TGETS    1   1   3  ; "dimen"
0006    UGET     2   0      ; FileManager
0007    TGETS    2   2   1  ; "instance"
0008    TGETS    2   2   4  ; "dithered"
0009    RET      0   4

-- BYTECODE -- filemanager.lua:188-194
0001    UGET     2   0      ; FileManager
0002    TGETS    2   2   0  ; "instance"
0003    TGETS    2   2   1  ; "path_text"
0004    MOV      3   2
0005    TGETS    2   2   2  ; "setText"
0006    UGET     4   1      ; BD
0007    TGETS    4   4   3  ; "directory"
0008    UGET     5   2      ; filemanagerutil
0009    TGETS    5   5   4  ; "abbreviate"
0010    MOV      6   1
0011    CALL     5   0   2
0012    CALLM    4   0   0
0013    CALLM    2   1   1
0014    UGET     2   3      ; UIManager
0015    MOV      3   2
0016    TGETS    2   2   5  ; "setDirty"
0017    UGET     4   0      ; FileManager
0018    TGETS    4   4   0  ; "instance"
0019    FNEW     5   6      ; filemanager.lua:190
0020    CALL     2   1   4
0021    KPRI     2   2
0022    UCLO     0 => 0023
0023 => RET1     2   2

-- BYTECODE -- filemanager.lua:196-200
0001    UGET     2   0      ; FileManager
0002    TGETS    2   2   0  ; "instance"
0003    MOV      3   2
0004    TGETS    2   2   1  ; "onClose"
0005    CALL     2   1   2
0006    UGET     2   1      ; ReaderUI
0007    MOV      3   2
0008    TGETS    2   2   2  ; "showReader"
0009    MOV      4   1
0010    CALL     2   1   3
0011    KPRI     2   2
0012    RET1     2   2

-- BYTECODE -- filemanager.lua:202-202
0001    UGET     1   0      ; self
0002    MOV      2   1
0003    TGETS    1   1   0  ; "copyFile"
0004    MOV      3   0
0005    CALL     1   1   3
0006    RET0     0   1

-- BYTECODE -- filemanager.lua:203-203
0001    UGET     1   0      ; self
0002    MOV      2   1
0003    TGETS    1   1   0  ; "pasteHere"
0004    MOV      3   0
0005    CALL     1   1   3
0006    RET0     0   1

-- BYTECODE -- filemanager.lua:204-204
0001    UGET     1   0      ; self
0002    MOV      2   1
0003    TGETS    1   1   0  ; "cutFile"
0004    MOV      3   0
0005    CALL     1   1   3
0006    RET0     0   1

-- BYTECODE -- filemanager.lua:205-205
0001    UGET     1   0      ; self
0002    MOV      2   1
0003    TGETS    1   1   0  ; "deleteFile"
0004    MOV      3   0
0005    CALL     1   1   3
0006    RET0     0   1

-- BYTECODE -- filemanager.lua:206-206
0001    UGET     1   0      ; self
0002    MOV      2   1
0003    TGETS    1   1   0  ; "renameFile"
0004    MOV      3   0
0005    CALL     1   1   3
0006    RET0     0   1

-- BYTECODE -- filemanager.lua:207-207
0001    UGET     1   0      ; self
0002    MOV      2   1
0003    TGETS    1   1   0  ; "setHome"
0004    MOV      3   0
0005    CALL     1   1   3
0006    RET0     0   1

-- BYTECODE -- filemanager.lua:215-218
0001    UGET     0   0      ; copyFile
0002    UGET     1   1      ; file
0003    CALL     0   1   2
0004    UGET     0   2      ; UIManager
0005    MOV      1   0
0006    TGETS    0   0   0  ; "close"
0007    UGET     2   3      ; self
0008    TGETS    2   2   1  ; "file_dialog"
0009    CALL     0   1   3
0010    RET0     0   1

-- BYTECODE -- filemanager.lua:223-226
0001    UGET     0   0      ; pasteHere
0002    UGET     1   1      ; file
0003    CALL     0   1   2
0004    UGET     0   2      ; UIManager
0005    MOV      1   0
0006    TGETS    0   0   0  ; "close"
0007    UGET     2   3      ; self
0008    TGETS    2   2   1  ; "file_dialog"
0009    CALL     0   1   3
0010    RET0     0   1

-- BYTECODE -- filemanager.lua:235-240
0001    UGET     0   0      ; filemanagerutil
0002    TGETS    0   0   0  ; "purgeSettings"
0003    UGET     1   1      ; file
0004    CALL     0   1   2
0005    GGET     0   1      ; "require"
0006    KSTR     1   2      ; "readhistory"
0007    CALL     0   2   2
0008    MOV      1   0
0009    TGETS    0   0   3  ; "fileSettingsPurged"
0010    UGET     2   1      ; file
0011    CALL     0   1   3
0012    UGET     0   2      ; self
0013    MOV      1   0
0014    TGETS    0   0   4  ; "refreshPath"
0015    CALL     0   1   2
0016    UGET     0   3      ; UIManager
0017    MOV      1   0
0018    TGETS    0   0   5  ; "close"
0019    UGET     2   2      ; self
0020    TGETS    2   2   6  ; "file_dialog"
0021    CALL     0   1   3
0022    RET0     0   1

-- BYTECODE -- filemanager.lua:231-242
0001    UGET     0   0      ; UIManager
0002    MOV      1   0
0003    TGETS    0   0   0  ; "show"
0004    UGET     2   1      ; ConfirmBox
0005    MOV      3   2
0006    TGETS    2   2   1  ; "new"
0007    TDUP     4   6
0008    UGET     5   2      ; T
0009    UGET     6   3      ; _
0010    KSTR     7   2      ; "Purge .sdr to reset settings for this do"~
0011    CALL     6   2   2
0012    UGET     7   4      ; BD
0013    TGETS    7   7   3  ; "filename"
0014    UGET     8   5      ; self
0015    TGETS    8   8   4  ; "file_dialog"
0016    TGETS    8   8   5  ; "title"
0017    CALL     7   0   2
0018    CALLM    5   2   1
0019    TSETS    5   4   7  ; "text"
0020    UGET     5   3      ; _
0021    KSTR     6   8      ; "Purge"
0022    CALL     5   2   2
0023    TSETS    5   4   9  ; "ok_text"
0024    FNEW     5  10      ; filemanager.lua:235
0025    TSETS    5   4  11  ; "ok_callback"
0026    CALL     2   0   3
0027    CALLM    0   1   1
0028    RET0     0   1

-- BYTECODE -- filemanager.lua:248-251
0001    UGET     0   0      ; cutFile
0002    UGET     1   1      ; file
0003    CALL     0   1   2
0004    UGET     0   2      ; UIManager
0005    MOV      1   0
0006    TGETS    0   0   0  ; "close"
0007    UGET     2   3      ; self
0008    TGETS    2   2   1  ; "file_dialog"
0009    CALL     0   1   3
0010    RET0     0   1

-- BYTECODE -- filemanager.lua:259-264
0001    UGET     0   0      ; deleteFile
0002    UGET     1   1      ; file
0003    CALL     0   1   2
0004    GGET     0   0      ; "require"
0005    KSTR     1   1      ; "readhistory"
0006    CALL     0   2   2
0007    MOV      1   0
0008    TGETS    0   0   2  ; "fileDeleted"
0009    UGET     2   1      ; file
0010    CALL     0   1   3
0011    UGET     0   2      ; self
0012    MOV      1   0
0013    TGETS    0   0   3  ; "refreshPath"
0014    CALL     0   1   2
0015    UGET     0   3      ; UIManager
0016    MOV      1   0
0017    TGETS    0   0   4  ; "close"
0018    UGET     2   2      ; self
0019    TGETS    2   2   5  ; "file_dialog"
0020    CALL     0   1   3
0021    RET0     0   1

-- BYTECODE -- filemanager.lua:255-266
0001    UGET     0   0      ; UIManager
0002    MOV      1   0
0003    TGETS    0   0   0  ; "show"
0004    UGET     2   1      ; ConfirmBox
0005    MOV      3   2
0006    TGETS    2   2   1  ; "new"
0007    TDUP     4   6
0008    UGET     5   2      ; _
0009    KSTR     6   2      ; "Are you sure that you want to delete thi"~
0010    CALL     5   2   2
0011    UGET     6   3      ; BD
0012    TGETS    6   6   3  ; "filepath"
0013    UGET     7   4      ; file
0014    CALL     6   2   2
0015    KSTR     7   4      ; "\n"
0016    UGET     8   2      ; _
0017    KSTR     9   5      ; "If you delete a file, it is permanently "~
0018    CALL     8   2   2
0019    CAT      5   5   8
0020    TSETS    5   4   7  ; "text"
0021    UGET     5   2      ; _
0022    KSTR     6   8      ; "Delete"
0023    CALL     5   2   2
0024    TSETS    5   4   9  ; "ok_text"
0025    FNEW     5  10      ; filemanager.lua:259
0026    TSETS    5   4  11  ; "ok_callback"
0027    CALL     2   0   3
0028    CALLM    0   1   1
0029    RET0     0   1

-- BYTECODE -- filemanager.lua:279-281
0001    UGET     0   0      ; UIManager
0002    MOV      1   0
0003    TGETS    0   0   0  ; "close"
0004    UGET     2   1      ; fileManager
0005    TGETS    2   2   1  ; "rename_dialog"
0006    CALL     0   1   3
0007    RET0     0   1

-- BYTECODE -- filemanager.lua:286-290
0001    UGET     0   0      ; renameFile
0002    UGET     1   1      ; file
0003    CALL     0   1   2
0004    UGET     0   2      ; self
0005    MOV      1   0
0006    TGETS    0   0   0  ; "refreshPath"
0007    CALL     0   1   2
0008    UGET     0   3      ; UIManager
0009    MOV      1   0
0010    TGETS    0   0   1  ; "close"
0011    UGET     2   4      ; fileManager
0012    TGETS    2   2   2  ; "rename_dialog"
0013    CALL     0   1   3
0014    RET0     0   1

-- BYTECODE -- filemanager.lua:270-296
0001    UGET     0   0      ; UIManager
0002    MOV      1   0
0003    TGETS    0   0   0  ; "close"
0004    UGET     2   1      ; self
0005    TGETS    2   2   1  ; "file_dialog"
0006    CALL     0   1   3
0007    UGET     0   2      ; fileManager
0008    UGET     1   3      ; InputDialog
0009    MOV      2   1
0010    TGETS    1   1   3  ; "new"
0011    TDUP     3   5
0012    UGET     4   4      ; _
0013    KSTR     5   4      ; "Rename file"
0014    CALL     4   2   2
0015    TSETS    4   3   6  ; "title"
0016    UGET     4   5      ; BaseUtil
0017    TGETS    4   4   7  ; "basename"
0018    UGET     5   6      ; file
0019    CALL     4   2   2
0020    TSETS    4   3   8  ; "input"
0021    TNEW     4   3
0022    TNEW     5   3
0023    TDUP     6  10
0024    UGET     7   4      ; _
0025    KSTR     8   9      ; "Cancel"
0026    CALL     7   2   2
0027    TSETS    7   6  11  ; "text"
0028    FNEW     7  12      ; filemanager.lua:279
0029    TSETS    7   6  13  ; "callback"
0030    TSETB    6   5   1
0031    TDUP     6  15
0032    UGET     7   4      ; _
0033    KSTR     8  14      ; "Rename"
0034    CALL     7   2   2
0035    TSETS    7   6  11  ; "text"
0036    FNEW     7  16      ; filemanager.lua:286
0037    TSETS    7   6  13  ; "callback"
0038    TSETB    6   5   2
0039    TSETB    5   4   1
0040    TSETS    4   3  17  ; "buttons"
0041    CALL     1   2   3
0042    TSETS    1   0   2  ; "rename_dialog"
0043    UGET     0   0      ; UIManager
0044    MOV      1   0
0045    TGETS    0   0  18  ; "show"
0046    UGET     2   2      ; fileManager
0047    TGETS    2   2   2  ; "rename_dialog"
0048    CALL     0   1   3
0049    UGET     0   2      ; fileManager
0050    TGETS    0   0   2  ; "rename_dialog"
0051    MOV      1   0
0052    TGETS    0   0  19  ; "onShowKeyboard"
0053    CALL     0   1   2
0054    RET0     0   1

-- BYTECODE -- filemanager.lua:318-332
0001    GGET     0   0      ; "os"
0002    TGETS    0   0   1  ; "execute"
0003    UGET     1   0      ; BaseUtil
0004    TGETS    1   1   2  ; "realpath"
0005    UGET     2   1      ; file
0006    CALL     1   0   2
0007    CALLM    0   2   0
0008    UGET     1   2      ; UIManager
0009    MOV      2   1
0010    TGETS    1   1   3  ; "close"
0011    UGET     3   3      ; script_is_running_msg
0012    CALL     1   1   3
0013    ISNEN    0   0      ; 0
0014    JMP      1 => 0029
0015    UGET     1   2      ; UIManager
0016    MOV      2   1
0017    TGETS    1   1   4  ; "show"
0018    UGET     3   4      ; InfoMessage
0019    MOV      4   3
0020    TGETS    3   3   5  ; "new"
0021    TDUP     5   7
0022    UGET     6   5      ; _
0023    KSTR     7   6      ; "The script exited successfully."
0024    CALL     6   2   2
0025    TSETS    6   5   8  ; "text"
0026    CALL     3   0   3
0027    CALLM    1   1   1
0028    JMP      1 => 0049
0029 => UGET     1   2      ; UIManager
0030    MOV      2   1
0031    TGETS    1   1   4  ; "show"
0032    UGET     3   4      ; InfoMessage
0033    MOV      4   3
0034    TGETS    3   3   5  ; "new"
0035    TDUP     5  12
0036    UGET     6   6      ; T
0037    UGET     7   5      ; _
0038    KSTR     8   9      ; "The script returned a non-zero status co"~
0039    CALL     7   2   2
0040    GGET     8  10      ; "bit"
0041    TGETS    8   8  11  ; "rshift"
0042    MOV      9   0
0043    KSHORT  10   8
0044    CALL     8   0   3
0045    CALLM    6   2   1
0046    TSETS    6   5   8  ; "text"
0047    CALL     3   0   3
0048    CALLM    1   1   1
0049 => RET0     0   1

-- BYTECODE -- filemanager.lua:311-333
0001    UGET     0   0      ; UIManager
0002    MOV      1   0
0003    TGETS    0   0   0  ; "close"
0004    UGET     2   1      ; self
0005    TGETS    2   2   1  ; "file_dialog"
0006    CALL     0   1   3
0007    UGET     0   2      ; InfoMessage
0008    MOV      1   0
0009    TGETS    0   0   2  ; "new"
0010    TDUP     2   7
0011    UGET     3   3      ; T
0012    UGET     4   4      ; _
0013    KSTR     5   3      ; "Running %1 script %2…"
0014    CALL     4   2   2
0015    UGET     5   5      ; util
0016    TGETS    5   5   4  ; "getScriptType"
0017    UGET     6   6      ; file
0018    CALL     5   2   2
0019    UGET     6   7      ; BD
0020    TGETS    6   6   5  ; "filename"
0021    UGET     7   8      ; BaseUtil
0022    TGETS    7   7   6  ; "basename"
0023    UGET     8   6      ; file
0024    CALL     7   0   2
0025    CALLM    6   0   0
0026    CALLM    3   2   2
0027    TSETS    3   2   8  ; "text"
0028    CALL     0   2   3
0029    UGET     1   0      ; UIManager
0030    MOV      2   1
0031    TGETS    1   1   9  ; "show"
0032    MOV      3   0
0033    CALL     1   1   3
0034    UGET     1   0      ; UIManager
0035    MOV      2   1
0036    TGETS    1   1  10  ; "scheduleIn"
0037    KNUM     3   0      ; 0.5
0038    FNEW     4  11      ; filemanager.lua:318
0039    CALL     1   1   4
0040    UCLO     0 => 0041
0041 => RET0     0   1

-- BYTECODE -- filemanager.lua:343-346
0001    UGET     0   0      ; UIManager
0002    MOV      1   0
0003    TGETS    0   0   0  ; "close"
0004    UGET     2   1      ; self
0005    TGETS    2   2   1  ; "file_dialog"
0006    CALL     0   1   3
0007    UGET     0   1      ; self
0008    MOV      1   0
0009    TGETS    0   0   2  ; "showSetProviderButtons"
0010    UGET     2   2      ; file
0011    UGET     3   3      ; FileManager
0012    TGETS    3   3   3  ; "instance"
0013    UGET     4   4      ; ReaderUI
0014    CALL     0   1   5
0015    RET0     0   1

-- BYTECODE -- filemanager.lua:351-354
0001    UGET     0   0      ; FileManagerBookInfo
0002    MOV      1   0
0003    TGETS    0   0   0  ; "show"
0004    UGET     2   1      ; file
0005    CALL     0   1   3
0006    UGET     0   2      ; UIManager
0007    MOV      1   0
0008    TGETS    0   0   1  ; "close"
0009    UGET     2   3      ; self
0010    TGETS    2   2   2  ; "file_dialog"
0011    CALL     0   1   3
0012    RET0     0   1

-- BYTECODE -- filemanager.lua:359-365
0001    UGET     0   0      ; ReadCollection
0002    MOV      1   0
0003    TGETS    0   0   0  ; "checkItemExist"
0004    UGET     2   1      ; file
0005    CALL     0   2   3
0006    ISF          0
0007    JMP      1 => 0012
0008    UGET     0   2      ; _
0009    KSTR     1   1      ; "Remove from favorites"
0010    CALLT    0   2
0011    JMP      0 => 0015
0012 => UGET     0   2      ; _
0013    KSTR     1   2      ; "Add to favorites"
0014    CALLT    0   2
0015 => RET0     0   1

-- BYTECODE -- filemanager.lua:367-374
0001    UGET     0   0      ; ReadCollection
0002    MOV      1   0
0003    TGETS    0   0   0  ; "checkItemExist"
0004    UGET     2   1      ; file
0005    CALL     0   2   3
0006    ISF          0
0007    JMP      1 => 0014
0008    UGET     0   0      ; ReadCollection
0009    MOV      1   0
0010    TGETS    0   0   1  ; "removeItem"
0011    UGET     2   1      ; file
0012    CALL     0   1   3
0013    JMP      0 => 0019
0014 => UGET     0   0      ; ReadCollection
0015    MOV      1   0
0016    TGETS    0   0   2  ; "addItem"
0017    UGET     2   1      ; file
0018    CALL     0   1   3
0019 => UGET     0   2      ; UIManager
0020    MOV      1   0
0021    TGETS    0   0   3  ; "close"
0022    UGET     2   3      ; self
0023    TGETS    2   2   4  ; "file_dialog"
0024    CALL     0   1   3
0025    RET0     0   1

-- BYTECODE -- filemanager.lua:382-385
0001    UGET     0   0      ; UIManager
0002    MOV      1   0
0003    TGETS    0   0   0  ; "close"
0004    UGET     2   1      ; self
0005    TGETS    2   2   1  ; "file_dialog"
0006    CALL     0   1   3
0007    UGET     0   2      ; FileManagerConverter
0008    MOV      1   0
0009    TGETS    0   0   2  ; "showConvertButtons"
0010    UGET     2   3      ; file
0011    UGET     3   1      ; self
0012    CALL     0   1   4
0013    RET0     0   1

-- BYTECODE -- filemanager.lua:395-398
0001    UGET     0   0      ; setHome
0002    UGET     1   1      ; realpath
0003    CALL     0   1   2
0004    UGET     0   2      ; UIManager
0005    MOV      1   0
0006    TGETS    0   0   0  ; "close"
0007    UGET     2   3      ; self
0008    TGETS    2   2   1  ; "file_dialog"
0009    CALL     0   1   3
0010    RET0     0   1

-- BYTECODE -- filemanager.lua:210-417
0001    TNEW     2   4
0002    TNEW     3   4
0003    TDUP     4   2
0004    UGET     5   0      ; C_
0005    KSTR     6   0      ; "File"
0006    KSTR     7   1      ; "Copy"
0007    CALL     5   2   3
0008    TSETS    5   4   3  ; "text"
0009    FNEW     5   4      ; filemanager.lua:215
0010    TSETS    5   4   5  ; "callback"
0011    TSETB    4   3   1
0012    TDUP     4   7
0013    UGET     5   0      ; C_
0014    KSTR     6   0      ; "File"
0015    KSTR     7   6      ; "Paste"
0016    CALL     5   2   3
0017    TSETS    5   4   3  ; "text"
0018    UGET     5   3      ; fileManager
0019    TGETS    5   5   8  ; "clipboard"
0020    ISF          5
0021    JMP      6 => 0024
0022    KPRI     5   2
0023    JMP      6 => 0025
0024 => KPRI     5   1
0025 => TSETS    5   4   9  ; "enabled"
0026    FNEW     5  10      ; filemanager.lua:223
0027    TSETS    5   4   5  ; "callback"
0028    TSETB    4   3   2
0029    TDUP     4  12
0030    UGET     5   5      ; _
0031    KSTR     6  11      ; "Purge .sdr"
0032    CALL     5   2   2
0033    TSETS    5   4   3  ; "text"
0034    UGET     5   6      ; DocSettings
0035    MOV      6   5
0036    TGETS    5   5  13  ; "hasSidecarFile"
0037    UGET     7   7      ; BaseUtil
0038    TGETS    7   7  14  ; "realpath"
0039    MOV      8   1
0040    CALL     7   0   2
0041    CALLM    5   2   1
0042    TSETS    5   4   9  ; "enabled"
0043    FNEW     5  15      ; filemanager.lua:231
0044    TSETS    5   4   5  ; "callback"
0045    TSETB    4   3   3
0046    TSETB    3   2   1
0047    TNEW     3   4
0048    TDUP     4  17
0049    UGET     5   5      ; _
0050    KSTR     6  16      ; "Cut"
0051    CALL     5   2   2
0052    TSETS    5   4   3  ; "text"
0053    FNEW     5  18      ; filemanager.lua:248
0054    TSETS    5   4   5  ; "callback"
0055    TSETB    4   3   1
0056    TDUP     4  20
0057    UGET     5   5      ; _
0058    KSTR     6  19      ; "Delete"
0059    CALL     5   2   2
0060    TSETS    5   4   3  ; "text"
0061    FNEW     5  21      ; filemanager.lua:255
0062    TSETS    5   4   5  ; "callback"
0063    TSETB    4   3   2
0064    TDUP     4  23
0065    UGET     5   5      ; _
0066    KSTR     6  22      ; "Rename"
0067    CALL     5   2   2
0068    TSETS    5   4   3  ; "text"
0069    FNEW     5  24      ; filemanager.lua:270
0070    TSETS    5   4   5  ; "callback"
0071    TSETB    4   3   3
0072    TSETB    3   2   2
0073    TNEW     3   0
0074    TSETB    3   2   3
0075    UGET     3  16      ; Device
0076    MOV      4   3
0077    TGETS    3   3  25  ; "isAndroid"
0078    CALL     3   2   2
0079    IST          3
0080    JMP      3 => 0111
0081    UGET     3  17      ; lfs
0082    TGETS    3   3  26  ; "attributes"
0083    MOV      4   1
0084    KSTR     5  27      ; "mode"
0085    CALL     3   2   3
0086    ISNES    3  28      ; "file"
0087    JMP      3 => 0111
0088    UGET     3  18      ; util
0089    TGETS    3   3  29  ; "isAllowedScript"
0090    MOV      4   1
0091    CALL     3   2   2
0092    ISF          3
0093    JMP      4 => 0111
0094    GGET     3  30      ; "table"
0095    TGETS    3   3  31  ; "insert"
0096    TGETB    4   2   3
0097    TDUP     5  34
0098    UGET     6   9      ; T
0099    UGET     7   5      ; _
0100    KSTR     8  32      ; "Execute %1 script"
0101    CALL     7   2   2
0102    UGET     8  18      ; util
0103    TGETS    8   8  33  ; "getScriptType"
0104    MOV      9   1
0105    CALL     8   0   2
0106    CALLM    6   2   1
0107    TSETS    6   5   3  ; "text"
0108    FNEW     6  35      ; filemanager.lua:311
0109    TSETS    6   5   5  ; "callback"
0110    CALL     3   1   3
0111 => UGET     3  17      ; lfs
0112    TGETS    3   3  26  ; "attributes"
0113    MOV      4   1
0114    KSTR     5  27      ; "mode"
0115    CALL     3   2   3
0116    ISNES    3  28      ; "file"
0117    JMP      3 => 0207
0118    GGET     3  30      ; "table"
0119    TGETS    3   3  31  ; "insert"
0120    MOV      4   2
0121    TNEW     5   3
0122    TDUP     6  37
0123    UGET     7   5      ; _
0124    KSTR     8  36      ; "Open with…"
0125    CALL     7   2   2
0126    TSETS    7   6   3  ; "text"
0127    UGET     7  20      ; DocumentRegistry
0128    MOV      8   7
0129    TGETS    7   7  38  ; "getProviders"
0130    MOV      9   1
0131    CALL     7   2   3
0132    ISEQP    7   0
0133    JMP      7 => 0145
0134    UGET     7  20      ; DocumentRegistry
0135    MOV      8   7
0136    TGETS    7   7  38  ; "getProviders"
0137    MOV      9   1
0138    CALL     7   2   3
0139    LEN      7   7
0140    KSHORT   8   1
0141    ISLT     8   7
0142    JMP      7 => 0145
0143    KPRI     7   1
0144    JMP      8 => 0146
0145 => KPRI     7   2
0146 => TSETS    7   6   9  ; "enabled"
0147    FNEW     7  39      ; filemanager.lua:343
0148    TSETS    7   6   5  ; "callback"
0149    TSETB    6   5   1
0150    TDUP     6  41
0151    UGET     7   5      ; _
0152    KSTR     8  40      ; "Book information"
0153    CALL     7   2   2
0154    TSETS    7   6   3  ; "text"
0155    UGET     7  23      ; FileManagerBookInfo
0156    MOV      8   7
0157    TGETS    7   7  42  ; "isSupported"
0158    MOV      9   1
0159    CALL     7   2   3
0160    TSETS    7   6   9  ; "enabled"
0161    FNEW     7  43      ; filemanager.lua:351
0162    TSETS    7   6   5  ; "callback"
0163    TSETB    6   5   2
0164    CALL     3   1   3
0165    GGET     3  30      ; "table"
0166    TGETS    3   3  31  ; "insert"
0167    MOV      4   2
0168    TNEW     5   3
0169    TDUP     6  45
0170    FNEW     7  44      ; filemanager.lua:359
0171    TSETS    7   6  46  ; "text_func"
0172    UGET     7  20      ; DocumentRegistry
0173    MOV      8   7
0174    TGETS    7   7  38  ; "getProviders"
0175    MOV      9   1
0176    CALL     7   2   3
0177    ISNEP    7   0
0178    JMP      7 => 0181
0179    KPRI     7   1
0180    JMP      8 => 0182
0181 => KPRI     7   2
0182 => TSETS    7   6   9  ; "enabled"
0183    FNEW     7  47      ; filemanager.lua:367
0184    TSETS    7   6   5  ; "callback"
0185    TSETB    6   5   1
0186    CALL     3   1   3
0187    UGET     3  25      ; FileManagerConverter
0188    MOV      4   3
0189    TGETS    3   3  42  ; "isSupported"
0190    MOV      5   1
0191    CALL     3   2   3
0192    ISF          3
0193    JMP      4 => 0207
0194    GGET     3  30      ; "table"
0195    TGETS    3   3  31  ; "insert"
0196    MOV      4   2
0197    TNEW     5   3
0198    TDUP     6  49
0199    UGET     7   5      ; _
0200    KSTR     8  48      ; "Convert"
0201    CALL     7   2   2
0202    TSETS    7   6   3  ; "text"
0203    FNEW     7  50      ; filemanager.lua:382
0204    TSETS    7   6   5  ; "callback"
0205    TSETB    6   5   1
0206    CALL     3   1   3
0207 => UGET     3  17      ; lfs
0208    TGETS    3   3  26  ; "attributes"
0209    MOV      4   1
0210    KSTR     5  27      ; "mode"
0211    CALL     3   2   3
0212    ISNES    3  51      ; "directory"
0213    JMP      3 => 0232
0214    UGET     3   7      ; BaseUtil
0215    TGETS    3   3  14  ; "realpath"
0216    MOV      4   1
0217    CALL     3   2   2
0218    GGET     4  30      ; "table"
0219    TGETS    4   4  31  ; "insert"
0220    MOV      5   2
0221    TNEW     6   3
0222    TDUP     7  53
0223    UGET     8   5      ; _
0224    KSTR     9  52      ; "Set as HOME directory"
0225    CALL     8   2   2
0226    TSETS    8   7   3  ; "text"
0227    FNEW     8  54      ; filemanager.lua:395
0228    TSETS    8   7   5  ; "callback"
0229    TSETB    7   6   1
0230    CALL     4   1   3
0231    UCLO     3 => 0232
0232 => KPRI     3   0
0233    UGET     4  17      ; lfs
0234    TGETS    4   4  26  ; "attributes"
0235    MOV      5   1
0236    KSTR     6  27      ; "mode"
0237    CALL     4   2   3
0238    ISNES    4  51      ; "directory"
0239    JMP      4 => 0249
0240    UGET     4  10      ; BD
0241    TGETS    4   4  51  ; "directory"
0242    MOV      6   1
0243    TGETS    5   1  55  ; "match"
0244    KSTR     7  56      ; "([^/]+)$"
0245    CALL     5   0   3
0246    CALLM    4   2   0
0247    MOV      3   4
0248    JMP      4 => 0257
0249 => UGET     4  10      ; BD
0250    TGETS    4   4  57  ; "filename"
0251    MOV      6   1
0252    TGETS    5   1  55  ; "match"
0253    KSTR     7  56      ; "([^/]+)$"
0254    CALL     5   0   3
0255    CALLM    4   2   0
0256    MOV      3   4
0257 => UGET     4  27      ; ButtonDialogTitle
0258    MOV      5   4
0259    TGETS    4   4  59  ; "new"
0260    TDUP     6  60
0261    TSETS    3   6  61  ; "title"
0262    TSETS    2   6  62  ; "buttons"
0263    CALL     4   2   3
0264    TSETS    4   0  58  ; "file_dialog"
0265    UGET     4   2      ; UIManager
0266    MOV      5   4
0267    TGETS    4   4  63  ; "show"
0268    TGETS    6   0  58  ; "file_dialog"
0269    CALL     4   1   3
0270    KPRI     4   2
0271    UCLO     0 => 0272
0272 => RET1     4   2

-- BYTECODE -- filemanager.lua:74-477
0001    UGET     1   0      ; Device
0002    MOV      2   1
0003    TGETS    1   1   0  ; "isTouchDevice"
0004    CALL     1   2   2
0005    ISF          1
0006    JMP      2 => 0027
0007    MOV      2   0
0008    TGETS    1   0   1  ; "registerTouchZones"
0009    TNEW     3   3
0010    TDUP     4   2
0011    TDUP     5   3
0012    UGET     6   1      ; Screen
0013    MOV      7   6
0014    TGETS    6   6   4  ; "getWidth"
0015    CALL     6   2   2
0016    TSETS    6   5   5  ; "ratio_w"
0017    UGET     6   1      ; Screen
0018    MOV      7   6
0019    TGETS    6   6   6  ; "getHeight"
0020    CALL     6   2   2
0021    TSETS    6   5   7  ; "ratio_h"
0022    TSETS    5   4   8  ; "screen_zone"
0023    FNEW     5   9      ; filemanager.lua:84
0024    TSETS    5   4  10  ; "handler"
0025    TSETB    4   3   1
0026    CALL     1   1   3
0027 => TGETS    1   0  11  ; "show_parent"
0028    IST          1
0029    JMP      2 => 0031
0030    MOV      1   0
0031 => TSETS    1   0  11  ; "show_parent"
0032    UGET     1   1      ; Screen
0033    MOV      2   1
0034    TGETS    1   1  12  ; "scaleBySize"
0035    KSHORT   3  35
0036    CALL     1   2   3
0037    UGET     2   2      ; IconButton
0038    MOV      3   2
0039    TGETS    2   2  13  ; "new"
0040    TDUP     4  14
0041    TSETS    1   4  15  ; "width"
0042    TSETS    1   4  16  ; "height"
0043    UGET     5   3      ; Size
0044    TGETS    5   5  17  ; "padding"
0045    TGETS    5   5  18  ; "default"
0046    TSETS    5   4  17  ; "padding"
0047    UGET     5   3      ; Size
0048    TGETS    5   5  17  ; "padding"
0049    TGETS    5   5  19  ; "large"
0050    TSETS    5   4  20  ; "padding_left"
0051    UGET     5   3      ; Size
0052    TGETS    5   5  17  ; "padding"
0053    TGETS    5   5  19  ; "large"
0054    TSETS    5   4  21  ; "padding_right"
0055    FNEW     5  22      ; filemanager.lua:101
0056    TSETS    5   4  23  ; "callback"
0057    FNEW     5  24      ; filemanager.lua:102
0058    TSETS    5   4  25  ; "hold_callback"
0059    CALL     2   2   3
0060    UGET     3   2      ; IconButton
0061    MOV      4   3
0062    TGETS    3   3  13  ; "new"
0063    TDUP     5  26
0064    TSETS    1   5  15  ; "width"
0065    TSETS    1   5  16  ; "height"
0066    UGET     6   3      ; Size
0067    TGETS    6   6  17  ; "padding"
0068    TGETS    6   6  18  ; "default"
0069    TSETS    6   5  17  ; "padding"
0070    UGET     6   3      ; Size
0071    TGETS    6   6  17  ; "padding"
0072    TGETS    6   6  19  ; "large"
0073    TSETS    6   5  20  ; "padding_left"
0074    UGET     6   3      ; Size
0075    TGETS    6   6  17  ; "padding"
0076    TGETS    6   6  19  ; "large"
0077    TSETS    6   5  21  ; "padding_right"
0078    CALL     3   2   3
0079    UGET     4   4      ; TextWidget
0080    MOV      5   4
0081    TGETS    4   4  13  ; "new"
0082    TDUP     6  30
0083    UGET     7   5      ; Font
0084    MOV      8   7
0085    TGETS    7   7  28  ; "getFace"
0086    KSTR     9  29      ; "xx_smallinfofont"
0087    CALL     7   2   3
0088    TSETS    7   6  31  ; "face"
0089    UGET     7   6      ; BD
0090    TGETS    7   7  32  ; "directory"
0091    UGET     8   7      ; filemanagerutil
0092    TGETS    8   8  33  ; "abbreviate"
0093    TGETS    9   0  34  ; "root_path"
0094    CALL     8   0   2
0095    CALLM    7   2   0
0096    TSETS    7   6  35  ; "text"
0097    UGET     7   1      ; Screen
0098    MOV      8   7
0099    TGETS    7   7   4  ; "getWidth"
0100    CALL     7   2   2
0101    UGET     8   3      ; Size
0102    TGETS    8   8  17  ; "padding"
0103    TGETS    8   8  36  ; "small"
0104    MULNV    8   8   0  ; 2
0105    SUBVV    7   7   8
0106    TSETS    7   6  37  ; "max_width"
0107    CALL     4   2   3
0108    TSETS    4   0  27  ; "path_text"
0109    UGET     4   8      ; FrameContainer
0110    MOV      5   4
0111    TGETS    4   4  13  ; "new"
0112    TDUP     6  39
0113    UGET     7   9      ; VerticalGroup
0114    MOV      8   7
0115    TGETS    7   7  13  ; "new"
0116    TNEW     9   4
0117    UGET    10  10      ; CenterContainer
0118    MOV     11  10
0119    TGETS   10  10  13  ; "new"
0120    TDUP    12  42
0121    TDUP    13  40
0122    UGET    14   1      ; Screen
0123    MOV     15  14
0124    TGETS   14  14   4  ; "getWidth"
0125    CALL    14   2   2
0126    TSETS   14  13  41  ; "w"
0127    TSETS   13  12  43  ; "dimen"
0128    UGET    13  11      ; HorizontalGroup
0129    MOV     14  13
0130    TGETS   13  13  13  ; "new"
0131    TNEW    15   4
0132    TSETB    2  15   1
0133    UGET    16   9      ; VerticalGroup
0134    MOV     17  16
0135    TGETS   16  16  13  ; "new"
0136    TNEW    18   3
0137    UGET    19  12      ; Button
0138    MOV     20  19
0139    TGETS   19  19  13  ; "new"
0140    TDUP    21  44
0141    TGETS   22   0  45  ; "title"
0142    TSETS   22  21  35  ; "text"
0143    UGET    22   1      ; Screen
0144    MOV     23  22
0145    TGETS   22  22   4  ; "getWidth"
0146    CALL    22   2   2
0147    MULNV   23   1   0  ; 2
0148    SUBVV   22  22  23
0149    UGET    23   3      ; Size
0150    TGETS   23  23  17  ; "padding"
0151    TGETS   23  23  19  ; "large"
0152    MULNV   23  23   1  ; 4
0153    SUBVV   22  22  23
0154    TSETS   22  21  15  ; "width"
0155    CALL    19   0   3
0156    TSETM   19   2      ; 1
0157    CALL    16   2   3
0158    TSETB   16  15   2
0159    TSETB    3  15   3
0160    CALL    13   0   3
0161    TSETM   13   2      ; 1
0162    CALL    10   2   3
0163    TSETB   10   9   1
0164    UGET    10  10      ; CenterContainer
0165    MOV     11  10
0166    TGETS   10  10  13  ; "new"
0167    TDUP    12  47
0168    TDUP    13  46
0169    UGET    14   1      ; Screen
0170    MOV     15  14
0171    TGETS   14  14   4  ; "getWidth"
0172    CALL    14   2   2
0173    TSETS   14  13  41  ; "w"
0174    TSETS   13  12  43  ; "dimen"
0175    TGETS   13   0  27  ; "path_text"
0176    TSETB   13  12   1
0177    CALL    10   2   3
0178    TSETB   10   9   2
0179    UGET    10  13      ; VerticalSpan
0180    MOV     11  10
0181    TGETS   10  10  13  ; "new"
0182    TDUP    12  48
0183    UGET    13   1      ; Screen
0184    MOV     14  13
0185    TGETS   13  13  12  ; "scaleBySize"
0186    KSHORT  15   5
0187    CALL    13   2   3
0188    TSETS   13  12  15  ; "width"
0189    CALL    10   0   3
0190    TSETM   10   3      ; 3
0191    CALL     7   0   3
0192    TSETM    7   2      ; 1
0193    CALL     4   2   3
0194    TSETS    4   0  38  ; "banner"
0195    GGET     4  49      ; "G_reader_settings"
0196    MOV      5   4
0197    TGETS    4   4  50  ; "readSetting"
0198    KSTR     6  51      ; "show_hidden"
0199    CALL     4   2   3
0200    ISNEP    4   0
0201    JMP      5 => 0205
0202    GGET     5  52      ; "DSHOWHIDDENFILES"
0203    IST          5
0204    JMP      6 => 0206
0205 => MOV      5   4
0206 => GGET     6  49      ; "G_reader_settings"
0207    MOV      7   6
0208    TGETS    6   6  50  ; "readSetting"
0209    KSTR     8  53      ; "show_unsupported"
0210    CALL     6   2   3
0211    UGET     7  14      ; FileChooser
0212    MOV      8   7
0213    TGETS    7   7  13  ; "new"
0214    TDUP     9  54
0215    TGETS   10   0  34  ; "root_path"
0216    TSETS   10   9  55  ; "path"
0217    TGETS   10   0  56  ; "focused_file"
0218    TSETS   10   9  57  ; "focused_path"
0219    GGET    10  49      ; "G_reader_settings"
0220    MOV     11  10
0221    TGETS   10  10  50  ; "readSetting"
0222    KSTR    12  58      ; "collate"
0223    CALL    10   2   3
0224    IST         10
0225    JMP     11 => 0227
0226    KSTR    10  59      ; "strcoll"
0227 => TSETS   10   9  58  ; "collate"
0228    GGET    10  49      ; "G_reader_settings"
0229    MOV     11  10
0230    TGETS   10  10  60  ; "isTrue"
0231    KSTR    12  61      ; "reverse_collate"
0232    CALL    10   2   3
0233    TSETS   10   9  61  ; "reverse_collate"
0234    TGETS   10   0  11  ; "show_parent"
0235    TSETS   10   9  11  ; "show_parent"
0236    TSETS    5   9  51  ; "show_hidden"
0237    UGET    10   1      ; Screen
0238    MOV     11  10
0239    TGETS   10  10   4  ; "getWidth"
0240    CALL    10   2   2
0241    TSETS   10   9  15  ; "width"
0242    UGET    10   1      ; Screen
0243    MOV     11  10
0244    TGETS   10  10   6  ; "getHeight"
0245    CALL    10   2   2
0246    TGETS   11   0  38  ; "banner"
0247    MOV     12  11
0248    TGETS   11  11  62  ; "getSize"
0249    CALL    11   2   2
0250    TGETS   11  11  63  ; "h"
0251    SUBVV   10  10  11
0252    TSETS   10   9  16  ; "height"
0253    GGET    10  49      ; "G_reader_settings"
0254    MOV     11  10
0255    TGETS   10  10  50  ; "readSetting"
0256    KSTR    12  64      ; "items_per_page"
0257    CALL    10   2   3
0258    TSETS   10   9  65  ; "perpage"
0259    TSETS    6   9  53  ; "show_unsupported"
0260    FNEW    10  66      ; filemanager.lua:174
0261    TSETS   10   9  67  ; "file_filter"
0262    FNEW    10  68      ; filemanager.lua:179
0263    TSETS   10   9  69  ; "close_callback"
0264    CALL     7   2   3
0265    TSETS    7   0  70  ; "file_chooser"
0266    KPRI     8   0
0267    TSETS    8   0  56  ; "focused_file"
0268    FNEW     8  72      ; filemanager.lua:188
0269    TSETS    8   7  71  ; "onPathChanged"
0270    FNEW     8  74      ; filemanager.lua:196
0271    TSETS    8   7  73  ; "onFileSelect"
0272    FNEW     8  75      ; filemanager.lua:202
0273    FNEW     9  76      ; filemanager.lua:203
0274    FNEW    10  77      ; filemanager.lua:204
0275    FNEW    11  78      ; filemanager.lua:205
0276    FNEW    12  79      ; filemanager.lua:206
0277    FNEW    13  80      ; filemanager.lua:207
0278    MOV     14   0
0279    FNEW    15  82      ; filemanager.lua:210
0280    TSETS   15   7  81  ; "onFileHold"
0281    UGET    15   9      ; VerticalGroup
0282    MOV     16  15
0283    TGETS   15  15  13  ; "new"
0284    TNEW    17   3
0285    TGETS   18   0  38  ; "banner"
0286    TSETB   18  17   1
0287    TSETB    7  17   2
0288    CALL    15   2   3
0289    TSETS   15   0  83  ; "layout"
0290    UGET    15   8      ; FrameContainer
0291    MOV     16  15
0292    TGETS   15  15  13  ; "new"
0293    TDUP    17  84
0294    UGET    18  33      ; Blitbuffer
0295    TGETS   18  18  85  ; "COLOR_WHITE"
0296    TSETS   18  17  86  ; "background"
0297    TGETS   18   0  83  ; "layout"
0298    TSETB   18  17   1
0299    CALL    15   2   3
0300    TSETB   15   0   1
0301    UGET    16  34      ; FileManagerMenu
0302    MOV     17  16
0303    TGETS   16  16  13  ; "new"
0304    TDUP    18  88
0305    TSETS    0  18  89  ; "ui"
0306    CALL    16   2   3
0307    TSETS   16   0  87  ; "menu"
0308    TNEW    16   3
0309    UGET    17  35      ; Screenshoter
0310    MOV     18  17
0311    TGETS   17  17  13  ; "new"
0312    TDUP    19  91
0313    CALL    17   0   3
0314    TSETM   17   2      ; 1
0315    TSETS   16   0  90  ; "active_widgets"
0316    GGET    16  92      ; "table"
0317    TGETS   16  16  93  ; "insert"
0318    MOV     17   0
0319    TGETS   18   0  87  ; "menu"
0320    CALL    16   1   3
0321    GGET    16  92      ; "table"
0322    TGETS   16  16  93  ; "insert"
0323    MOV     17   0
0324    UGET    18  36      ; FileManagerHistory
0325    MOV     19  18
0326    TGETS   18  18  13  ; "new"
0327    TDUP    20  94
0328    TSETS    0  20  89  ; "ui"
0329    CALL    18   0   3
0330    CALLM   16   1   1
0331    GGET    16  92      ; "table"
0332    TGETS   16  16  93  ; "insert"
0333    MOV     17   0
0334    UGET    18  37      ; FileManagerCollection
0335    MOV     19  18
0336    TGETS   18  18  13  ; "new"
0337    TDUP    20  95
0338    TSETS    0  20  89  ; "ui"
0339    CALL    18   0   3
0340    CALLM   16   1   1
0341    GGET    16  92      ; "table"
0342    TGETS   16  16  93  ; "insert"
0343    MOV     17   0
0344    UGET    18  38      ; FileManagerFileSearcher
0345    MOV     19  18
0346    TGETS   18  18  13  ; "new"
0347    TDUP    20  96
0348    TSETS    0  20  89  ; "ui"
0349    CALL    18   0   3
0350    CALLM   16   1   1
0351    GGET    16  92      ; "table"
0352    TGETS   16  16  93  ; "insert"
0353    MOV     17   0
0354    UGET    18  39      ; FileManagerShortcuts
0355    MOV     19  18
0356    TGETS   18  18  13  ; "new"
0357    TDUP    20  97
0358    TSETS    0  20  89  ; "ui"
0359    CALL    18   0   3
0360    CALLM   16   1   1
0361    GGET    16  92      ; "table"
0362    TGETS   16  16  93  ; "insert"
0363    MOV     17   0
0364    UGET    18  40      ; ReaderDictionary
0365    MOV     19  18
0366    TGETS   18  18  13  ; "new"
0367    TDUP    20  98
0368    TSETS    0  20  89  ; "ui"
0369    CALL    18   0   3
0370    CALLM   16   1   1
0371    GGET    16  92      ; "table"
0372    TGETS   16  16  93  ; "insert"
0373    MOV     17   0
0374    UGET    18  41      ; ReaderWikipedia
0375    MOV     19  18
0376    TGETS   18  18  13  ; "new"
0377    TDUP    20  99
0378    TSETS    0  20  89  ; "ui"
0379    CALL    18   0   3
0380    CALLM   16   1   1
0381    GGET    16  92      ; "table"
0382    TGETS   16  16  93  ; "insert"
0383    MOV     17   0
0384    UGET    18  42      ; ReaderDeviceStatus
0385    MOV     19  18
0386    TGETS   18  18  13  ; "new"
0387    TDUP    20 100
0388    TSETS    0  20  89  ; "ui"
0389    CALL    18   0   3
0390    CALLM   16   1   1
0391    GGET    16 101      ; "ipairs"
0392    UGET    17  43      ; PluginLoader
0393    MOV     18  17
0394    TGETS   17  17 102  ; "loadPlugins"
0395    CALL    17   0   2
0396    CALLM   16   4   0
0397    JMP     19 => 0426
0398 => TGETS   21  20 103  ; "is_doc_only"
0399    IST         21
0400    JMP     21 => 0426
0401    UGET    21  43      ; PluginLoader
0402    MOV     22  21
0403    TGETS   21  21 104  ; "createPluginInstance"
0404    MOV     23  20
0405    TDUP    24 105
0406    TSETS    0  24  89  ; "ui"
0407    CALL    21   3   4
0408    ISF         21
0409    JMP     23 => 0426
0410    TGETS   23  20 106  ; "name"
0411    ISF         23
0412    JMP     24 => 0414
0413    TSETV   22   0  23
0414 => GGET    24  92      ; "table"
0415    TGETS   24  24  93  ; "insert"
0416    MOV     25   0
0417    MOV     26  22
0418    CALL    24   1   3
0419    UGET    24  44      ; logger
0420    TGETS   24  24 107  ; "info"
0421    KSTR    25 108      ; "FM loaded plugin"
0422    MOV     26  23
0423    KSTR    27 109      ; "at"
0424    TGETS   28  20  55  ; "path"
0425    CALL    24   1   5
0426 => ITERC   19   3   3
0427    ITERL   19 => 0398
0428    UGET    16   0      ; Device
0429    MOV     17  16
0430    TGETS   16  16   0  ; "isTouchDevice"
0431    CALL    16   2   2
0432    ISF         16
0433    JMP     17 => 0444
0434    GGET    16  92      ; "table"
0435    TGETS   16  16  93  ; "insert"
0436    MOV     17   0
0437    UGET    18  45      ; ReaderGesture
0438    MOV     19  18
0439    TGETS   18  18  13  ; "new"
0440    TDUP    20 110
0441    TSETS    0  20  89  ; "ui"
0442    CALL    18   0   3
0443    CALLM   16   1   1
0444 => UGET    16   0      ; Device
0445    MOV     17  16
0446    TGETS   16  16 111  ; "hasKeys"
0447    CALL    16   2   2
0448    ISF         16
0449    JMP     17 => 0461
0450    TGETS   16   0 112  ; "key_events"
0451    TDUP    17 115
0452    TDUP    18 114
0453    TSETB   18  17   1
0454    TSETS   17  16 113  ; "Home"
0455    TGETS   16   0  70  ; "file_chooser"
0456    TGETS   16  16 112  ; "key_events"
0457    TDUP    17 118
0458    TDUP    18 117
0459    TSETB   18  17   1
0460    TSETS   17  16 116  ; "Back"
0461 => MOV     17   0
0462    TGETS   16   0 119  ; "handleEvent"
0463    UGET    18  46      ; Event
0464    MOV     19  18
0465    TGETS   18  18  13  ; "new"
0466    KSTR    20 120      ; "SetDimensions"
0467    TGETS   21   0  43  ; "dimen"
0468    CALL    18   0   4
0469    CALLM   16   1   1
0470    UCLO     0 => 0471
0471 => RET0     0   1

-- BYTECODE -- filemanager.lua:491-493
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "onClose"
0004    CALL     0   1   2
0005    RET0     0   1

-- BYTECODE -- filemanager.lua:479-502
0001    GGET     1   0      ; "G_reader_settings"
0002    MOV      2   1
0003    TGETS    1   1   1  ; "readSetting"
0004    KSTR     3   2      ; "back_to_exit"
0005    CALL     1   2   3
0006    IST          1
0007    JMP      2 => 0009
0008    KSTR     1   3      ; "prompt"
0009 => GGET     2   0      ; "G_reader_settings"
0010    MOV      3   2
0011    TGETS    2   2   1  ; "readSetting"
0012    KSTR     4   4      ; "back_in_filemanager"
0013    CALL     2   2   3
0014    IST          2
0015    JMP      3 => 0017
0016    KSTR     2   5      ; "default"
0017 => ISNES    2   5      ; "default"
0018    JMP      3 => 0055
0019    ISNES    1   6      ; "always"
0020    JMP      3 => 0025
0021    MOV      4   0
0022    TGETS    3   0   7  ; "onClose"
0023    UCLO     0 => 0070
0024    JMP      3 => 0068
0025 => ISNES    1   8      ; "disable"
0026    JMP      3 => 0030
0027    KPRI     3   2
0028    UCLO     0 => 0071
0029    JMP      3 => 0068
0030 => ISNES    1   3      ; "prompt"
0031    JMP      3 => 0068
0032    UGET     3   0      ; UIManager
0033    MOV      4   3
0034    TGETS    3   3   9  ; "show"
0035    UGET     5   1      ; ConfirmBox
0036    MOV      6   5
0037    TGETS    5   5  10  ; "new"
0038    TDUP     7  12
0039    UGET     8   2      ; _
0040    KSTR     9  11      ; "Exit KOReader?"
0041    CALL     8   2   2
0042    TSETS    8   7  13  ; "text"
0043    UGET     8   2      ; _
0044    KSTR     9  14      ; "Exit"
0045    CALL     8   2   2
0046    TSETS    8   7  15  ; "ok_text"
0047    FNEW     8  16      ; filemanager.lua:491
0048    TSETS    8   7  17  ; "ok_callback"
0049    CALL     5   0   3
0050    CALLM    3   1   1
0051    KPRI     3   2
0052    UCLO     0 => 0053
0053 => RET1     3   2
0054    JMP      3 => 0068
0055 => ISNES    2  18      ; "parent_folder"
0056    JMP      3 => 0068
0057    MOV      4   0
0058    TGETS    3   0  19  ; "changeToPath"
0059    GGET     5  20      ; "string"
0060    TGETS    5   5  21  ; "format"
0061    KSTR     6  22      ; "%s/.."
0062    TGETS    7   0  23  ; "path"
0063    CALL     5   0   3
0064    CALLM    3   1   1
0065    KPRI     3   2
0066    UCLO     0 => 0067
0067 => RET1     3   2
0068 => UCLO     0 => 0069
0069 => RET0     0   1
0070 => CALLT    3   2
0071 => RET1     3   2

-- BYTECODE -- filemanager.lua:504-507
0001    MOV      2   0
0002    TGETS    1   0   0  ; "tapPlus"
0003    CALL     1   1   2
0004    KPRI     1   2
0005    RET1     1   2

-- BYTECODE -- filemanager.lua:509-517
0001    UGET     2   0      ; BD
0002    TGETS    2   2   0  ; "flipDirectionIfMirroredUILayout"
0003    TGETS    3   1   1  ; "direction"
0004    CALL     2   2   2
0005    ISNES    2   2      ; "west"
0006    JMP      3 => 0012
0007    TGETS    3   0   3  ; "file_chooser"
0008    MOV      4   3
0009    TGETS    3   3   4  ; "onNextPage"
0010    CALL     3   1   2
0011    JMP      3 => 0018
0012 => ISNES    2   5      ; "east"
0013    JMP      3 => 0018
0014    TGETS    3   0   3  ; "file_chooser"
0015    MOV      4   3
0016    TGETS    3   3   6  ; "onPrevPage"
0017    CALL     3   1   2
0018 => KPRI     3   2
0019    RET1     3   2

-- BYTECODE -- filemanager.lua:533-535
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "closeInputDialog"
0004    CALL     0   1   2
0005    RET0     0   1

-- BYTECODE -- filemanager.lua:539-545
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "closeInputDialog"
0004    CALL     0   1   2
0005    UGET     0   0      ; self
0006    TGETS    0   0   1  ; "input_dialog"
0007    MOV      1   0
0008    TGETS    0   0   2  ; "getInputText"
0009    CALL     0   2   2
0010    ISF          0
0011    JMP      1 => 0022
0012    ISEQS    0   3      ; ""
0013    JMP      1 => 0022
0014    UGET     1   0      ; self
0015    MOV      2   1
0016    TGETS    1   1   4  ; "createFolder"
0017    UGET     3   0      ; self
0018    TGETS    3   3   5  ; "file_chooser"
0019    TGETS    3   3   6  ; "path"
0020    MOV      4   0
0021    CALL     1   1   4
0022 => RET0     0   1

-- BYTECODE -- filemanager.lua:524-552
0001    UGET     0   0      ; UIManager
0002    MOV      1   0
0003    TGETS    0   0   0  ; "close"
0004    UGET     2   1      ; self
0005    TGETS    2   2   1  ; "file_dialog"
0006    CALL     0   1   3
0007    UGET     0   1      ; self
0008    UGET     1   2      ; InputDialog
0009    MOV      2   1
0010    TGETS    1   1   3  ; "new"
0011    TDUP     3   5
0012    UGET     4   3      ; _
0013    KSTR     5   4      ; "Create new folder"
0014    CALL     4   2   2
0015    TSETS    4   3   6  ; "title"
0016    TNEW     4   3
0017    TNEW     5   3
0018    TDUP     6   8
0019    UGET     7   3      ; _
0020    KSTR     8   7      ; "Cancel"
0021    CALL     7   2   2
0022    TSETS    7   6   9  ; "text"
0023    FNEW     7  10      ; filemanager.lua:533
0024    TSETS    7   6  11  ; "callback"
0025    TSETB    6   5   1
0026    TDUP     6  13
0027    UGET     7   3      ; _
0028    KSTR     8  12      ; "Create"
0029    CALL     7   2   2
0030    TSETS    7   6   9  ; "text"
0031    FNEW     7  14      ; filemanager.lua:539
0032    TSETS    7   6  11  ; "callback"
0033    TSETB    6   5   2
0034    TSETB    5   4   1
0035    TSETS    4   3  15  ; "buttons"
0036    CALL     1   2   3
0037    TSETS    1   0   2  ; "input_dialog"
0038    UGET     0   0      ; UIManager
0039    MOV      1   0
0040    TGETS    0   0  16  ; "show"
0041    UGET     2   1      ; self
0042    TGETS    2   2   2  ; "input_dialog"
0043    CALL     0   1   3
0044    UGET     0   1      ; self
0045    TGETS    0   0   2  ; "input_dialog"
0046    MOV      1   0
0047    TGETS    0   0  17  ; "onShowKeyboard"
0048    CALL     0   1   2
0049    RET0     0   1

-- BYTECODE -- filemanager.lua:559-563
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "pasteHere"
0004    UGET     2   0      ; self
0005    TGETS    2   2   1  ; "file_chooser"
0006    TGETS    2   2   2  ; "path"
0007    CALL     0   1   3
0008    UGET     0   0      ; self
0009    MOV      1   0
0010    TGETS    0   0   3  ; "onRefresh"
0011    CALL     0   1   2
0012    UGET     0   1      ; UIManager
0013    MOV      1   0
0014    TGETS    0   0   4  ; "close"
0015    UGET     2   0      ; self
0016    TGETS    2   2   5  ; "file_dialog"
0017    CALL     0   1   3
0018    RET0     0   1

-- BYTECODE -- filemanager.lua:569-572
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "setHome"
0004    UGET     2   0      ; self
0005    TGETS    2   2   1  ; "file_chooser"
0006    TGETS    2   2   2  ; "path"
0007    CALL     0   1   3
0008    UGET     0   1      ; UIManager
0009    MOV      1   0
0010    TGETS    0   0   3  ; "close"
0011    UGET     2   0      ; self
0012    TGETS    2   2   4  ; "file_dialog"
0013    CALL     0   1   3
0014    RET0     0   1

-- BYTECODE -- filemanager.lua:578-581
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "goHome"
0004    CALL     0   1   2
0005    UGET     0   1      ; UIManager
0006    MOV      1   0
0007    TGETS    0   0   1  ; "close"
0008    UGET     2   0      ; self
0009    TGETS    2   2   2  ; "file_dialog"
0010    CALL     0   1   3
0011    RET0     0   1

-- BYTECODE -- filemanager.lua:587-590
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "openRandomFile"
0004    UGET     2   0      ; self
0005    TGETS    2   2   1  ; "file_chooser"
0006    TGETS    2   2   2  ; "path"
0007    CALL     0   1   3
0008    UGET     0   1      ; UIManager
0009    MOV      1   0
0010    TGETS    0   0   3  ; "close"
0011    UGET     2   0      ; self
0012    TGETS    2   2   4  ; "file_dialog"
0013    CALL     0   1   3
0014    RET0     0   1

-- BYTECODE -- filemanager.lua:596-599
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "handleEvent"
0004    UGET     2   1      ; Event
0005    MOV      3   2
0006    TGETS    2   2   1  ; "new"
0007    KSTR     4   2      ; "ShowFolderShortcutsDialog"
0008    CALL     2   0   3
0009    CALLM    0   1   1
0010    UGET     0   2      ; UIManager
0011    MOV      1   0
0012    TGETS    0   0   3  ; "close"
0013    UGET     2   0      ; self
0014    TGETS    2   2   4  ; "file_dialog"
0015    CALL     0   1   3
0016    RET0     0   1

-- BYTECODE -- filemanager.lua:609-613
0001    UGET     0   0      ; self
0002    TGETS    0   0   0  ; "file_chooser"
0003    TGETS    0   0   1  ; "path"
0004    UGET     1   1      ; UIManager
0005    MOV      2   1
0006    TGETS    1   1   2  ; "close"
0007    UGET     3   0      ; self
0008    TGETS    3   3   3  ; "file_dialog"
0009    CALL     1   1   3
0010    UGET     1   2      ; Device
0011    TGETS    1   1   4  ; "importFile"
0012    MOV      2   0
0013    CALL     1   1   2
0014    RET0     0   1

-- BYTECODE -- filemanager.lua:519-624
0001    TNEW     1   7
0002    TNEW     2   3
0003    TDUP     3   1
0004    UGET     4   0      ; _
0005    KSTR     5   0      ; "New folder"
0006    CALL     4   2   2
0007    TSETS    4   3   2  ; "text"
0008    FNEW     4   3      ; filemanager.lua:524
0009    TSETS    4   3   4  ; "callback"
0010    TSETB    3   2   1
0011    TSETB    2   1   1
0012    TNEW     2   3
0013    TDUP     3   6
0014    UGET     4   0      ; _
0015    KSTR     5   5      ; "Paste"
0016    CALL     4   2   2
0017    TSETS    4   3   2  ; "text"
0018    TGETS    4   0   7  ; "clipboard"
0019    ISF          4
0020    JMP      5 => 0023
0021    KPRI     4   2
0022    JMP      5 => 0024
0023 => KPRI     4   1
0024 => TSETS    4   3   8  ; "enabled"
0025    FNEW     4   9      ; filemanager.lua:559
0026    TSETS    4   3   4  ; "callback"
0027    TSETB    3   2   1
0028    TSETB    2   1   2
0029    TNEW     2   3
0030    TDUP     3  11
0031    UGET     4   0      ; _
0032    KSTR     5  10      ; "Set as HOME directory"
0033    CALL     4   2   2
0034    TSETS    4   3   2  ; "text"
0035    FNEW     4  12      ; filemanager.lua:569
0036    TSETS    4   3   4  ; "callback"
0037    TSETB    3   2   1
0038    TSETB    2   1   3
0039    TNEW     2   3
0040    TDUP     3  14
0041    UGET     4   0      ; _
0042    KSTR     5  13      ; "Go to HOME directory"
0043    CALL     4   2   2
0044    TSETS    4   3   2  ; "text"
0045    FNEW     4  15      ; filemanager.lua:578
0046    TSETS    4   3   4  ; "callback"
0047    TSETB    3   2   1
0048    TSETB    2   1   4
0049    TNEW     2   3
0050    TDUP     3  17
0051    UGET     4   0      ; _
0052    KSTR     5  16      ; "Open random document"
0053    CALL     4   2   2
0054    TSETS    4   3   2  ; "text"
0055    FNEW     4  18      ; filemanager.lua:587
0056    TSETS    4   3   4  ; "callback"
0057    TSETB    3   2   1
0058    TSETB    2   1   5
0059    TNEW     2   3
0060    TDUP     3  20
0061    UGET     4   0      ; _
0062    KSTR     5  19      ; "Folder shortcuts"
0063    CALL     4   2   2
0064    TSETS    4   3   2  ; "text"
0065    FNEW     4  21      ; filemanager.lua:596
0066    TSETS    4   3   4  ; "callback"
0067    TSETB    3   2   1
0068    TSETB    2   1   6
0069    UGET     2   4      ; Device
0070    MOV      3   2
0071    TGETS    2   2  22  ; "canImportFiles"
0072    CALL     2   2   2
0073    ISF          2
0074    JMP      3 => 0095
0075    GGET     2  23      ; "table"
0076    TGETS    2   2  24  ; "insert"
0077    MOV      3   1
0078    KSHORT   4   3
0079    TNEW     5   3
0080    TDUP     6  26
0081    UGET     7   0      ; _
0082    KSTR     8  25      ; "Import files here"
0083    CALL     7   2   2
0084    TSETS    7   6   2  ; "text"
0085    UGET     7   4      ; Device
0086    TGETS    7   7  27  ; "isValidPath"
0087    TGETS    8   0  28  ; "file_chooser"
0088    TGETS    8   8  29  ; "path"
0089    CALL     7   2   2
0090    TSETS    7   6   8  ; "enabled"
0091    FNEW     7  30      ; filemanager.lua:609
0092    TSETS    7   6   4  ; "callback"
0093    TSETB    6   5   1
0094    CALL     2   1   4
0095 => UGET     2   5      ; ButtonDialogTitle
0096    MOV      3   2
0097    TGETS    2   2  32  ; "new"
0098    TDUP     4  35
0099    UGET     5   6      ; BD
0100    TGETS    5   5  33  ; "dirpath"
0101    UGET     6   7      ; filemanagerutil
0102    TGETS    6   6  34  ; "abbreviate"
0103    TGETS    7   0  28  ; "file_chooser"
0104    TGETS    7   7  29  ; "path"
0105    CALL     6   0   2
0106    CALLM    5   2   0
0107    TSETS    5   4  36  ; "title"
0108    TSETS    1   4  37  ; "buttons"
0109    CALL     2   2   3
0110    TSETS    2   0  31  ; "file_dialog"
0111    UGET     2   1      ; UIManager
0112    MOV      3   2
0113    TGETS    2   2  38  ; "show"
0114    TGETS    4   0  31  ; "file_dialog"
0115    CALL     2   1   3
0116    UCLO     0 => 0117
0117 => RET0     0   1

-- BYTECODE -- filemanager.lua:626-642
0001    UGET     3   0      ; Screen
0002    MOV      4   3
0003    TGETS    3   3   1  ; "getSize"
0004    CALL     3   2   2
0005    TSETS    3   0   0  ; "dimen"
0006    ISTC     3   1
0007    JMP      3 => 0010
0008    TGETS    3   0   3  ; "file_chooser"
0009    TGETS    3   3   4  ; "path"
0010 => TSETS    3   0   2  ; "root_path"
0011    TNEW     3   0
0012    GGET     4   5      ; "pairs"
0013    TGETS    5   0   3  ; "file_chooser"
0014    TGETS    5   5   6  ; "path_items"
0015    CALL     4   4   2
0016    ISNEXT   7 => 0018
0017 => TSETV    8   3   7
0018 => ITERN    7   3   3
0019    ITERL    7 => 0017
0020    TSETS    2   0   7  ; "focused_file"
0021    MOV      5   0
0022    TGETS    4   0   8  ; "init"
0023    CALL     4   1   2
0024    TGETS    4   0   3  ; "file_chooser"
0025    TSETS    3   4   6  ; "path_items"
0026    RET0     0   1

-- BYTECODE -- filemanager.lua:644-647
0001    TGETS    1   0   0  ; "file_chooser"
0002    MOV      2   1
0003    TGETS    1   1   1  ; "toggleHiddenFiles"
0004    CALL     1   1   2
0005    GGET     1   2      ; "G_reader_settings"
0006    MOV      2   1
0007    TGETS    1   1   3  ; "saveSetting"
0008    KSTR     3   4      ; "show_hidden"
0009    TGETS    4   0   0  ; "file_chooser"
0010    TGETS    4   4   4  ; "show_hidden"
0011    CALL     1   1   4
0012    RET0     0   1

-- BYTECODE -- filemanager.lua:649-652
0001    TGETS    1   0   0  ; "file_chooser"
0002    MOV      2   1
0003    TGETS    1   1   1  ; "toggleUnsupportedFiles"
0004    CALL     1   1   2
0005    GGET     1   2      ; "G_reader_settings"
0006    MOV      2   1
0007    TGETS    1   1   3  ; "saveSetting"
0008    KSTR     3   4      ; "show_unsupported"
0009    TGETS    4   0   0  ; "file_chooser"
0010    TGETS    4   4   4  ; "show_unsupported"
0011    CALL     1   1   4
0012    RET0     0   1

-- BYTECODE -- filemanager.lua:654-657
0001    TGETS    2   0   0  ; "file_chooser"
0002    MOV      3   2
0003    TGETS    2   2   1  ; "setCollate"
0004    MOV      4   1
0005    CALL     2   1   3
0006    GGET     2   2      ; "G_reader_settings"
0007    MOV      3   2
0008    TGETS    2   2   3  ; "saveSetting"
0009    KSTR     4   4      ; "collate"
0010    TGETS    5   0   0  ; "file_chooser"
0011    TGETS    5   5   4  ; "collate"
0012    CALL     2   1   4
0013    RET0     0   1

-- BYTECODE -- filemanager.lua:659-662
0001    TGETS    1   0   0  ; "file_chooser"
0002    MOV      2   1
0003    TGETS    1   1   1  ; "toggleReverseCollate"
0004    CALL     1   1   2
0005    GGET     1   2      ; "G_reader_settings"
0006    MOV      2   1
0007    TGETS    1   1   3  ; "saveSetting"
0008    KSTR     3   4      ; "reverse_collate"
0009    TGETS    4   0   0  ; "file_chooser"
0010    TGETS    4   4   4  ; "reverse_collate"
0011    CALL     1   1   4
0012    RET0     0   1

-- BYTECODE -- filemanager.lua:664-673
0001    UGET     1   0      ; logger
0002    TGETS    1   1   0  ; "dbg"
0003    KSTR     2   1      ; "close filemanager"
0004    CALL     1   1   2
0005    MOV      2   0
0006    TGETS    1   0   2  ; "handleEvent"
0007    UGET     3   1      ; Event
0008    MOV      4   3
0009    TGETS    3   3   3  ; "new"
0010    KSTR     5   4      ; "SaveSettings"
0011    CALL     3   0   3
0012    CALLM    1   1   1
0013    GGET     1   5      ; "G_reader_settings"
0014    MOV      2   1
0015    TGETS    1   1   6  ; "flush"
0016    CALL     1   1   2
0017    UGET     1   2      ; UIManager
0018    MOV      2   1
0019    TGETS    1   1   7  ; "close"
0020    MOV      3   0
0021    CALL     1   1   3
0022    TGETS    1   0   8  ; "onExit"
0023    ISF          1
0024    JMP      2 => 0028
0025    MOV      2   0
0026    TGETS    1   0   8  ; "onExit"
0027    CALL     1   1   2
0028 => KPRI     1   2
0029    RET1     1   2

-- BYTECODE -- filemanager.lua:675-678
0001    TGETS    1   0   0  ; "file_chooser"
0002    MOV      2   1
0003    TGETS    1   1   1  ; "refreshPath"
0004    CALL     1   1   2
0005    KPRI     1   2
0006    RET1     1   2

-- BYTECODE -- filemanager.lua:680-707
0001    GGET     1   0      ; "G_reader_settings"
0002    MOV      2   1
0003    TGETS    1   1   1  ; "readSetting"
0004    KSTR     3   2      ; "home_dir"
0005    CALL     1   2   3
0006    ISF          1
0007    JMP      2 => 0015
0008    UGET     2   0      ; lfs
0009    TGETS    2   2   3  ; "attributes"
0010    MOV      3   1
0011    KSTR     4   4      ; "mode"
0012    CALL     2   2   3
0013    ISEQS    2   5      ; "directory"
0014    JMP      2 => 0057
0015 => UGET     2   1      ; Device
0016    MOV      3   2
0017    TGETS    2   2   6  ; "isKindle"
0018    CALL     2   2   2
0019    ISF          2
0020    JMP      3 => 0023
0021    KSTR     1   7      ; "/mnt/us"
0022    JMP      2 => 0057
0023 => UGET     2   1      ; Device
0024    MOV      3   2
0025    TGETS    2   2   8  ; "isKobo"
0026    CALL     2   2   2
0027    ISF          2
0028    JMP      3 => 0031
0029    KSTR     1   9      ; "/mnt/onboard"
0030    JMP      2 => 0057
0031 => UGET     2   1      ; Device
0032    MOV      3   2
0033    TGETS    2   2  10  ; "isPocketBook"
0034    CALL     2   2   2
0035    ISF          2
0036    JMP      3 => 0039
0037    KSTR     1  11      ; "/mnt/ext1"
0038    JMP      2 => 0057
0039 => UGET     2   1      ; Device
0040    MOV      3   2
0041    TGETS    2   2  12  ; "isCervantes"
0042    CALL     2   2   2
0043    ISF          2
0044    JMP      3 => 0047
0045    KSTR     1  13      ; "/mnt/public"
0046    JMP      2 => 0057
0047 => UGET     2   1      ; Device
0048    MOV      3   2
0049    TGETS    2   2  14  ; "isAndroid"
0050    CALL     2   2   2
0051    ISF          2
0052    JMP      3 => 0057
0053    UGET     2   1      ; Device
0054    TGETS    2   2  15  ; "external_storage"
0055    CALL     2   2   1
0056    MOV      1   2
0057 => ISF          1
0058    JMP      2 => 0079
0059    TGETS    2   0  16  ; "file_chooser"
0060    TGETS    2   2  17  ; "path"
0061    ISF          2
0062    JMP      3 => 0073
0063    TGETS    2   0  16  ; "file_chooser"
0064    TGETS    2   2  17  ; "path"
0065    ISNEV    1   2
0066    JMP      2 => 0073
0067    TGETS    2   0  16  ; "file_chooser"
0068    MOV      3   2
0069    TGETS    2   2  18  ; "onGotoPage"
0070    KSHORT   4   1
0071    CALL     2   1   3
0072    JMP      2 => 0082
0073 => TGETS    2   0  16  ; "file_chooser"
0074    MOV      3   2
0075    TGETS    2   2  19  ; "changeToPath"
0076    MOV      4   1
0077    CALL     2   1   3
0078    JMP      2 => 0082
0079 => MOV      3   0
0080    TGETS    2   0  20  ; "setHome"
0081    CALL     2   1   2
0082 => KPRI     2   2
0083    RET1     2   2

-- BYTECODE -- filemanager.lua:714-716
0001    GGET     0   0      ; "G_reader_settings"
0002    MOV      1   0
0003    TGETS    0   0   1  ; "saveSetting"
0004    KSTR     2   2      ; "home_dir"
0005    UGET     3   0      ; path
0006    CALL     0   1   4
0007    RET0     0   1

-- BYTECODE -- filemanager.lua:709-719
0001    IST          1
0002    JMP      2 => 0005
0003    TGETS    2   0   0  ; "file_chooser"
0004    TGETS    1   2   1  ; "path"
0005 => UGET     2   0      ; UIManager
0006    MOV      3   2
0007    TGETS    2   2   2  ; "show"
0008    UGET     4   1      ; ConfirmBox
0009    MOV      5   4
0010    TGETS    4   4   3  ; "new"
0011    TDUP     6   6
0012    UGET     7   2      ; T
0013    UGET     8   3      ; _
0014    KSTR     9   4      ; "Set '%1' as HOME directory?"
0015    CALL     8   2   2
0016    UGET     9   4      ; BD
0017    TGETS    9   9   5  ; "dirpath"
0018    MOV     10   1
0019    CALL     9   0   2
0020    CALLM    7   2   1
0021    TSETS    7   6   7  ; "text"
0022    UGET     7   3      ; _
0023    KSTR     8   8      ; "Set as HOME"
0024    CALL     7   2   2
0025    TSETS    7   6   9  ; "ok_text"
0026    FNEW     7  10      ; filemanager.lua:714
0027    TSETS    7   6  11  ; "ok_callback"
0028    CALL     4   0   3
0029    CALLM    2   1   1
0030    KPRI     2   2
0031    UCLO     0 => 0032
0032 => RET1     2   2

-- BYTECODE -- filemanager.lua:727-731
0001    UGET     0   0      ; FileManager
0002    TGETS    0   0   0  ; "instance"
0003    MOV      1   0
0004    TGETS    0   0   1  ; "onClose"
0005    CALL     0   1   2
0006    UGET     0   1      ; ReaderUI
0007    MOV      1   0
0008    TGETS    0   0   2  ; "showReader"
0009    UGET     2   2      ; random_file
0010    CALL     0   1   3
0011    RET0     0   1

-- BYTECODE -- filemanager.lua:734-736
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "openRandomFile"
0004    UGET     2   1      ; dir
0005    CALL     0   1   3
0006    RET0     0   1

-- BYTECODE -- filemanager.lua:721-744
0001    UGET     2   0      ; DocumentRegistry
0002    MOV      3   2
0003    TGETS    2   2   0  ; "getRandomFile"
0004    MOV      4   1
0005    KPRI     5   1
0006    CALL     2   2   4
0007    ISF          2
0008    JMP      3 => 0049
0009    UGET     3   1      ; UIManager
0010    MOV      4   3
0011    TGETS    3   3   1  ; "show"
0012    UGET     5   2      ; MultiConfirmBox
0013    MOV      6   5
0014    TGETS    5   5   2  ; "new"
0015    TDUP     7   6
0016    UGET     8   3      ; T
0017    UGET     9   4      ; _
0018    KSTR    10   3      ; "Do you want to open %1?"
0019    CALL     9   2   2
0020    UGET    10   5      ; BD
0021    TGETS   10  10   4  ; "filename"
0022    UGET    11   6      ; BaseUtil
0023    TGETS   11  11   5  ; "basename"
0024    MOV     12   2
0025    CALL    11   0   2
0026    CALLM   10   0   0
0027    CALLM    8   2   1
0028    TSETS    8   7   7  ; "text"
0029    UGET     8   4      ; _
0030    KSTR     9   8      ; "Open"
0031    CALL     8   2   2
0032    TSETS    8   7   9  ; "choice1_text"
0033    FNEW     8  10      ; filemanager.lua:727
0034    TSETS    8   7  11  ; "choice1_callback"
0035    UGET     8   4      ; _
0036    KSTR     9  12      ; "Another"
0037    CALL     8   2   2
0038    TSETS    8   7  13  ; "choice2_text"
0039    FNEW     8  14      ; filemanager.lua:734
0040    TSETS    8   7  15  ; "choice2_callback"
0041    CALL     5   0   3
0042    CALLM    3   1   1
0043    UGET     3   1      ; UIManager
0044    MOV      4   3
0045    TGETS    3   3  16  ; "close"
0046    TGETS    5   0  17  ; "file_dialog"
0047    CALL     3   1   3
0048    JMP      3 => 0062
0049 => UGET     3   1      ; UIManager
0050    MOV      4   3
0051    TGETS    3   3   1  ; "show"
0052    UGET     5   9      ; InfoMessage
0053    MOV      6   5
0054    TGETS    5   5   2  ; "new"
0055    TDUP     7  19
0056    UGET     8   4      ; _
0057    KSTR     9  18      ; "File not found"
0058    CALL     8   2   2
0059    TSETS    8   7   7  ; "text"
0060    CALL     5   0   3
0061    CALLM    3   1   1
0062 => UCLO     0 => 0063
0063 => RET0     0   1

-- BYTECODE -- filemanager.lua:746-749
0001    KPRI     2   1
0002    TSETS    2   0   0  ; "cutfile"
0003    TSETS    1   0   1  ; "clipboard"
0004    RET0     0   1

-- BYTECODE -- filemanager.lua:751-754
0001    KPRI     2   2
0002    TSETS    2   0   0  ; "cutfile"
0003    TSETS    1   0   1  ; "clipboard"
0004    RET0     0   1

-- BYTECODE -- filemanager.lua:763-779
0001    UGET     0   0      ; DocSettings
0002    MOV      1   0
0003    TGETS    0   0   0  ; "hasSidecarFile"
0004    UGET     2   1      ; orig
0005    CALL     0   2   3
0006    ISF          0
0007    JMP      1 => 0020
0008    UGET     0   2      ; BaseUtil
0009    TGETS    0   0   1  ; "execute"
0010    UGET     1   3      ; self
0011    TGETS    1   1   2  ; "cp_bin"
0012    KSTR     2   3      ; "-r"
0013    UGET     3   0      ; DocSettings
0014    MOV      4   3
0015    TGETS    3   3   4  ; "getSidecarDir"
0016    UGET     5   1      ; orig
0017    CALL     3   2   3
0018    UGET     4   4      ; dest
0019    CALL     0   1   5
0020 => UGET     0   2      ; BaseUtil
0021    TGETS    0   0   1  ; "execute"
0022    UGET     1   3      ; self
0023    TGETS    1   1   2  ; "cp_bin"
0024    KSTR     2   3      ; "-r"
0025    UGET     3   1      ; orig
0026    UGET     4   4      ; dest
0027    CALL     0   2   5
0028    ISNEN    0   0      ; 0
0029    JMP      0 => 0050
0030    UGET     0   5      ; UIManager
0031    MOV      1   0
0032    TGETS    0   0   5  ; "show"
0033    UGET     2   6      ; InfoMessage
0034    MOV      3   2
0035    TGETS    2   2   6  ; "new"
0036    TDUP     4   9
0037    UGET     5   7      ; T
0038    UGET     6   8      ; _
0039    KSTR     7   7      ; "Copied to: %1"
0040    CALL     6   2   2
0041    UGET     7   9      ; BD
0042    TGETS    7   7   8  ; "dirpath"
0043    UGET     8   4      ; dest
0044    CALL     7   0   2
0045    CALLM    5   2   1
0046    TSETS    5   4  10  ; "text"
0047    CALL     2   0   3
0048    CALLM    0   1   1
0049    JMP      0 => 0069
0050 => UGET     0   5      ; UIManager
0051    MOV      1   0
0052    TGETS    0   0   5  ; "show"
0053    UGET     2   6      ; InfoMessage
0054    MOV      3   2
0055    TGETS    2   2   6  ; "new"
0056    TDUP     4  13
0057    UGET     5   7      ; T
0058    UGET     6   8      ; _
0059    KSTR     7  11      ; "An error occurred while trying to copy %"~
0060    CALL     6   2   2
0061    UGET     7   9      ; BD
0062    TGETS    7   7  12  ; "filepath"
0063    UGET     8   1      ; orig
0064    CALL     7   0   2
0065    CALLM    5   2   1
0066    TSETS    5   4  10  ; "text"
0067    CALL     2   0   3
0068    CALLM    0   1   1
0069 => RET0     0   1

-- BYTECODE -- filemanager.lua:781-801
0001    UGET     0   0      ; DocSettings
0002    MOV      1   0
0003    TGETS    0   0   0  ; "hasSidecarFile"
0004    UGET     2   1      ; orig
0005    CALL     0   2   3
0006    ISF          0
0007    JMP      1 => 0018
0008    UGET     0   2      ; self
0009    MOV      1   0
0010    TGETS    0   0   1  ; "moveFile"
0011    UGET     2   0      ; DocSettings
0012    MOV      3   2
0013    TGETS    2   2   2  ; "getSidecarDir"
0014    UGET     4   1      ; orig
0015    CALL     2   2   3
0016    UGET     3   3      ; dest
0017    CALL     0   1   4
0018 => UGET     0   2      ; self
0019    MOV      1   0
0020    TGETS    0   0   1  ; "moveFile"
0021    UGET     2   1      ; orig
0022    UGET     3   3      ; dest
0023    CALL     0   2   4
0024    ISF          0
0025    JMP      1 => 0069
0026    GGET     0   3      ; "string"
0027    TGETS    0   0   4  ; "format"
0028    KSTR     1   5      ; "%s/%s"
0029    UGET     2   3      ; dest
0030    UGET     3   4      ; BaseUtil
0031    TGETS    3   3   6  ; "basename"
0032    UGET     4   1      ; orig
0033    CALL     3   0   2
0034    CALLM    0   2   2
0035    GGET     1   7      ; "require"
0036    KSTR     2   8      ; "readhistory"
0037    CALL     1   2   2
0038    MOV      2   1
0039    TGETS    1   1   9  ; "updateItemByPath"
0040    UGET     3   1      ; orig
0041    MOV      4   0
0042    CALL     1   1   4
0043    UGET     1   5      ; ReadCollection
0044    MOV      2   1
0045    TGETS    1   1   9  ; "updateItemByPath"
0046    UGET     3   1      ; orig
0047    MOV      4   0
0048    CALL     1   1   4
0049    UGET     1   6      ; UIManager
0050    MOV      2   1
0051    TGETS    1   1  10  ; "show"
0052    UGET     3   7      ; InfoMessage
0053    MOV      4   3
0054    TGETS    3   3  11  ; "new"
0055    TDUP     5  14
0056    UGET     6   8      ; T
0057    UGET     7   9      ; _
0058    KSTR     8  12      ; "Moved to: %1"
0059    CALL     7   2   2
0060    UGET     8  10      ; BD
0061    TGETS    8   8  13  ; "dirpath"
0062    UGET     9   3      ; dest
0063    CALL     8   0   2
0064    CALLM    6   2   1
0065    TSETS    6   5  15  ; "text"
0066    CALL     3   0   3
0067    CALLM    1   1   1
0068    JMP      0 => 0088
0069 => UGET     0   6      ; UIManager
0070    MOV      1   0
0071    TGETS    0   0  10  ; "show"
0072    UGET     2   7      ; InfoMessage
0073    MOV      3   2
0074    TGETS    2   2  11  ; "new"
0075    TDUP     4  18
0076    UGET     5   8      ; T
0077    UGET     6   9      ; _
0078    KSTR     7  16      ; "An error occurred while trying to move %"~
0079    CALL     6   2   2
0080    UGET     7  10      ; BD
0081    TGETS    7   7  17  ; "filepath"
0082    UGET     8   1      ; orig
0083    CALL     7   0   2
0084    CALLM    5   2   1
0085    TSETS    5   4  15  ; "text"
0086    CALL     2   0   3
0087    CALLM    0   1   1
0088 => RET0     0   1

-- BYTECODE -- filemanager.lua:822-826
0001    UGET     0   0      ; info_file
0002    CALL     0   1   1
0003    UGET     0   1      ; self
0004    MOV      1   0
0005    TGETS    0   0   0  ; "onRefresh"
0006    CALL     0   1   2
0007    UGET     0   1      ; self
0008    KPRI     1   0
0009    TSETS    1   0   1  ; "clipboard"
0010    RET0     0   1

-- BYTECODE -- filemanager.lua:756-834
0001    TGETS    2   0   0  ; "clipboard"
0002    ISF          2
0003    JMP      3 => 0102
0004    UGET     2   0      ; BaseUtil
0005    TGETS    2   2   1  ; "realpath"
0006    MOV      3   1
0007    CALL     2   2   2
0008    MOV      1   2
0009    UGET     2   0      ; BaseUtil
0010    TGETS    2   2   1  ; "realpath"
0011    TGETS    3   0   0  ; "clipboard"
0012    CALL     2   2   2
0013    UGET     3   1      ; lfs
0014    TGETS    3   3   2  ; "attributes"
0015    MOV      4   1
0016    KSTR     5   3      ; "mode"
0017    CALL     3   2   3
0018    ISNES    3   4      ; "directory"
0019    JMP      3 => 0022
0020    ISTC     3   1
0021    JMP      3 => 0026
0022 => MOV      4   1
0023    TGETS    3   1   5  ; "match"
0024    KSTR     5   6      ; "(.*/)"
0025    CALL     3   2   3
0026 => FNEW     4   7      ; filemanager.lua:763
0027    FNEW     5   8      ; filemanager.lua:781
0028    KPRI     6   0
0029    TGETS    7   0   9  ; "cutfile"
0030    ISF          7
0031    JMP      8 => 0034
0032    MOV      6   5
0033    JMP      7 => 0035
0034 => MOV      6   4
0035 => UGET     7   0      ; BaseUtil
0036    TGETS    7   7  10  ; "basename"
0037    TGETS    8   0   0  ; "clipboard"
0038    CALL     7   2   2
0039    UGET     8   1      ; lfs
0040    TGETS    8   8   2  ; "attributes"
0041    GGET     9  11      ; "string"
0042    TGETS    9   9  12  ; "format"
0043    KSTR    10  13      ; "%s/%s"
0044    MOV     11   3
0045    MOV     12   7
0046    CALL     9   2   4
0047    KSTR    10   3      ; "mode"
0048    CALL     8   2   3
0049    ISEQS    8  14      ; "file"
0050    JMP      9 => 0053
0051    ISNES    8   4      ; "directory"
0052    JMP      9 => 0094
0053 => KPRI     9   0
0054    ISNES    8  14      ; "file"
0055    JMP     10 => 0067
0056    UGET    10   5      ; T
0057    UGET    11   6      ; _
0058    KSTR    12  15      ; "The file %1 already exists. Do you want "~
0059    CALL    11   2   2
0060    UGET    12   7      ; BD
0061    TGETS   12  12  16  ; "filename"
0062    MOV     13   7
0063    CALL    12   0   2
0064    CALLM   10   2   1
0065    MOV      9  10
0066    JMP     10 => 0077
0067 => UGET    10   5      ; T
0068    UGET    11   6      ; _
0069    KSTR    12  17      ; "The directory %1 already exists. Do you "~
0070    CALL    11   2   2
0071    UGET    12   7      ; BD
0072    TGETS   12  12   4  ; "directory"
0073    MOV     13   7
0074    CALL    12   0   2
0075    CALLM   10   2   1
0076    MOV      9  10
0077 => UGET    10   3      ; UIManager
0078    MOV     11  10
0079    TGETS   10  10  18  ; "show"
0080    UGET    12   9      ; ConfirmBox
0081    MOV     13  12
0082    TGETS   12  12  19  ; "new"
0083    TDUP    14  20
0084    TSETS    9  14  21  ; "text"
0085    UGET    15   6      ; _
0086    KSTR    16  22      ; "Overwrite"
0087    CALL    15   2   2
0088    TSETS   15  14  23  ; "ok_text"
0089    FNEW    15  24      ; filemanager.lua:822
0090    TSETS   15  14  25  ; "ok_callback"
0091    CALL    12   0   3
0092    CALLM   10   1   1
0093    JMP      9 => 0101
0094 => MOV      9   6
0095    CALL     9   1   1
0096    MOV     10   0
0097    TGETS    9   0  26  ; "onRefresh"
0098    CALL     9   1   2
0099    KPRI     9   0
0100    TSETS    9   0   0  ; "clipboard"
0101 => UCLO     2 => 0102
0102 => UCLO     0 => 0103
0103 => RET0     0   1

-- BYTECODE -- filemanager.lua:836-850
0001    GGET     3   0      ; "string"
0002    TGETS    3   3   1  ; "format"
0003    KSTR     4   2      ; "%s/%s"
0004    MOV      5   1
0005    MOV      6   2
0006    CALL     3   2   4
0007    UGET     4   0      ; BaseUtil
0008    TGETS    4   4   3  ; "execute"
0009    TGETS    5   0   4  ; "mkdir_bin"
0010    MOV      6   3
0011    CALL     4   2   3
0012    KPRI     5   0
0013    ISNEN    4   0      ; 0
0014    JMP      6 => 0029
0015    MOV      7   0
0016    TGETS    6   0   5  ; "onRefresh"
0017    CALL     6   1   2
0018    UGET     6   1      ; T
0019    UGET     7   2      ; _
0020    KSTR     8   6      ; "Folder created:\n%1"
0021    CALL     7   2   2
0022    UGET     8   3      ; BD
0023    TGETS    8   8   7  ; "directory"
0024    MOV      9   2
0025    CALL     8   0   2
0026    CALLM    6   2   1
0027    MOV      5   6
0028    JMP      6 => 0033
0029 => UGET     6   2      ; _
0030    KSTR     7   8      ; "The folder has not been created."
0031    CALL     6   2   2
0032    MOV      5   6
0033 => UGET     6   4      ; UIManager
0034    MOV      7   6
0035    TGETS    6   6   9  ; "show"
0036    UGET     8   5      ; InfoMessage
0037    MOV      9   8
0038    TGETS    8   8  10  ; "new"
0039    TDUP    10  11
0040    TSETS    5  10  12  ; "text"
0041    CALL     8   0   3
0042    CALLM    6   1   1
0043    RET0     0   1

-- BYTECODE -- filemanager.lua:852-889
0001    KNIL     2   4
0002    UGET     5   0      ; BaseUtil
0003    TGETS    5   5   0  ; "realpath"
0004    MOV      6   1
0005    CALL     5   2   2
0006    ISNEP    5   0
0007    JMP      6 => 0028
0008    UGET     6   1      ; UIManager
0009    MOV      7   6
0010    TGETS    6   6   1  ; "show"
0011    UGET     8   2      ; InfoMessage
0012    MOV      9   8
0013    TGETS    8   8   2  ; "new"
0014    TDUP    10   5
0015    UGET    11   3      ; T
0016    UGET    12   4      ; _
0017    KSTR    13   3      ; "File %1 not found"
0018    CALL    12   2   2
0019    UGET    13   5      ; BD
0020    TGETS   13  13   4  ; "filepath"
0021    MOV     14   1
0022    CALL    13   0   2
0023    CALLM   11   2   1
0024    TSETS   11  10   6  ; "text"
0025    CALL     8   0   3
0026    CALLM    6   1   1
0027    RET0     0   1
0028 => UGET     6   6      ; DocumentRegistry
0029    MOV      7   6
0030    TGETS    6   6   7  ; "hasProvider"
0031    MOV      8   5
0032    CALL     6   2   3
0033    UGET     7   7      ; lfs
0034    TGETS    7   7   8  ; "attributes"
0035    MOV      8   5
0036    KSTR     9   9      ; "mode"
0037    CALL     7   2   3
0038    ISNES    7  10      ; "file"
0039    JMP      7 => 0047
0040    GGET     7  11      ; "os"
0041    TGETS    7   7  12  ; "remove"
0042    MOV      8   5
0043    CALL     7   3   2
0044    MOV      3   8
0045    MOV      2   7
0046    JMP      7 => 0054
0047 => UGET     7   0      ; BaseUtil
0048    TGETS    7   7  13  ; "purgeDir"
0049    MOV      8   5
0050    CALL     7   3   2
0051    MOV      3   8
0052    MOV      2   7
0053    KPRI     4   2
0054 => ISF          2
0055    JMP      7 => 0104
0056    IST          3
0057    JMP      7 => 0104
0058    ISF          6
0059    JMP      7 => 0078
0060    UGET     7   8      ; DocSettings
0061    MOV      8   7
0062    TGETS    7   7  14  ; "open"
0063    MOV      9   1
0064    CALL     7   2   3
0065    MOV      9   7
0066    TGETS    8   7  15  ; "readSetting"
0067    KSTR    10  16      ; "cache_file_path"
0068    CALL     8   2   3
0069    ISF          8
0070    JMP      9 => 0075
0071    GGET     9  11      ; "os"
0072    TGETS    9   9  12  ; "remove"
0073    MOV     10   8
0074    CALL     9   1   2
0075 => MOV     10   7
0076    TGETS    9   7  17  ; "purge"
0077    CALL     9   1   2
0078 => UGET     7   9      ; ReadCollection
0079    MOV      8   7
0080    TGETS    7   7  18  ; "removeItemByPath"
0081    MOV      9   1
0082    MOV     10   4
0083    CALL     7   1   4
0084    UGET     7   1      ; UIManager
0085    MOV      8   7
0086    TGETS    7   7   1  ; "show"
0087    UGET     9   2      ; InfoMessage
0088    MOV     10   9
0089    TGETS    9   9   2  ; "new"
0090    TDUP    11  20
0091    UGET    12   3      ; T
0092    UGET    13   4      ; _
0093    KSTR    14  19      ; "Deleted %1"
0094    CALL    13   2   2
0095    UGET    14   5      ; BD
0096    TGETS   14  14   4  ; "filepath"
0097    MOV     15   1
0098    CALL    14   0   2
0099    CALLM   12   2   1
0100    TSETS   12  11   6  ; "text"
0101    CALL     9   0   3
0102    CALLM    7   1   1
0103    JMP      7 => 0123
0104 => UGET     7   1      ; UIManager
0105    MOV      8   7
0106    TGETS    7   7   1  ; "show"
0107    UGET     9   2      ; InfoMessage
0108    MOV     10   9
0109    TGETS    9   9   2  ; "new"
0110    TDUP    11  22
0111    UGET    12   3      ; T
0112    UGET    13   4      ; _
0113    KSTR    14  21      ; "An error occurred while trying to delete"~
0114    CALL    13   2   2
0115    UGET    14   5      ; BD
0116    TGETS   14  14   4  ; "filepath"
0117    MOV     15   1
0118    CALL    14   0   2
0119    CALLM   12   2   1
0120    TSETS   12  11   6  ; "text"
0121    CALL     9   0   3
0122    CALLM    7   1   1
0123 => RET0     0   1

-- BYTECODE -- filemanager.lua:891-928
0001    UGET     2   0      ; BaseUtil
0002    TGETS    2   2   0  ; "basename"
0003    MOV      3   1
0004    CALL     2   2   2
0005    TGETS    3   0   1  ; "rename_dialog"
0006    MOV      4   3
0007    TGETS    3   3   2  ; "getInputText"
0008    CALL     3   2   2
0009    ISEQV    2   3
0010    JMP      2 => 0175
0011    UGET     2   0      ; BaseUtil
0012    TGETS    2   2   3  ; "joinPath"
0013    UGET     3   0      ; BaseUtil
0014    TGETS    3   3   4  ; "dirname"
0015    MOV      4   1
0016    CALL     3   2   2
0017    TGETS    4   0   1  ; "rename_dialog"
0018    MOV      5   4
0019    TGETS    4   4   2  ; "getInputText"
0020    CALL     4   0   2
0021    CALLM    2   2   1
0022    MOV      4   0
0023    TGETS    3   0   5  ; "moveFile"
0024    MOV      5   1
0025    MOV      6   2
0026    CALL     3   2   4
0027    ISF          3
0028    JMP      4 => 0152
0029    GGET     3   6      ; "require"
0030    KSTR     4   7      ; "readhistory"
0031    CALL     3   2   2
0032    MOV      4   3
0033    TGETS    3   3   8  ; "updateItemByPath"
0034    MOV      5   1
0035    MOV      6   2
0036    CALL     3   1   4
0037    UGET     3   1      ; ReadCollection
0038    MOV      4   3
0039    TGETS    3   3   8  ; "updateItemByPath"
0040    MOV      5   1
0041    MOV      6   2
0042    CALL     3   1   4
0043    UGET     3   2      ; lfs
0044    TGETS    3   3   9  ; "attributes"
0045    MOV      4   2
0046    KSTR     5  10      ; "mode"
0047    CALL     3   2   3
0048    ISNES    3  11      ; "file"
0049    JMP      3 => 0175
0050    GGET     3   6      ; "require"
0051    KSTR     4  12      ; "docsettings"
0052    CALL     3   2   2
0053    KPRI     4   2
0054    UGET     5   2      ; lfs
0055    TGETS    5   5   9  ; "attributes"
0056    MOV      7   3
0057    TGETS    6   3  13  ; "getHistoryPath"
0058    MOV      8   1
0059    CALL     6   2   3
0060    KSTR     7  10      ; "mode"
0061    CALL     5   2   3
0062    ISNES    5  11      ; "file"
0063    JMP      5 => 0078
0064    MOV      6   0
0065    TGETS    5   0   5  ; "moveFile"
0066    MOV      8   3
0067    TGETS    7   3  13  ; "getHistoryPath"
0068    MOV      9   1
0069    CALL     7   2   3
0070    MOV      9   3
0071    TGETS    8   3  13  ; "getHistoryPath"
0072    MOV     10   2
0073    CALL     8   0   3
0074    CALLM    5   2   2
0075    IST          5
0076    JMP      5 => 0078
0077    KPRI     4   1
0078 => UGET     5   2      ; lfs
0079    TGETS    5   5   9  ; "attributes"
0080    MOV      7   3
0081    TGETS    6   3  14  ; "getSidecarDir"
0082    MOV      8   1
0083    CALL     6   2   3
0084    KSTR     7  10      ; "mode"
0085    CALL     5   2   3
0086    ISNES    5  15      ; "directory"
0087    JMP      5 => 0102
0088    MOV      6   0
0089    TGETS    5   0   5  ; "moveFile"
0090    MOV      8   3
0091    TGETS    7   3  14  ; "getSidecarDir"
0092    MOV      9   1
0093    CALL     7   2   3
0094    MOV      9   3
0095    TGETS    8   3  14  ; "getSidecarDir"
0096    MOV     10   2
0097    CALL     8   0   3
0098    CALLM    5   2   2
0099    IST          5
0100    JMP      5 => 0102
0101    KPRI     4   1
0102 => ISF          4
0103    JMP      5 => 0128
0104    UGET     5   3      ; UIManager
0105    MOV      6   5
0106    TGETS    5   5  16  ; "show"
0107    UGET     7   4      ; InfoMessage
0108    MOV      8   7
0109    TGETS    7   7  17  ; "new"
0110    TDUP     9  20
0111    UGET    10   5      ; T
0112    UGET    11   6      ; _
0113    KSTR    12  18      ; "Renamed from %1 to %2"
0114    CALL    11   2   2
0115    UGET    12   7      ; BD
0116    TGETS   12  12  19  ; "filepath"
0117    MOV     13   1
0118    CALL    12   2   2
0119    UGET    13   7      ; BD
0120    TGETS   13  13  19  ; "filepath"
0121    MOV     14   2
0122    CALL    13   0   2
0123    CALLM   10   2   2
0124    TSETS   10   9  21  ; "text"
0125    CALL     7   0   3
0126    CALLM    5   1   1
0127    JMP      5 => 0175
0128 => UGET     5   3      ; UIManager
0129    MOV      6   5
0130    TGETS    5   5  16  ; "show"
0131    UGET     7   4      ; InfoMessage
0132    MOV      8   7
0133    TGETS    7   7  17  ; "new"
0134    TDUP     9  23
0135    UGET    10   5      ; T
0136    UGET    11   6      ; _
0137    KSTR    12  22      ; "Failed to move history data of %1 to %2."~
0138    CALL    11   2   2
0139    UGET    12   7      ; BD
0140    TGETS   12  12  19  ; "filepath"
0141    MOV     13   1
0142    CALL    12   2   2
0143    UGET    13   7      ; BD
0144    TGETS   13  13  19  ; "filepath"
0145    MOV     14   2
0146    CALL    13   0   2
0147    CALLM   10   2   2
0148    TSETS   10   9  21  ; "text"
0149    CALL     7   0   3
0150    CALLM    5   1   1
0151    JMP      3 => 0175
0152 => UGET     3   3      ; UIManager
0153    MOV      4   3
0154    TGETS    3   3  16  ; "show"
0155    UGET     5   4      ; InfoMessage
0156    MOV      6   5
0157    TGETS    5   5  17  ; "new"
0158    TDUP     7  25
0159    UGET     8   5      ; T
0160    UGET     9   6      ; _
0161    KSTR    10  24      ; "Failed to rename from %1 to %2"
0162    CALL     9   2   2
0163    UGET    10   7      ; BD
0164    TGETS   10  10  19  ; "filepath"
0165    MOV     11   1
0166    CALL    10   2   2
0167    UGET    11   7      ; BD
0168    TGETS   11  11  19  ; "filepath"
0169    MOV     12   2
0170    CALL    11   0   2
0171    CALLM    8   2   2
0172    TSETS    8   7  21  ; "text"
0173    CALL     5   0   3
0174    CALLM    3   1   1
0175 => RET0     0   1

-- BYTECODE -- filemanager.lua:946-948
0001    UGET     0   0      ; fm
0002    TGETS    0   0   0  ; "file_chooser"
0003    TGETS    0   0   1  ; "collate"
0004    UGET     1   1      ; collate
0005    ISEQV    0   1
0006    JMP      0 => 0009
0007    KPRI     0   1
0008    JMP      1 => 0010
0009 => KPRI     0   2
0010 => RET1     0   2

-- BYTECODE -- filemanager.lua:949-949
0001    UGET     0   0      ; fm
0002    MOV      1   0
0003    TGETS    0   0   0  ; "setCollate"
0004    UGET     2   1      ; collate
0005    CALL     0   1   3
0006    RET0     0   1

-- BYTECODE -- filemanager.lua:943-951
0001    TDUP     1   0
0002    UGET     2   0      ; collates
0003    TGETV    2   2   0
0004    TGETB    2   2   2
0005    TSETS    2   1   1  ; "text"
0006    FNEW     2   2      ; filemanager.lua:946
0007    TSETS    2   1   3  ; "checked_func"
0008    FNEW     2   4      ; filemanager.lua:949
0009    TSETS    2   1   5  ; "callback"
0010    UCLO     0 => 0011
0011 => RET1     1   2

-- BYTECODE -- filemanager.lua:952-959
0001    GGET     0   0      ; "G_reader_settings"
0002    MOV      1   0
0003    TGETS    0   0   1  ; "readSetting"
0004    KSTR     2   2      ; "collate"
0005    CALL     0   2   3
0006    ISEQS    0   3      ; "percent_unopened_first"
0007    JMP      1 => 0010
0008    ISNES    0   4      ; "percent_unopened_last"
0009    JMP      1 => 0015
0010 => UGET     1   0      ; collates
0011    TGETV    1   1   0
0012    TGETB    1   1   2
0013    RET1     1   2
0014    JMP      1 => 0018
0015 => UGET     1   1      ; _
0016    KSTR     2   5      ; "Sort by percent"
0017    CALLT    1   2
0018 => RET0     0   1

-- BYTECODE -- filemanager.lua:961-966
0001    UGET     0   0      ; T
0002    UGET     1   1      ; _
0003    KSTR     2   0      ; "Sort by: %1"
0004    CALL     1   2   2
0005    UGET     2   2      ; collates
0006    UGET     3   3      ; fm
0007    TGETS    3   3   1  ; "file_chooser"
0008    TGETS    3   3   2  ; "collate"
0009    TGETV    2   2   3
0010    TGETB    2   2   1
0011    CALLT    0   3

-- BYTECODE -- filemanager.lua:977-980
0001    UGET     0   0      ; fm
0002    TGETS    0   0   0  ; "file_chooser"
0003    TGETS    0   0   1  ; "collate"
0004    ISEQS    0   2      ; "percent_unopened_first"
0005    JMP      0 => 0013
0006    UGET     0   0      ; fm
0007    TGETS    0   0   0  ; "file_chooser"
0008    TGETS    0   0   1  ; "collate"
0009    ISEQS    0   3      ; "percent_unopened_last"
0010    JMP      0 => 0013
0011    KPRI     0   1
0012    JMP      1 => 0014
0013 => KPRI     0   2
0014 => RET1     0   2

-- BYTECODE -- filemanager.lua:930-988
0001    MOV      1   0
0002    TDUP     2   2
0003    TNEW     3   3
0004    UGET     4   0      ; _
0005    KSTR     5   0      ; "filename"
0006    CALL     4   2   2
0007    TSETB    4   3   1
0008    UGET     4   0      ; _
0009    KSTR     5   1      ; "Sort by filename"
0010    CALL     4   0   2
0011    TSETM    4   0      ; 2
0012    TSETS    3   2   3  ; "strcoll"
0013    TNEW     3   3
0014    UGET     4   0      ; _
0015    KSTR     5   4      ; "name mixed"
0016    CALL     4   2   2
0017    TSETB    4   3   1
0018    UGET     4   0      ; _
0019    KSTR     5   5      ; "Sort by name – mixed files and folders"
0020    CALL     4   0   2
0021    TSETM    4   0      ; 2
0022    TSETS    3   2   6  ; "strcoll_mixed"
0023    TNEW     3   3
0024    UGET     4   0      ; _
0025    KSTR     5   7      ; "date read"
0026    CALL     4   2   2
0027    TSETB    4   3   1
0028    UGET     4   0      ; _
0029    KSTR     5   8      ; "Sort by last read date"
0030    CALL     4   0   2
0031    TSETM    4   0      ; 2
0032    TSETS    3   2   9  ; "access"
0033    TNEW     3   3
0034    UGET     4   0      ; _
0035    KSTR     5  10      ; "date added"
0036    CALL     4   2   2
0037    TSETB    4   3   1
0038    UGET     4   0      ; _
0039    KSTR     5  11      ; "Sort by date added"
0040    CALL     4   0   2
0041    TSETM    4   0      ; 2
0042    TSETS    3   2  12  ; "change"
0043    TNEW     3   3
0044    UGET     4   0      ; _
0045    KSTR     5  13      ; "date modified"
0046    CALL     4   2   2
0047    TSETB    4   3   1
0048    UGET     4   0      ; _
0049    KSTR     5  14      ; "Sort by date modified"
0050    CALL     4   0   2
0051    TSETM    4   0      ; 2
0052    TSETS    3   2  15  ; "modification"
0053    TNEW     3   3
0054    UGET     4   0      ; _
0055    KSTR     5  16      ; "size"
0056    CALL     4   2   2
0057    TSETB    4   3   1
0058    UGET     4   0      ; _
0059    KSTR     5  17      ; "Sort by size"
0060    CALL     4   0   2
0061    TSETM    4   0      ; 2
0062    TSETS    3   2  16  ; "size"
0063    TNEW     3   3
0064    UGET     4   0      ; _
0065    KSTR     5  18      ; "type"
0066    CALL     4   2   2
0067    TSETB    4   3   1
0068    UGET     4   0      ; _
0069    KSTR     5  19      ; "Sort by type"
0070    CALL     4   0   2
0071    TSETM    4   0      ; 2
0072    TSETS    3   2  18  ; "type"
0073    TNEW     3   3
0074    UGET     4   0      ; _
0075    KSTR     5  20      ; "percent – unopened first"
0076    CALL     4   2   2
0077    TSETB    4   3   1
0078    UGET     4   0      ; _
0079    KSTR     5  21      ; "Sort by percent – unopened first"
0080    CALL     4   0   2
0081    TSETM    4   0      ; 2
0082    TSETS    3   2  22  ; "percent_unopened_first"
0083    TNEW     3   3
0084    UGET     4   0      ; _
0085    KSTR     5  23      ; "percent – unopened last"
0086    CALL     4   2   2
0087    TSETB    4   3   1
0088    UGET     4   0      ; _
0089    KSTR     5  24      ; "Sort by percent – unopened last"
0090    CALL     4   0   2
0091    TSETM    4   0      ; 2
0092    TSETS    3   2  25  ; "percent_unopened_last"
0093    FNEW     3  26      ; filemanager.lua:943
0094    FNEW     4  27      ; filemanager.lua:952
0095    TDUP     5  29
0096    FNEW     6  28      ; filemanager.lua:961
0097    TSETS    6   5  30  ; "text_func"
0098    TNEW     6   9
0099    MOV      7   3
0100    KSTR     8   3      ; "strcoll"
0101    CALL     7   2   2
0102    TSETB    7   6   1
0103    MOV      7   3
0104    KSTR     8   6      ; "strcoll_mixed"
0105    CALL     7   2   2
0106    TSETB    7   6   2
0107    MOV      7   3
0108    KSTR     8   9      ; "access"
0109    CALL     7   2   2
0110    TSETB    7   6   3
0111    MOV      7   3
0112    KSTR     8  12      ; "change"
0113    CALL     7   2   2
0114    TSETB    7   6   4
0115    MOV      7   3
0116    KSTR     8  15      ; "modification"
0117    CALL     7   2   2
0118    TSETB    7   6   5
0119    MOV      7   3
0120    KSTR     8  16      ; "size"
0121    CALL     7   2   2
0122    TSETB    7   6   6
0123    MOV      7   3
0124    KSTR     8  18      ; "type"
0125    CALL     7   2   2
0126    TSETB    7   6   7
0127    TDUP     7  31
0128    TSETS    4   7  30  ; "text_func"
0129    FNEW     8  32      ; filemanager.lua:977
0130    TSETS    8   7  33  ; "checked_func"
0131    TNEW     8   3
0132    MOV      9   3
0133    KSTR    10  22      ; "percent_unopened_first"
0134    CALL     9   2   2
0135    TSETB    9   8   1
0136    MOV      9   3
0137    KSTR    10  25      ; "percent_unopened_last"
0138    CALL     9   0   2
0139    TSETM    9   0      ; 2
0140    TSETS    8   7  34  ; "sub_item_table"
0141    TSETB    7   6   8
0142    TSETS    6   5  34  ; "sub_item_table"
0143    UCLO     0 => 0144
0144 => RET1     5   2

-- BYTECODE -- filemanager.lua:1001-1003
0001    UGET     0   0      ; start_with_setting
0002    UGET     1   1      ; start_with
0003    ISEQV    0   1
0004    JMP      0 => 0007
0005    KPRI     0   1
0006    JMP      1 => 0008
0007 => KPRI     0   2
0008 => RET1     0   2

-- BYTECODE -- filemanager.lua:1004-1007
0001    UGET     0   1      ; start_with
0002    USETV    0   0      ; start_with_setting
0003    GGET     0   0      ; "G_reader_settings"
0004    MOV      1   0
0005    TGETS    0   0   1  ; "saveSetting"
0006    KSTR     2   2      ; "start_with"
0007    UGET     3   1      ; start_with
0008    CALL     0   1   4
0009    RET0     0   1

-- BYTECODE -- filemanager.lua:998-1009
0001    TDUP     1   0
0002    UGET     2   0      ; start_withs
0003    TGETV    2   2   0
0004    TGETB    2   2   2
0005    TSETS    2   1   1  ; "text"
0006    FNEW     2   2      ; filemanager.lua:1001
0007    TSETS    2   1   3  ; "checked_func"
0008    FNEW     2   4      ; filemanager.lua:1004
0009    TSETS    2   1   5  ; "callback"
0010    UCLO     0 => 0011
0011 => RET1     1   2

-- BYTECODE -- filemanager.lua:1011-1016
0001    UGET     0   0      ; T
0002    UGET     1   1      ; _
0003    KSTR     2   0      ; "Start with: %1"
0004    CALL     1   2   2
0005    UGET     2   2      ; start_withs
0006    UGET     3   3      ; start_with_setting
0007    TGETV    2   2   3
0008    TGETB    2   2   1
0009    CALLT    0   3

-- BYTECODE -- filemanager.lua:990-1024
0001    GGET     1   0      ; "G_reader_settings"
0002    MOV      2   1
0003    TGETS    1   1   1  ; "readSetting"
0004    KSTR     3   2      ; "start_with"
0005    CALL     1   2   3
0006    IST          1
0007    JMP      2 => 0009
0008    KSTR     1   3      ; "filemanager"
0009 => TDUP     2   6
0010    TNEW     3   3
0011    UGET     4   0      ; _
0012    KSTR     5   4      ; "file browser"
0013    CALL     4   2   2
0014    TSETB    4   3   1
0015    UGET     4   0      ; _
0016    KSTR     5   5      ; "Start with file browser"
0017    CALL     4   0   2
0018    TSETM    4   0      ; 2
0019    TSETS    3   2   3  ; "filemanager"
0020    TNEW     3   3
0021    UGET     4   0      ; _
0022    KSTR     5   7      ; "history"
0023    CALL     4   2   2
0024    TSETB    4   3   1
0025    UGET     4   0      ; _
0026    KSTR     5   8      ; "Start with history"
0027    CALL     4   0   2
0028    TSETM    4   0      ; 2
0029    TSETS    3   2   7  ; "history"
0030    TNEW     3   3
0031    UGET     4   0      ; _
0032    KSTR     5   9      ; "folder shortcuts"
0033    CALL     4   2   2
0034    TSETB    4   3   1
0035    UGET     4   0      ; _
0036    KSTR     5  10      ; "Start with folder shortcuts"
0037    CALL     4   0   2
0038    TSETM    4   0      ; 2
0039    TSETS    3   2  11  ; "folder_shortcuts"
0040    TNEW     3   3
0041    UGET     4   0      ; _
0042    KSTR     5  12      ; "last file"
0043    CALL     4   2   2
0044    TSETB    4   3   1
0045    UGET     4   0      ; _
0046    KSTR     5  13      ; "Start with last file"
0047    CALL     4   0   2
0048    TSETM    4   0      ; 2
0049    TSETS    3   2  14  ; "last"
0050    FNEW     3  15      ; filemanager.lua:998
0051    TDUP     4  17
0052    FNEW     5  16      ; filemanager.lua:1011
0053    TSETS    5   4  18  ; "text_func"
0054    TNEW     5   5
0055    MOV      6   3
0056    KSTR     7   3      ; "filemanager"
0057    CALL     6   2   2
0058    TSETB    6   5   1
0059    MOV      6   3
0060    KSTR     7   7      ; "history"
0061    CALL     6   2   2
0062    TSETB    6   5   2
0063    MOV      6   3
0064    KSTR     7  11      ; "folder_shortcuts"
0065    CALL     6   2   2
0066    TSETB    6   5   3
0067    MOV      6   3
0068    KSTR     7  14      ; "last"
0069    CALL     6   0   2
0070    TSETM    6   1      ; 4
0071    TSETS    5   4  19  ; "sub_item_table"
0072    UCLO     0 => 0073
0073 => RET1     4   2

-- BYTECODE -- filemanager.lua:1035-1037
0001    UGET     0   0      ; self
0002    KPRI     1   0
0003    TSETS    1   0   0  ; "instance"
0004    RET0     0   1

-- BYTECODE -- filemanager.lua:1026-1041
0001    IST          1
0002    JMP      3 => 0014
0003    GGET     3   0      ; "G_reader_settings"
0004    MOV      4   3
0005    TGETS    3   3   1  ; "readSetting"
0006    KSTR     5   2      ; "lastdir"
0007    CALL     3   2   3
0008    ISTC     1   3
0009    JMP      4 => 0014
0010    UGET     3   0      ; filemanagerutil
0011    TGETS    3   3   3  ; "getDefaultDir"
0012    CALL     3   2   1
0013    MOV      1   3
0014 => GGET     3   0      ; "G_reader_settings"
0015    MOV      4   3
0016    TGETS    3   3   4  ; "saveSetting"
0017    KSTR     5   2      ; "lastdir"
0018    MOV      6   1
0019    CALL     3   1   4
0020    UGET     3   1      ; restoreScreenMode
0021    CALL     3   1   1
0022    UGET     3   2      ; FileManager
0023    MOV      4   3
0024    TGETS    3   3   5  ; "new"
0025    TDUP     5   7
0026    UGET     6   3      ; Screen
0027    MOV      7   6
0028    TGETS    6   6   6  ; "getSize"
0029    CALL     6   2   2
0030    TSETS    6   5   8  ; "dimen"
0031    TSETS    1   5   9  ; "root_path"
0032    TSETS    2   5  10  ; "focused_file"
0033    FNEW     6  11      ; filemanager.lua:1035
0034    TSETS    6   5  12  ; "onExit"
0035    CALL     3   2   3
0036    UGET     4   4      ; UIManager
0037    MOV      5   4
0038    TGETS    4   4  13  ; "show"
0039    MOV      6   3
0040    CALL     4   1   3
0041    TSETS    3   0  14  ; "instance"
0042    UCLO     0 => 0043
0043 => RET0     0   1

-- BYTECODE -- filemanager.lua:1045-1047
0001    UGET     3   0      ; BaseUtil
0002    TGETS    3   3   0  ; "execute"
0003    TGETS    4   0   1  ; "mv_bin"
0004    MOV      5   1
0005    MOV      6   2
0006    CALL     3   2   4
0007    ISEQN    3   0      ; 0
0008    JMP      3 => 0011
0009    KPRI     3   1
0010    JMP      4 => 0012
0011 => KPRI     3   2
0012 => RET1     3   2

-- BYTECODE -- filemanager.lua:1051-1053
0001    UGET     3   0      ; BaseUtil
0002    TGETS    3   3   0  ; "execute"
0003    TGETS    4   0   1  ; "cp_bin"
0004    MOV      5   1
0005    MOV      6   2
0006    CALL     3   2   4
0007    ISEQN    3   0      ; 0
0008    JMP      3 => 0011
0009    KPRI     3   1
0010    JMP      4 => 0012
0011 => KPRI     3   2
0012 => RET1     3   2

-- BYTECODE -- filemanager.lua:1057-1059
0001    UGET     3   0      ; BaseUtil
0002    TGETS    3   3   0  ; "execute"
0003    TGETS    4   0   1  ; "cp_bin"
0004    KSTR     5   2      ; "-r"
0005    MOV      6   1
0006    MOV      7   2
0007    CALL     3   2   5
0008    ISEQN    3   0      ; 0
0009    JMP      3 => 0012
0010    KPRI     3   1
0011    JMP      4 => 0013
0012 => KPRI     3   2
0013 => RET1     3   2

-- BYTECODE -- filemanager.lua:1061-1063
0001    MOV      2   0
0002    TGETS    1   0   0  ; "goHome"
0003    CALLT    1   2

-- BYTECODE -- filemanager.lua:0-1066
0001    GGET     0   0      ; "require"
0002    KSTR     1   1      ; "ui/bidi"
0003    CALL     0   2   2
0004    GGET     1   0      ; "require"
0005    KSTR     2   2      ; "ffi/blitbuffer"
0006    CALL     1   2   2
0007    GGET     2   0      ; "require"
0008    KSTR     3   3      ; "ui/widget/button"
0009    CALL     2   2   2
0010    GGET     3   0      ; "require"
0011    KSTR     4   4      ; "ui/widget/buttondialogtitle"
0012    CALL     3   2   2
0013    GGET     4   0      ; "require"
0014    KSTR     5   5      ; "ui/widget/container/centercontainer"
0015    CALL     4   2   2
0016    GGET     5   0      ; "require"
0017    KSTR     6   6      ; "ui/widget/confirmbox"
0018    CALL     5   2   2
0019    GGET     6   0      ; "require"
0020    KSTR     7   7      ; "device"
0021    CALL     6   2   2
0022    GGET     7   0      ; "require"
0023    KSTR     8   8      ; "docsettings"
0024    CALL     7   2   2
0025    GGET     8   0      ; "require"
0026    KSTR     9   9      ; "document/documentregistry"
0027    CALL     8   2   2
0028    GGET     9   0      ; "require"
0029    KSTR    10  10      ; "ui/event"
0030    CALL     9   2   2
0031    GGET    10   0      ; "require"
0032    KSTR    11  11      ; "ui/widget/filechooser"
0033    CALL    10   2   2
0034    GGET    11   0      ; "require"
0035    KSTR    12  12      ; "apps/filemanager/filemanagerbookinfo"
0036    CALL    11   2   2
0037    GGET    12   0      ; "require"
0038    KSTR    13  13      ; "apps/filemanager/filemanagercollection"
0039    CALL    12   2   2
0040    GGET    13   0      ; "require"
0041    KSTR    14  14      ; "apps/filemanager/filemanagerconverter"
0042    CALL    13   2   2
0043    GGET    14   0      ; "require"
0044    KSTR    15  15      ; "apps/filemanager/filemanagerfilesearcher"
0045    CALL    14   2   2
0046    GGET    15   0      ; "require"
0047    KSTR    16  16      ; "apps/filemanager/filemanagerhistory"
0048    CALL    15   2   2
0049    GGET    16   0      ; "require"
0050    KSTR    17  17      ; "apps/filemanager/filemanagermenu"
0051    CALL    16   2   2
0052    GGET    17   0      ; "require"
0053    KSTR    18  18      ; "apps/filemanager/filemanagershortcuts"
0054    CALL    17   2   2
0055    GGET    18   0      ; "require"
0056    KSTR    19  19      ; "ui/font"
0057    CALL    18   2   2
0058    GGET    19   0      ; "require"
0059    KSTR    20  20      ; "ui/widget/container/framecontainer"
0060    CALL    19   2   2
0061    GGET    20   0      ; "require"
0062    KSTR    21  21      ; "ui/widget/horizontalgroup"
0063    CALL    20   2   2
0064    GGET    21   0      ; "require"
0065    KSTR    22  22      ; "ui/widget/iconbutton"
0066    CALL    21   2   2
0067    GGET    22   0      ; "require"
0068    KSTR    23  23      ; "ui/widget/infomessage"
0069    CALL    22   2   2
0070    GGET    23   0      ; "require"
0071    KSTR    24  24      ; "ui/widget/container/inputcontainer"
0072    CALL    23   2   2
0073    GGET    24   0      ; "require"
0074    KSTR    25  25      ; "ui/widget/inputdialog"
0075    CALL    24   2   2
0076    GGET    25   0      ; "require"
0077    KSTR    26  26      ; "ui/widget/multiconfirmbox"
0078    CALL    25   2   2
0079    GGET    26   0      ; "require"
0080    KSTR    27  27      ; "pluginloader"
0081    CALL    26   2   2
0082    GGET    27   0      ; "require"
0083    KSTR    28  28      ; "readcollection"
0084    CALL    27   2   2
0085    GGET    28   0      ; "require"
0086    KSTR    29  29      ; "apps/reader/modules/readerdevicestatus"
0087    CALL    28   2   2
0088    GGET    29   0      ; "require"
0089    KSTR    30  30      ; "apps/reader/modules/readerdictionary"
0090    CALL    29   2   2
0091    GGET    30   0      ; "require"
0092    KSTR    31  31      ; "apps/reader/modules/readergesture"
0093    CALL    30   2   2
0094    GGET    31   0      ; "require"
0095    KSTR    32  32      ; "apps/reader/readerui"
0096    CALL    31   2   2
0097    GGET    32   0      ; "require"
0098    KSTR    33  33      ; "apps/reader/modules/readerwikipedia"
0099    CALL    32   2   2
0100    GGET    33   0      ; "require"
0101    KSTR    34  34      ; "ui/widget/screenshoter"
0102    CALL    33   2   2
0103    GGET    34   0      ; "require"
0104    KSTR    35  35      ; "ui/size"
0105    CALL    34   2   2
0106    GGET    35   0      ; "require"
0107    KSTR    36  36      ; "ui/widget/textwidget"
0108    CALL    35   2   2
0109    GGET    36   0      ; "require"
0110    KSTR    37  37      ; "ui/widget/verticalgroup"
0111    CALL    36   2   2
0112    GGET    37   0      ; "require"
0113    KSTR    38  38      ; "ui/widget/verticalspan"
0114    CALL    37   2   2
0115    GGET    38   0      ; "require"
0116    KSTR    39  39      ; "ui/uimanager"
0117    CALL    38   2   2
0118    GGET    39   0      ; "require"
0119    KSTR    40  40      ; "apps/filemanager/filemanagerutil"
0120    CALL    39   2   2
0121    GGET    40   0      ; "require"
0122    KSTR    41  41      ; "libs/libkoreader-lfs"
0123    CALL    40   2   2
0124    GGET    41   0      ; "require"
0125    KSTR    42  42      ; "logger"
0126    CALL    41   2   2
0127    GGET    42   0      ; "require"
0128    KSTR    43  43      ; "ffi/util"
0129    CALL    42   2   2
0130    GGET    43   0      ; "require"
0131    KSTR    44  44      ; "util"
0132    CALL    43   2   2
0133    GGET    44   0      ; "require"
0134    KSTR    45  45      ; "gettext"
0135    CALL    44   2   2
0136    TGETS   45  44  46  ; "pgettext"
0137    TGETS   46   6  47  ; "screen"
0138    GGET    47   0      ; "require"
0139    KSTR    48  43      ; "ffi/util"
0140    CALL    47   2   2
0141    TGETS   47  47  48  ; "template"
0142    FNEW    48  49      ; filemanager.lua:50
0143    MOV     50  23
0144    TGETS   49  23  50  ; "extend"
0145    TDUP    51  52
0146    MOV     52  44
0147    KSTR    53  51      ; "KOReader"
0148    CALL    52   2   2
0149    TSETS   52  51  53  ; "title"
0150    TGETS   52  40  54  ; "currentdir"
0151    CALL    52   2   1
0152    TSETS   52  51  55  ; "root_path"
0153    FNEW    52  56      ; filemanager.lua:67
0154    TSETS   52  51  57  ; "onExit"
0155    MOV     53   6
0156    TGETS   52   6  58  ; "isAndroid"
0157    CALL    52   2   2
0158    ISF         52
0159    JMP     53 => 0162
0160    KSTR    52  59      ; "/system/bin/mv"
0161    JMP     53 => 0163
0162 => KSTR    52  60      ; "/bin/mv"
0163 => TSETS   52  51  61  ; "mv_bin"
0164    MOV     53   6
0165    TGETS   52   6  58  ; "isAndroid"
0166    CALL    52   2   2
0167    ISF         52
0168    JMP     53 => 0171
0169    KSTR    52  62      ; "/system/bin/cp"
0170    JMP     53 => 0172
0171 => KSTR    52  63      ; "/bin/cp"
0172 => TSETS   52  51  64  ; "cp_bin"
0173    MOV     53   6
0174    TGETS   52   6  58  ; "isAndroid"
0175    CALL    52   2   2
0176    ISF         52
0177    JMP     53 => 0180
0178    KSTR    52  65      ; "/system/bin/mkdir"
0179    JMP     53 => 0181
0180 => KSTR    52  66      ; "/bin/mkdir"
0181 => TSETS   52  51  67  ; "mkdir_bin"
0182    CALL    49   2   3
0183    FNEW    50  69      ; filemanager.lua:74
0184    TSETS   50  49  68  ; "init"
0185    FNEW    50  71      ; filemanager.lua:479
0186    TSETS   50  10  70  ; "onBack"
0187    FNEW    50  73      ; filemanager.lua:504
0188    TSETS   50  49  72  ; "onShowPlusMenu"
0189    FNEW    50  75      ; filemanager.lua:509
0190    TSETS   50  49  74  ; "onSwipeFM"
0191    FNEW    50  77      ; filemanager.lua:519
0192    TSETS   50  49  76  ; "tapPlus"
0193    FNEW    50  79      ; filemanager.lua:626
0194    TSETS   50  49  78  ; "reinit"
0195    FNEW    50  81      ; filemanager.lua:644
0196    TSETS   50  49  80  ; "toggleHiddenFiles"
0197    FNEW    50  83      ; filemanager.lua:649
0198    TSETS   50  49  82  ; "toggleUnsupportedFiles"
0199    FNEW    50  85      ; filemanager.lua:654
0200    TSETS   50  49  84  ; "setCollate"
0201    FNEW    50  87      ; filemanager.lua:659
0202    TSETS   50  49  86  ; "toggleReverseCollate"
0203    FNEW    50  89      ; filemanager.lua:664
0204    TSETS   50  49  88  ; "onClose"
0205    FNEW    50  91      ; filemanager.lua:675
0206    TSETS   50  49  90  ; "onRefresh"
0207    FNEW    50  93      ; filemanager.lua:680
0208    TSETS   50  49  92  ; "goHome"
0209    FNEW    50  95      ; filemanager.lua:709
0210    TSETS   50  49  94  ; "setHome"
0211    FNEW    50  97      ; filemanager.lua:721
0212    TSETS   50  49  96  ; "openRandomFile"
0213    FNEW    50  99      ; filemanager.lua:746
0214    TSETS   50  49  98  ; "copyFile"
0215    FNEW    50 101      ; filemanager.lua:751
0216    TSETS   50  49 100  ; "cutFile"
0217    FNEW    50 103      ; filemanager.lua:756
0218    TSETS   50  49 102  ; "pasteHere"
0219    FNEW    50 105      ; filemanager.lua:836
0220    TSETS   50  49 104  ; "createFolder"
0221    FNEW    50 107      ; filemanager.lua:852
0222    TSETS   50  49 106  ; "deleteFile"
0223    FNEW    50 109      ; filemanager.lua:891
0224    TSETS   50  49 108  ; "renameFile"
0225    FNEW    50 111      ; filemanager.lua:930
0226    TSETS   50  49 110  ; "getSortingMenuTable"
0227    FNEW    50 113      ; filemanager.lua:990
0228    TSETS   50  49 112  ; "getStartWithMenuTable"
0229    FNEW    50 115      ; filemanager.lua:1026
0230    TSETS   50  49 114  ; "showFiles"
0231    FNEW    50 117      ; filemanager.lua:1045
0232    TSETS   50  49 116  ; "moveFile"
0233    FNEW    50 119      ; filemanager.lua:1051
0234    TSETS   50  49 118  ; "copyFileFromTo"
0235    FNEW    50 121      ; filemanager.lua:1057
0236    TSETS   50  49 120  ; "copyRecursive"
0237    FNEW    50 123      ; filemanager.lua:1061
0238    TSETS   50  49 122  ; "onHome"
0239    UCLO     0 => 0240
0240 => RET1    49   2

