-- BYTECODE -- readerhighlight.lua:21-23
0001    UGET     0   0      ; self
0002    TGETS    0   0   0  ; "ui"
0003    TGETS    0   0   1  ; "menu"
0004    MOV      1   0
0005    TGETS    0   0   2  ; "registerToMainMenu"
0006    UGET     2   0      ; self
0007    CALL     0   1   3
0008    RET0     0   1

-- BYTECODE -- readerhighlight.lua:20-24
0001    TGETS    1   0   0  ; "ui"
0002    MOV      2   1
0003    TGETS    1   1   1  ; "registerPostInitCallback"
0004    FNEW     3   2      ; readerhighlight.lua:21
0005    CALL     1   1   3
0006    UCLO     0 => 0007
0007 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:54-54
0001    UGET     1   0      ; self
0002    MOV      2   1
0003    TGETS    1   1   0  ; "onTap"
0004    KPRI     3   0
0005    MOV      4   0
0006    CALLT    1   4

-- BYTECODE -- readerhighlight.lua:65-65
0001    UGET     1   0      ; self
0002    MOV      2   1
0003    TGETS    1   1   0  ; "onHold"
0004    KPRI     3   0
0005    MOV      4   0
0006    CALLT    1   4

-- BYTECODE -- readerhighlight.lua:73-73
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "onHoldRelease"
0004    CALLT    0   2

-- BYTECODE -- readerhighlight.lua:82-82
0001    UGET     1   0      ; self
0002    MOV      2   1
0003    TGETS    1   1   0  ; "onHoldPan"
0004    KPRI     3   0
0005    MOV      4   0
0006    CALLT    1   4

-- BYTECODE -- readerhighlight.lua:26-85
0001    TNEW     1   0
0002    TSETS    1   0   0  ; "ges_events"
0003    KPRI     1   0
0004    TSETS    1   0   1  ; "onGesture"
0005    UGET     1   0      ; Device
0006    MOV      2   1
0007    TGETS    1   1   2  ; "isTouchDevice"
0008    CALL     1   2   2
0009    IST          1
0010    JMP      1 => 0012
0011    UCLO     0 => 0047
0012 => TGETS    1   0   3  ; "ui"
0013    MOV      2   1
0014    TGETS    1   1   4  ; "registerTouchZones"
0015    TNEW     3   5
0016    TDUP     4   5
0017    TDUP     5   6
0018    TSETS    5   4   7  ; "screen_zone"
0019    TDUP     5   8
0020    TSETS    5   4   9  ; "overrides"
0021    FNEW     5  10      ; readerhighlight.lua:54
0022    TSETS    5   4  11  ; "handler"
0023    TSETB    4   3   1
0024    TDUP     4  12
0025    TDUP     5  13
0026    TSETS    5   4   7  ; "screen_zone"
0027    TDUP     5  14
0028    TSETS    5   4   9  ; "overrides"
0029    FNEW     5  15      ; readerhighlight.lua:65
0030    TSETS    5   4  11  ; "handler"
0031    TSETB    4   3   2
0032    TDUP     4  16
0033    TDUP     5  17
0034    TSETS    5   4   7  ; "screen_zone"
0035    FNEW     5  18      ; readerhighlight.lua:73
0036    TSETS    5   4  11  ; "handler"
0037    TSETB    4   3   3
0038    TDUP     4  19
0039    TDUP     5  20
0040    TSETS    5   4   7  ; "screen_zone"
0041    FNEW     5  21      ; readerhighlight.lua:82
0042    TSETS    5   4  11  ; "handler"
0043    TSETB    4   3   4
0044    CALL     1   1   3
0045    UCLO     0 => 0046
0046 => RET0     0   1
0047 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:87-89
0001    MOV      2   0
0002    TGETS    1   0   0  ; "setupTouchZones"
0003    CALL     1   1   2
0004    RET0     0   1

-- BYTECODE -- readerhighlight.lua:91-98
0001    TDUP     2   2
0002    UGET     3   0      ; _
0003    KSTR     4   1      ; "Highlighting"
0004    CALL     3   2   2
0005    TSETS    3   2   3  ; "text"
0006    MOV      4   0
0007    TGETS    3   0   4  ; "genHighlightDrawerMenu"
0008    CALL     3   2   2
0009    TSETS    3   2   5  ; "sub_item_table"
0010    TSETS    2   1   0  ; "highlight_options"
0011    UGET     2   1      ; Translator
0012    MOV      3   2
0013    TGETS    2   2   7  ; "genSettingsMenu"
0014    CALL     2   2   2
0015    TSETS    2   1   6  ; "translation_settings"
0016    RET0     0   1

-- BYTECODE -- readerhighlight.lua:110-112
0001    UGET     0   0      ; self
0002    TGETS    0   0   0  ; "view"
0003    TGETS    0   0   1  ; "highlight"
0004    TGETS    0   0   2  ; "saved_drawer"
0005    UGET     1   1      ; style
0006    ISEQV    0   1
0007    JMP      0 => 0010
0008    KPRI     0   1
0009    JMP      1 => 0011
0010 => KPRI     0   2
0011 => RET1     0   2

-- BYTECODE -- readerhighlight.lua:113-115
0001    UGET     0   0      ; self
0002    TGETS    0   0   0  ; "view"
0003    TGETS    0   0   1  ; "highlight"
0004    TGETS    0   0   2  ; "disabled"
0005    NOT      0   0
0006    RET1     0   2

-- BYTECODE -- readerhighlight.lua:116-118
0001    UGET     0   0      ; self
0002    TGETS    0   0   0  ; "view"
0003    TGETS    0   0   1  ; "highlight"
0004    UGET     1   1      ; style
0005    TSETS    1   0   2  ; "saved_drawer"
0006    RET0     0   1

-- BYTECODE -- readerhighlight.lua:107-120
0001    TDUP     1   0
0002    UGET     2   0      ; highlight_style
0003    TGETV    2   2   0
0004    TSETS    2   1   1  ; "text"
0005    FNEW     2   2      ; readerhighlight.lua:110
0006    TSETS    2   1   3  ; "checked_func"
0007    FNEW     2   4      ; readerhighlight.lua:113
0008    TSETS    2   1   5  ; "enabled_func"
0009    FNEW     2   6      ; readerhighlight.lua:116
0010    TSETS    2   1   7  ; "callback"
0011    UCLO     0 => 0012
0012 => RET1     1   2

-- BYTECODE -- readerhighlight.lua:124-126
0001    UGET     0   0      ; self
0002    TGETS    0   0   0  ; "view"
0003    TGETS    0   0   1  ; "highlight"
0004    TGETS    0   0   2  ; "disabled"
0005    NOT      0   0
0006    RET1     0   2

-- BYTECODE -- readerhighlight.lua:127-129
0001    UGET     0   0      ; self
0002    TGETS    0   0   0  ; "view"
0003    TGETS    0   0   1  ; "highlight"
0004    UGET     1   0      ; self
0005    TGETS    1   1   0  ; "view"
0006    TGETS    1   1   1  ; "highlight"
0007    TGETS    1   1   2  ; "disabled"
0008    NOT      1   1
0009    TSETS    1   0   2  ; "disabled"
0010    RET0     0   1

-- BYTECODE -- readerhighlight.lua:130-132
0001    UGET     1   0      ; self
0002    MOV      2   1
0003    TGETS    1   1   0  ; "toggleDefault"
0004    CALL     1   1   2
0005    RET0     0   1

-- BYTECODE -- readerhighlight.lua:106-139
0001    FNEW     1   0      ; readerhighlight.lua:107
0002    TNEW     2   5
0003    TDUP     3   2
0004    UGET     4   1      ; _
0005    KSTR     5   1      ; "Allow highlighting"
0006    CALL     4   2   2
0007    TSETS    4   3   3  ; "text"
0008    FNEW     4   4      ; readerhighlight.lua:124
0009    TSETS    4   3   5  ; "checked_func"
0010    FNEW     4   6      ; readerhighlight.lua:127
0011    TSETS    4   3   7  ; "callback"
0012    FNEW     4   8      ; readerhighlight.lua:130
0013    TSETS    4   3   9  ; "hold_callback"
0014    TSETB    3   2   1
0015    MOV      3   1
0016    KSTR     4  10      ; "lighten"
0017    CALL     3   2   2
0018    TSETB    3   2   2
0019    MOV      3   1
0020    KSTR     4  11      ; "underscore"
0021    CALL     3   2   2
0022    TSETB    3   2   3
0023    MOV      3   1
0024    KSTR     4  12      ; "invert"
0025    CALL     3   0   2
0026    TSETM    3   0      ; 4
0027    UCLO     0 => 0028
0028 => RET1     2   2

-- BYTECODE -- readerhighlight.lua:144-147
0001    UGET     1   0      ; TimeVal
0002    TGETS    1   1   1  ; "now"
0003    CALL     1   2   1
0004    TSETS    1   0   0  ; "clear_id"
0005    TGETS    1   0   0  ; "clear_id"
0006    RET1     1   2

-- BYTECODE -- readerhighlight.lua:149-174
0001    ISF          1
0002    JMP      2 => 0007
0003    TGETS    2   0   0  ; "clear_id"
0004    ISEQV    1   2
0005    JMP      2 => 0007
0006    RET0     0   1
0007 => KPRI     2   0
0008    TSETS    2   0   0  ; "clear_id"
0009    TGETS    2   0   1  ; "ui"
0010    TGETS    2   2   2  ; "document"
0011    TGETS    2   2   3  ; "info"
0012    TGETS    2   2   4  ; "has_pages"
0013    ISF          2
0014    JMP      3 => 0020
0015    TGETS    2   0   5  ; "view"
0016    TGETS    2   2   6  ; "highlight"
0017    TNEW     3   0
0018    TSETS    3   2   7  ; "temp"
0019    JMP      2 => 0025
0020 => TGETS    2   0   1  ; "ui"
0021    TGETS    2   2   2  ; "document"
0022    MOV      3   2
0023    TGETS    2   2   8  ; "clearSelection"
0024    CALL     2   1   2
0025 => TGETS    2   0   9  ; "restore_page_mode_func"
0026    ISF          2
0027    JMP      3 => 0032
0028    TGETS    2   0   9  ; "restore_page_mode_func"
0029    CALL     2   1   1
0030    KPRI     2   0
0031    TSETS    2   0   9  ; "restore_page_mode_func"
0032 => KPRI     2   0
0033    TSETS    2   0  10  ; "selected_text_start_xpointer"
0034    TGETS    2   0  11  ; "hold_pos"
0035    ISF          2
0036    JMP      3 => 0049
0037    KPRI     2   0
0038    TSETS    2   0  11  ; "hold_pos"
0039    KPRI     2   0
0040    TSETS    2   0  12  ; "selected_text"
0041    UGET     2   0      ; UIManager
0042    MOV      3   2
0043    TGETS    2   2  13  ; "setDirty"
0044    TGETS    4   0  14  ; "dialog"
0045    KSTR     5   1      ; "ui"
0046    CALL     2   1   4
0047    KPRI     2   2
0048    RET1     2   2
0049 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:176-179
0001    MOV      2   0
0002    TGETS    1   0   0  ; "clear"
0003    CALL     1   1   2
0004    KPRI     1   2
0005    RET1     1   2

-- BYTECODE -- readerhighlight.lua:181-189
0001    MOV      4   0
0002    TGETS    3   0   0  ; "clear"
0003    CALL     3   2   2
0004    IST          3
0005    JMP      3 => 0023
0006    ISF          2
0007    JMP      3 => 0023
0008    TGETS    3   0   1  ; "ui"
0009    TGETS    3   3   2  ; "document"
0010    TGETS    3   3   3  ; "info"
0011    TGETS    3   3   4  ; "has_pages"
0012    ISF          3
0013    JMP      4 => 0019
0014    MOV      4   0
0015    TGETS    3   0   5  ; "onTapPageSavedHighlight"
0016    MOV      5   2
0017    CALLT    3   3
0018    JMP      3 => 0023
0019 => MOV      4   0
0020    TGETS    3   0   6  ; "onTapXPointerSavedHighlight"
0021    MOV      5   2
0022    CALLT    3   3
0023 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:191-200
0001    ISF          0
0002    JMP      2 => 0023
0003    TGETS    2   0   0  ; "x"
0004    TGETS    3   0   1  ; "y"
0005    TGETS    4   1   0  ; "x"
0006    ISGT     4   2
0007    JMP      4 => 0023
0008    TGETS    4   1   1  ; "y"
0009    ISGT     4   3
0010    JMP      4 => 0023
0011    TGETS    4   1   0  ; "x"
0012    TGETS    5   1   2  ; "w"
0013    ADDVV    4   4   5
0014    ISGT     2   4
0015    JMP      4 => 0023
0016    TGETS    4   1   1  ; "y"
0017    TGETS    5   1   3  ; "h"
0018    ADDVV    4   4   5
0019    ISGT     3   4
0020    JMP      4 => 0023
0021    KPRI     4   2
0022    RET1     4   2
0023 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:202-222
0001    TGETS    2   0   0  ; "view"
0002    MOV      3   2
0003    TGETS    2   2   1  ; "getCurrentPageList"
0004    CALL     2   2   2
0005    TGETS    3   0   0  ; "view"
0006    MOV      4   3
0007    TGETS    3   3   2  ; "screenToPageTransform"
0008    TGETS    5   1   3  ; "pos"
0009    CALL     3   2   3
0010    GGET     4   4      ; "pairs"
0011    MOV      5   2
0012    CALL     4   4   2
0013    ISNEXT   7 => 0060
0014 => TGETS    9   0   0  ; "view"
0015    TGETS    9   9   5  ; "highlight"
0016    TGETS    9   9   6  ; "saved"
0017    TGETV    9   9   8
0018    ISF          9
0019    JMP     10 => 0060
0020    KSHORT  10   1
0021    LEN     11   9
0022    KSHORT  12   1
0023    FORI    10 => 0060
0024 => TGETV   14   9  13
0025    TGETS   14  14   7  ; "pos0"
0026    TGETV   15   9  13
0027    TGETS   15  15   8  ; "pos1"
0028    TGETS   16   0   9  ; "ui"
0029    TGETS   16  16  10  ; "document"
0030    MOV     17  16
0031    TGETS   16  16  11  ; "getPageBoxesFromPositions"
0032    MOV     18   8
0033    MOV     19  14
0034    MOV     20  15
0035    CALL    16   2   5
0036    ISF         16
0037    JMP     17 => 0059
0038    GGET    17   4      ; "pairs"
0039    MOV     18  16
0040    CALL    17   4   2
0041    ISNEXT  20 => 0057
0042 => UGET    22   0      ; inside_box
0043    MOV     23   3
0044    MOV     24  21
0045    CALL    22   2   3
0046    ISF         22
0047    JMP     23 => 0057
0048    UGET    22   1      ; logger
0049    TGETS   22  22  12  ; "dbg"
0050    KSTR    23  13      ; "Tap on highlight"
0051    CALL    22   1   2
0052    MOV     23   0
0053    TGETS   22   0  14  ; "onShowHighlightDialog"
0054    MOV     24   8
0055    MOV     25  13
0056    CALLT   22   4
0057 => ITERN   20   3   3
0058    ITERL   20 => 0042
0059 => FORL    10 => 0024
0060 => ITERN    7   3   3
0061    ITERL    7 => 0014
0062    RET0     0   1

-- BYTECODE -- readerhighlight.lua:224-267
0001    KNIL     2   3
0002    TGETS    4   0   0  ; "view"
0003    MOV      5   4
0004    TGETS    4   4   1  ; "screenToPageTransform"
0005    TGETS    6   1   2  ; "pos"
0006    CALL     4   2   3
0007    GGET     5   3      ; "pairs"
0008    TGETS    6   0   0  ; "view"
0009    TGETS    6   6   4  ; "highlight"
0010    TGETS    6   6   5  ; "saved"
0011    CALL     5   4   2
0012    ISNEXT   8 => 0115
0013 => TGETS   10   0   0  ; "view"
0014    TGETS   10  10   4  ; "highlight"
0015    TGETS   10  10   5  ; "saved"
0016    TGETV   10  10   8
0017    ISF         10
0018    JMP     11 => 0115
0019    KSHORT  11   1
0020    LEN     12  10
0021    KSHORT  13   1
0022    FORI    11 => 0115
0023 => TGETV   15  10  14
0024    TGETS   15  15   6  ; "pos0"
0025    TGETV   16  10  14
0026    TGETS   16  16   7  ; "pos1"
0027    IST          2
0028    JMP     17 => 0057
0029    TGETS   17   0   8  ; "ui"
0030    TGETS   17  17   9  ; "document"
0031    MOV     18  17
0032    TGETS   17  17  10  ; "getCurrentPos"
0033    CALL    17   2   2
0034    MOV      2  17
0035    TGETS   17   0   0  ; "view"
0036    TGETS   17  17  11  ; "view_mode"
0037    ISNES   17  12      ; "page"
0038    JMP     17 => 0053
0039    TGETS   17   0   8  ; "ui"
0040    TGETS   17  17   9  ; "document"
0041    MOV     18  17
0042    TGETS   17  17  13  ; "getVisiblePageCount"
0043    CALL    17   2   2
0044    KSHORT  18   1
0045    ISGE    18  17
0046    JMP     17 => 0053
0047    TGETS   17   0   8  ; "ui"
0048    TGETS   17  17  14  ; "dimen"
0049    TGETS   17  17  15  ; "h"
0050    MULNV   17  17   0  ; 2
0051    ADDVV    3   2  17
0052    JMP     17 => 0057
0053 => TGETS   17   0   8  ; "ui"
0054    TGETS   17  17  14  ; "dimen"
0055    TGETS   17  17  15  ; "h"
0056    ADDVV    3   2  17
0057 => TGETS   17   0   8  ; "ui"
0058    TGETS   17  17   9  ; "document"
0059    MOV     18  17
0060    TGETS   17  17  16  ; "getPosFromXPointer"
0061    MOV     19  15
0062    CALL    17   2   3
0063    TGETS   18   0   8  ; "ui"
0064    TGETS   18  18   9  ; "document"
0065    MOV     19  18
0066    TGETS   18  18  16  ; "getPosFromXPointer"
0067    MOV     20  16
0068    CALL    18   2   3
0069    GGET    19  17      ; "math"
0070    TGETS   19  19  18  ; "min"
0071    MOV     20  17
0072    MOV     21  18
0073    CALL    19   2   3
0074    GGET    20  17      ; "math"
0075    TGETS   20  20  19  ; "max"
0076    MOV     21  17
0077    MOV     22  18
0078    CALL    20   2   3
0079    ISGT    19   3
0080    JMP     21 => 0114
0081    ISGT     2  20
0082    JMP     21 => 0114
0083    TGETS   21   0   8  ; "ui"
0084    TGETS   21  21   9  ; "document"
0085    MOV     22  21
0086    TGETS   21  21  20  ; "getScreenBoxesFromPositions"
0087    MOV     23  15
0088    MOV     24  16
0089    KPRI    25   2
0090    CALL    21   2   5
0091    ISF         21
0092    JMP     22 => 0114
0093    GGET    22   3      ; "pairs"
0094    MOV     23  21
0095    CALL    22   4   2
0096    ISNEXT  25 => 0112
0097 => UGET    27   0      ; inside_box
0098    MOV     28   4
0099    MOV     29  26
0100    CALL    27   2   3
0101    ISF         27
0102    JMP     28 => 0112
0103    UGET    27   1      ; logger
0104    TGETS   27  27  21  ; "dbg"
0105    KSTR    28  22      ; "Tap on highlight"
0106    CALL    27   1   2
0107    MOV     28   0
0108    TGETS   27   0  23  ; "onShowHighlightDialog"
0109    MOV     29   8
0110    MOV     30  14
0111    CALLT   27   4
0112 => ITERN   25   3   3
0113    ITERL   25 => 0097
0114 => FORL    11 => 0023
0115 => ITERN    8   3   3
0116    ITERL    8 => 0013
0117    RET0     0   1

-- BYTECODE -- readerhighlight.lua:269-353
0001    TGETS    6   0   0  ; "ui"
0002    TGETS    6   6   1  ; "document"
0003    TGETS    6   6   2  ; "info"
0004    TGETS    6   6   3  ; "has_pages"
0005    ISF          6
0006    JMP      7 => 0008
0007    RET0     0   1
0008 => TGETS    6   0   4  ; "view"
0009    TGETS    6   6   5  ; "highlight"
0010    TGETS    6   6   6  ; "saved"
0011    TGETV    6   6   1
0012    TGETV    6   6   2
0013    TGETS    7   6   7  ; "datetime"
0014    TGETS    8   6   8  ; "pos0"
0015    TGETS    9   6   9  ; "pos1"
0016    ISNEN    3   0      ; 0
0017    JMP     10 => 0077
0018    KPRI    10   0
0019    ISNEN    4   1      ; 1
0020    JMP     11 => 0039
0021    ISF          5
0022    JMP     11 => 0031
0023    TGETS   11   0   0  ; "ui"
0024    TGETS   11  11   1  ; "document"
0025    MOV     12  11
0026    TGETS   11  11  10  ; "getNextVisibleChar"
0027    MOV     13   8
0028    CALL    11   2   3
0029    MOV     10  11
0030    JMP     11 => 0056
0031 => TGETS   11   0   0  ; "ui"
0032    TGETS   11  11   1  ; "document"
0033    MOV     12  11
0034    TGETS   11  11  11  ; "getNextVisibleWordStart"
0035    MOV     13   8
0036    CALL    11   2   3
0037    MOV     10  11
0038    JMP     11 => 0056
0039 => ISF          5
0040    JMP     11 => 0049
0041    TGETS   11   0   0  ; "ui"
0042    TGETS   11  11   1  ; "document"
0043    MOV     12  11
0044    TGETS   11  11  12  ; "getPrevVisibleChar"
0045    MOV     13   8
0046    CALL    11   2   3
0047    MOV     10  11
0048    JMP     11 => 0056
0049 => TGETS   11   0   0  ; "ui"
0050    TGETS   11  11   1  ; "document"
0051    MOV     12  11
0052    TGETS   11  11  13  ; "getPrevVisibleWordStart"
0053    MOV     13   8
0054    CALL    11   2   3
0055    MOV     10  11
0056 => ISF         10
0057    JMP     11 => 0135
0058    TGETS   11   0   0  ; "ui"
0059    TGETS   11  11   1  ; "document"
0060    MOV     12  11
0061    TGETS   11  11  14  ; "compareXPointers"
0062    MOV     13  10
0063    MOV     14   9
0064    CALL    11   2   4
0065    ISF         11
0066    JMP     12 => 0135
0067    KSHORT  12   0
0068    ISGE    12  11
0069    JMP     12 => 0135
0070    TGETS   12   0   4  ; "view"
0071    TGETS   12  12   5  ; "highlight"
0072    TGETS   12  12   6  ; "saved"
0073    TGETV   12  12   1
0074    TGETV   12  12   2
0075    TSETS   10  12   8  ; "pos0"
0076    JMP     10 => 0135
0077 => KPRI    10   0
0078    ISNEN    4   1      ; 1
0079    JMP     11 => 0098
0080    ISF          5
0081    JMP     11 => 0090
0082    TGETS   11   0   0  ; "ui"
0083    TGETS   11  11   1  ; "document"
0084    MOV     12  11
0085    TGETS   11  11  10  ; "getNextVisibleChar"
0086    MOV     13   9
0087    CALL    11   2   3
0088    MOV     10  11
0089    JMP     11 => 0115
0090 => TGETS   11   0   0  ; "ui"
0091    TGETS   11  11   1  ; "document"
0092    MOV     12  11
0093    TGETS   11  11  15  ; "getNextVisibleWordEnd"
0094    MOV     13   9
0095    CALL    11   2   3
0096    MOV     10  11
0097    JMP     11 => 0115
0098 => ISF          5
0099    JMP     11 => 0108
0100    TGETS   11   0   0  ; "ui"
0101    TGETS   11  11   1  ; "document"
0102    MOV     12  11
0103    TGETS   11  11  12  ; "getPrevVisibleChar"
0104    MOV     13   9
0105    CALL    11   2   3
0106    MOV     10  11
0107    JMP     11 => 0115
0108 => TGETS   11   0   0  ; "ui"
0109    TGETS   11  11   1  ; "document"
0110    MOV     12  11
0111    TGETS   11  11  16  ; "getPrevVisibleWordEnd"
0112    MOV     13   9
0113    CALL    11   2   3
0114    MOV     10  11
0115 => ISF         10
0116    JMP     11 => 0135
0117    TGETS   11   0   0  ; "ui"
0118    TGETS   11  11   1  ; "document"
0119    MOV     12  11
0120    TGETS   11  11  14  ; "compareXPointers"
0121    MOV     13   8
0122    MOV     14  10
0123    CALL    11   2   4
0124    ISF         11
0125    JMP     12 => 0135
0126    KSHORT  12   0
0127    ISGE    12  11
0128    JMP     12 => 0135
0129    TGETS   12   0   4  ; "view"
0130    TGETS   12  12   5  ; "highlight"
0131    TGETS   12  12   6  ; "saved"
0132    TGETV   12  12   1
0133    TGETV   12  12   2
0134    TSETS   10  12   9  ; "pos1"
0135 => TGETS   10   0   4  ; "view"
0136    TGETS   10  10   5  ; "highlight"
0137    TGETS   10  10   6  ; "saved"
0138    TGETV   10  10   1
0139    TGETV   10  10   2
0140    TGETS   10  10   8  ; "pos0"
0141    TGETS   11   0   4  ; "view"
0142    TGETS   11  11   5  ; "highlight"
0143    TGETS   11  11   6  ; "saved"
0144    TGETV   11  11   1
0145    TGETV   11  11   2
0146    TGETS   11  11   9  ; "pos1"
0147    TGETS   12   0   0  ; "ui"
0148    TGETS   12  12   1  ; "document"
0149    MOV     13  12
0150    TGETS   12  12  17  ; "getTextFromXPointers"
0151    MOV     14  10
0152    MOV     15  11
0153    CALL    12   2   4
0154    TGETS   13   0   4  ; "view"
0155    TGETS   13  13   5  ; "highlight"
0156    TGETS   13  13   6  ; "saved"
0157    TGETV   13  13   1
0158    TGETV   13  13   2
0159    TSETS   12  13  18  ; "text"
0160    TGETS   13   0   4  ; "view"
0161    TGETS   13  13   5  ; "highlight"
0162    TGETS   13  13   6  ; "saved"
0163    TGETV   13  13   1
0164    TGETV   13  13   2
0165    TGETS   14   0   0  ; "ui"
0166    TGETS   14  14  19  ; "bookmark"
0167    MOV     15  14
0168    TGETS   14  14  20  ; "updateBookmark"
0169    TDUP    16  21
0170    TSETS    8  16  22  ; "page"
0171    TSETS    7  16   7  ; "datetime"
0172    TSETS   13  16  23  ; "updated_highlight"
0173    KPRI    17   2
0174    CALL    14   1   4
0175    ISNEN    3   0      ; 0
0176    JMP     14 => 0196
0177    TGETS   14   0   0  ; "ui"
0178    TGETS   14  14   1  ; "document"
0179    MOV     15  14
0180    TGETS   14  14  24  ; "isXPointerInCurrentPage"
0181    MOV     16  10
0182    CALL    14   2   3
0183    IST         14
0184    JMP     14 => 0241
0185    TGETS   14   0   0  ; "ui"
0186    MOV     15  14
0187    TGETS   14  14  25  ; "handleEvent"
0188    UGET    16   0      ; Event
0189    MOV     17  16
0190    TGETS   16  16  26  ; "new"
0191    KSTR    18  27      ; "GotoXPointer"
0192    MOV     19  10
0193    CALL    16   0   4
0194    CALLM   14   1   1
0195    JMP     14 => 0241
0196 => TGETS   14   0   0  ; "ui"
0197    TGETS   14  14   1  ; "document"
0198    MOV     15  14
0199    TGETS   14  14  24  ; "isXPointerInCurrentPage"
0200    MOV     16  11
0201    CALL    14   2   3
0202    IST         14
0203    JMP     14 => 0241
0204    TGETS   14   0   4  ; "view"
0205    TGETS   14  14  28  ; "view_mode"
0206    ISNES   14  22      ; "page"
0207    JMP     14 => 0219
0208    TGETS   14   0   0  ; "ui"
0209    MOV     15  14
0210    TGETS   14  14  25  ; "handleEvent"
0211    UGET    16   0      ; Event
0212    MOV     17  16
0213    TGETS   16  16  26  ; "new"
0214    KSTR    18  27      ; "GotoXPointer"
0215    MOV     19  11
0216    CALL    16   0   4
0217    CALLM   14   1   1
0218    JMP     14 => 0241
0219 => TGETS   14   0   0  ; "ui"
0220    TGETS   14  14   1  ; "document"
0221    MOV     15  14
0222    TGETS   14  14  29  ; "getPosFromXPointer"
0223    MOV     16  11
0224    CALL    14   2   3
0225    GGET    15  30      ; "math"
0226    TGETS   15  15  31  ; "floor"
0227    UGET    16   1      ; Screen
0228    MOV     17  16
0229    TGETS   16  16  32  ; "getHeight"
0230    CALL    16   2   2
0231    MULVN   16  16   2  ; 2
0232    DIVVN   16  16   3  ; 3
0233    CALL    15   2   2
0234    SUBVV   15  14  15
0235    TGETS   16   0   0  ; "ui"
0236    TGETS   16  16  33  ; "rolling"
0237    MOV     17  16
0238    TGETS   16  16  34  ; "_gotoPos"
0239    MOV     18  15
0240    CALL    16   1   3
0241 => UGET    14   2      ; UIManager
0242    MOV     15  14
0243    TGETS   14  14  35  ; "setDirty"
0244    TGETS   16   0  36  ; "dialog"
0245    KSTR    17   0      ; "ui"
0246    CALL    14   1   4
0247    RET0     0   1

-- BYTECODE -- readerhighlight.lua:360-364
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "deleteHighlight"
0004    UGET     2   1      ; page
0005    UGET     3   2      ; index
0006    CALL     0   1   4
0007    UGET     0   3      ; UIManager
0008    MOV      1   0
0009    TGETS    0   0   1  ; "close"
0010    UGET     2   0      ; self
0011    TGETS    2   2   2  ; "edit_highlight_dialog"
0012    KSTR     3   3      ; "ui"
0013    CALL     0   1   4
0014    RET0     0   1

-- BYTECODE -- readerhighlight.lua:368-371
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "editHighlight"
0004    UGET     2   1      ; page
0005    UGET     3   2      ; index
0006    CALL     0   1   4
0007    UGET     0   3      ; UIManager
0008    MOV      1   0
0009    TGETS    0   0   1  ; "close"
0010    UGET     2   0      ; self
0011    TGETS    2   2   2  ; "edit_highlight_dialog"
0012    CALL     0   1   3
0013    RET0     0   1

-- BYTECODE -- readerhighlight.lua:375-379
0001    UGET     0   0      ; self
0002    UGET     1   0      ; self
0003    TGETS    1   1   1  ; "view"
0004    TGETS    1   1   2  ; "highlight"
0005    TGETS    1   1   3  ; "saved"
0006    UGET     2   1      ; page
0007    TGETV    1   1   2
0008    UGET     2   2      ; index
0009    TGETV    1   1   2
0010    TSETS    1   0   0  ; "selected_text"
0011    UGET     0   0      ; self
0012    MOV      1   0
0013    TGETS    0   0   4  ; "onShowHighlightMenu"
0014    CALL     0   1   2
0015    UGET     0   3      ; UIManager
0016    MOV      1   0
0017    TGETS    0   0   5  ; "close"
0018    UGET     2   0      ; self
0019    TGETS    2   2   6  ; "edit_highlight_dialog"
0020    CALL     0   1   3
0021    RET0     0   1

-- BYTECODE -- readerhighlight.lua:398-400
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "updateHighlight"
0004    UGET     2   1      ; page
0005    UGET     3   2      ; index
0006    KSHORT   4   0
0007    KSHORT   5  -1
0008    KPRI     6   1
0009    CALL     0   1   7
0010    RET0     0   1

-- BYTECODE -- readerhighlight.lua:401-404
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "updateHighlight"
0004    UGET     2   1      ; page
0005    UGET     3   2      ; index
0006    KSHORT   4   0
0007    KSHORT   5  -1
0008    KPRI     6   2
0009    CALL     0   1   7
0010    KPRI     0   2
0011    RET1     0   2

-- BYTECODE -- readerhighlight.lua:408-410
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "updateHighlight"
0004    UGET     2   1      ; page
0005    UGET     3   2      ; index
0006    KSHORT   4   0
0007    KSHORT   5   1
0008    KPRI     6   1
0009    CALL     0   1   7
0010    RET0     0   1

-- BYTECODE -- readerhighlight.lua:411-414
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "updateHighlight"
0004    UGET     2   1      ; page
0005    UGET     3   2      ; index
0006    KSHORT   4   0
0007    KSHORT   5   1
0008    KPRI     6   2
0009    CALL     0   1   7
0010    KPRI     0   2
0011    RET1     0   2

-- BYTECODE -- readerhighlight.lua:418-420
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "updateHighlight"
0004    UGET     2   1      ; page
0005    UGET     3   2      ; index
0006    KSHORT   4   1
0007    KSHORT   5  -1
0008    KPRI     6   1
0009    CALL     0   1   7
0010    RET0     0   1

-- BYTECODE -- readerhighlight.lua:421-423
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "updateHighlight"
0004    UGET     2   1      ; page
0005    UGET     3   2      ; index
0006    KSHORT   4   1
0007    KSHORT   5  -1
0008    KPRI     6   2
0009    CALL     0   1   7
0010    RET0     0   1

-- BYTECODE -- readerhighlight.lua:427-429
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "updateHighlight"
0004    UGET     2   1      ; page
0005    UGET     3   2      ; index
0006    KSHORT   4   1
0007    KSHORT   5   1
0008    KPRI     6   1
0009    CALL     0   1   7
0010    RET0     0   1

-- BYTECODE -- readerhighlight.lua:430-432
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "updateHighlight"
0004    UGET     2   1      ; page
0005    UGET     3   2      ; index
0006    KSHORT   4   1
0007    KSHORT   5   1
0008    KPRI     6   2
0009    CALL     0   1   7
0010    RET0     0   1

-- BYTECODE -- readerhighlight.lua:355-441
0001    TNEW     3   3
0002    TNEW     4   4
0003    TDUP     5   1
0004    UGET     6   0      ; _
0005    KSTR     7   0      ; "Delete"
0006    CALL     6   2   2
0007    TSETS    6   5   2  ; "text"
0008    FNEW     6   3      ; readerhighlight.lua:360
0009    TSETS    6   5   4  ; "callback"
0010    TSETB    5   4   1
0011    TDUP     5   6
0012    UGET     6   0      ; _
0013    KSTR     7   5      ; "Edit"
0014    CALL     6   2   2
0015    TSETS    6   5   2  ; "text"
0016    FNEW     6   7      ; readerhighlight.lua:368
0017    TSETS    6   5   4  ; "callback"
0018    TSETB    5   4   2
0019    TDUP     5   9
0020    UGET     6   0      ; _
0021    KSTR     7   8      ; "…"
0022    CALL     6   2   2
0023    TSETS    6   5   2  ; "text"
0024    FNEW     6  10      ; readerhighlight.lua:375
0025    TSETS    6   5   4  ; "callback"
0026    TSETB    5   4   3
0027    TSETB    4   3   1
0028    TGETS    4   0  11  ; "ui"
0029    TGETS    4   4  12  ; "document"
0030    TGETS    4   4  13  ; "info"
0031    TGETS    4   4  14  ; "has_pages"
0032    IST          4
0033    JMP      4 => 0096
0034    KSTR     4  15      ; "◁⇱"
0035    KSTR     5  16      ; "⇱▷"
0036    KSTR     6  17      ; "◁⇲"
0037    KSTR     7  18      ; "⇲▷"
0038    UGET     8   2      ; BD
0039    TGETS    8   8  19  ; "mirroredUILayout"
0040    CALL     8   2   1
0041    ISF          8
0042    JMP      9 => 0063
0043    UGET     8   2      ; BD
0044    TGETS    8   8  20  ; "ltr"
0045    MOV      9   5
0046    CALL     8   2   2
0047    UGET     9   2      ; BD
0048    TGETS    9   9  20  ; "ltr"
0049    MOV     10   4
0050    CALL     9   2   2
0051    MOV      5   9
0052    MOV      4   8
0053    UGET     8   2      ; BD
0054    TGETS    8   8  20  ; "ltr"
0055    MOV      9   7
0056    CALL     8   2   2
0057    UGET     9   2      ; BD
0058    TGETS    9   9  20  ; "ltr"
0059    MOV     10   6
0060    CALL     9   2   2
0061    MOV      7   9
0062    MOV      6   8
0063 => GGET     8  21      ; "table"
0064    TGETS    8   8  22  ; "insert"
0065    MOV      9   3
0066    TNEW    10   5
0067    TDUP    11  23
0068    TSETS    4  11   2  ; "text"
0069    FNEW    12  24      ; readerhighlight.lua:398
0070    TSETS   12  11   4  ; "callback"
0071    FNEW    12  25      ; readerhighlight.lua:401
0072    TSETS   12  11  26  ; "hold_callback"
0073    TSETB   11  10   1
0074    TDUP    11  27
0075    TSETS    5  11   2  ; "text"
0076    FNEW    12  28      ; readerhighlight.lua:408
0077    TSETS   12  11   4  ; "callback"
0078    FNEW    12  29      ; readerhighlight.lua:411
0079    TSETS   12  11  26  ; "hold_callback"
0080    TSETB   11  10   2
0081    TDUP    11  30
0082    TSETS    6  11   2  ; "text"
0083    FNEW    12  31      ; readerhighlight.lua:418
0084    TSETS   12  11   4  ; "callback"
0085    FNEW    12  32      ; readerhighlight.lua:421
0086    TSETS   12  11  26  ; "hold_callback"
0087    TSETB   11  10   3
0088    TDUP    11  33
0089    TSETS    7  11   2  ; "text"
0090    FNEW    12  34      ; readerhighlight.lua:427
0091    TSETS   12  11   4  ; "callback"
0092    FNEW    12  35      ; readerhighlight.lua:430
0093    TSETS   12  11  26  ; "hold_callback"
0094    TSETB   11  10   4
0095    CALL     8   1   3
0096 => UGET     4   3      ; ButtonDialog
0097    MOV      5   4
0098    TGETS    4   4  37  ; "new"
0099    TDUP     6  38
0100    TSETS    3   6  39  ; "buttons"
0101    CALL     4   2   3
0102    TSETS    4   0  36  ; "edit_highlight_dialog"
0103    UGET     4   1      ; UIManager
0104    MOV      5   4
0105    TGETS    4   4  40  ; "show"
0106    TGETS    6   0  36  ; "edit_highlight_dialog"
0107    CALL     4   1   3
0108    KPRI     4   2
0109    UCLO     0 => 0110
0110 => RET1     4   2

-- BYTECODE -- readerhighlight.lua:448-451
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "saveHighlight"
0004    CALL     0   1   2
0005    UGET     0   0      ; self
0006    MOV      1   0
0007    TGETS    0   0   1  ; "onClose"
0008    CALL     0   1   2
0009    RET0     0   1

-- BYTECODE -- readerhighlight.lua:456-459
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "addNote"
0004    CALL     0   1   2
0005    UGET     0   0      ; self
0006    MOV      1   0
0007    TGETS    0   0   1  ; "onClose"
0008    CALL     0   1   2
0009    RET0     0   1

-- BYTECODE -- readerhighlight.lua:467-469
0001    UGET     0   0      ; Device
0002    TGETS    0   0   0  ; "input"
0003    TGETS    0   0   1  ; "setClipboardText"
0004    UGET     1   1      ; self
0005    TGETS    1   1   2  ; "selected_text"
0006    TGETS    1   1   3  ; "text"
0007    CALL     0   1   2
0008    RET0     0   1

-- BYTECODE -- readerhighlight.lua:474-476
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "viewSelectionHTML"
0004    CALL     0   1   2
0005    RET0     0   1

-- BYTECODE -- readerhighlight.lua:483-488
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "lookupWikipedia"
0004    CALL     0   1   2
0005    RET0     0   1

-- BYTECODE -- readerhighlight.lua:482-489
0001    UGET     0   0      ; UIManager
0002    MOV      1   0
0003    TGETS    0   0   0  ; "scheduleIn"
0004    KNUM     2   0      ; 0.1
0005    FNEW     3   1      ; readerhighlight.lua:483
0006    CALL     0   1   4
0007    RET0     0   1

-- BYTECODE -- readerhighlight.lua:493-496
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "onHighlightDictLookup"
0004    CALL     0   1   2
0005    RET0     0   1

-- BYTECODE -- readerhighlight.lua:502-509
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "translate"
0004    UGET     2   0      ; self
0005    TGETS    2   2   1  ; "selected_text"
0006    CALL     0   1   3
0007    RET0     0   1

-- BYTECODE -- readerhighlight.lua:513-516
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "onHighlightSearch"
0004    CALL     0   1   2
0005    UGET     0   1      ; UIManager
0006    MOV      1   0
0007    TGETS    0   0   1  ; "close"
0008    UGET     2   0      ; self
0009    TGETS    2   2   2  ; "highlight_dialog"
0010    CALL     0   1   3
0011    RET0     0   1

-- BYTECODE -- readerhighlight.lua:524-528
0001    UGET     0   0      ; self
0002    TGETS    0   0   0  ; "selected_link"
0003    TGETS    0   0   1  ; "link"
0004    IST          0
0005    JMP      1 => 0008
0006    UGET     0   0      ; self
0007    TGETS    0   0   0  ; "selected_link"
0008 => UGET     1   0      ; self
0009    TGETS    1   1   2  ; "ui"
0010    TGETS    1   1   1  ; "link"
0011    MOV      2   1
0012    TGETS    1   1   3  ; "onGotoLink"
0013    MOV      3   0
0014    CALL     1   1   3
0015    UGET     1   0      ; self
0016    MOV      2   1
0017    TGETS    1   1   4  ; "onClose"
0018    CALL     1   1   2
0019    RET0     0   1

-- BYTECODE -- readerhighlight.lua:536-541
0001    UGET     0   0      ; self
0002    TGETS    0   0   0  ; "selected_text"
0003    TGETS    0   0   1  ; "text"
0004    UGET     1   0      ; self
0005    MOV      2   1
0006    TGETS    1   1   2  ; "onClose"
0007    CALL     1   1   2
0008    UGET     1   1      ; Device
0009    TGETS    1   1   3  ; "doShareText"
0010    MOV      2   0
0011    CALL     1   1   2
0012    RET0     0   1

-- BYTECODE -- readerhighlight.lua:548-548
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "handleEvent"
0004    UGET     2   1      ; Event
0005    MOV      3   2
0006    TGETS    2   2   1  ; "new"
0007    KSTR     4   2      ; "Tap"
0008    CALL     2   0   3
0009    CALLM    0   1   1
0010    RET0     0   1

-- BYTECODE -- readerhighlight.lua:443-551
0001    TNEW     1   5
0002    TNEW     2   3
0003    TDUP     3   1
0004    UGET     4   0      ; _
0005    KSTR     5   0      ; "Highlight"
0006    CALL     4   2   2
0007    TSETS    4   3   2  ; "text"
0008    FNEW     4   3      ; readerhighlight.lua:448
0009    TSETS    4   3   4  ; "callback"
0010    TGETS    4   0   5  ; "hold_pos"
0011    ISNEP    4   0
0012    JMP      4 => 0015
0013    KPRI     4   1
0014    JMP      5 => 0016
0015 => KPRI     4   2
0016 => TSETS    4   3   6  ; "enabled"
0017    TSETB    3   2   1
0018    TDUP     3   8
0019    UGET     4   0      ; _
0020    KSTR     5   7      ; "Add Note"
0021    CALL     4   2   2
0022    TSETS    4   3   2  ; "text"
0023    FNEW     4   9      ; readerhighlight.lua:456
0024    TSETS    4   3   4  ; "callback"
0025    TGETS    4   0   5  ; "hold_pos"
0026    ISNEP    4   0
0027    JMP      4 => 0030
0028    KPRI     4   1
0029    JMP      5 => 0031
0030 => KPRI     4   2
0031 => TSETS    4   3   6  ; "enabled"
0032    TSETB    3   2   2
0033    TSETB    2   1   1
0034    TNEW     2   3
0035    TDUP     3  12
0036    UGET     4   1      ; C_
0037    KSTR     5  10      ; "Text"
0038    KSTR     6  11      ; "Copy"
0039    CALL     4   2   3
0040    TSETS    4   3   2  ; "text"
0041    UGET     4   2      ; Device
0042    MOV      5   4
0043    TGETS    4   4  13  ; "hasClipboard"
0044    CALL     4   2   2
0045    TSETS    4   3   6  ; "enabled"
0046    FNEW     4  14      ; readerhighlight.lua:467
0047    TSETS    4   3   4  ; "callback"
0048    TSETB    3   2   1
0049    TDUP     3  16
0050    UGET     4   0      ; _
0051    KSTR     5  15      ; "View HTML"
0052    CALL     4   2   2
0053    TSETS    4   3   2  ; "text"
0054    TGETS    4   0  17  ; "ui"
0055    TGETS    4   4  18  ; "document"
0056    TGETS    4   4  19  ; "info"
0057    TGETS    4   4  20  ; "has_pages"
0058    NOT      4   4
0059    TSETS    4   3   6  ; "enabled"
0060    FNEW     4  21      ; readerhighlight.lua:474
0061    TSETS    4   3   4  ; "callback"
0062    TSETB    3   2   2
0063    TSETB    2   1   2
0064    TNEW     2   3
0065    TDUP     3  23
0066    UGET     4   0      ; _
0067    KSTR     5  22      ; "Wikipedia"
0068    CALL     4   2   2
0069    TSETS    4   3   2  ; "text"
0070    FNEW     4  24      ; readerhighlight.lua:482
0071    TSETS    4   3   4  ; "callback"
0072    TSETB    3   2   1
0073    TDUP     3  26
0074    UGET     4   0      ; _
0075    KSTR     5  25      ; "Dictionary"
0076    CALL     4   2   2
0077    TSETS    4   3   2  ; "text"
0078    FNEW     4  27      ; readerhighlight.lua:493
0079    TSETS    4   3   4  ; "callback"
0080    TSETB    3   2   2
0081    TSETB    2   1   3
0082    TNEW     2   3
0083    TDUP     3  29
0084    UGET     4   0      ; _
0085    KSTR     5  28      ; "Translate"
0086    CALL     4   2   2
0087    TSETS    4   3   2  ; "text"
0088    FNEW     4  30      ; readerhighlight.lua:502
0089    TSETS    4   3   4  ; "callback"
0090    TSETB    3   2   1
0091    TDUP     3  32
0092    UGET     4   0      ; _
0093    KSTR     5  31      ; "Search"
0094    CALL     4   2   2
0095    TSETS    4   3   2  ; "text"
0096    FNEW     4  33      ; readerhighlight.lua:513
0097    TSETS    4   3   4  ; "callback"
0098    TSETB    3   2   2
0099    TSETB    2   1   4
0100    TGETS    2   0  34  ; "selected_link"
0101    ISEQP    2   0
0102    JMP      2 => 0116
0103    GGET     2  35      ; "table"
0104    TGETS    2   2  36  ; "insert"
0105    MOV      3   1
0106    TNEW     4   3
0107    TDUP     5  38
0108    UGET     6   0      ; _
0109    KSTR     7  37      ; "Follow Link"
0110    CALL     6   2   2
0111    TSETS    6   5   2  ; "text"
0112    FNEW     6  39      ; readerhighlight.lua:524
0113    TSETS    6   5   4  ; "callback"
0114    TSETB    5   4   1
0115    CALL     2   1   3
0116 => UGET     2   2      ; Device
0117    MOV      3   2
0118    TGETS    2   2  40  ; "canShareText"
0119    CALL     2   2   2
0120    ISF          2
0121    JMP      3 => 0135
0122    GGET     2  35      ; "table"
0123    TGETS    2   2  36  ; "insert"
0124    MOV      3   1
0125    TNEW     4   3
0126    TDUP     5  42
0127    UGET     6   0      ; _
0128    KSTR     7  41      ; "Share text"
0129    CALL     6   2   2
0130    TSETS    6   5   2  ; "text"
0131    FNEW     6  43      ; readerhighlight.lua:536
0132    TSETS    6   5   4  ; "callback"
0133    TSETB    5   4   1
0134    CALL     2   1   3
0135 => UGET     2   4      ; ButtonDialog
0136    MOV      3   2
0137    TGETS    2   2  45  ; "new"
0138    TDUP     4  46
0139    TSETS    1   4  47  ; "buttons"
0140    FNEW     5  48      ; readerhighlight.lua:548
0141    TSETS    5   4  49  ; "tap_close_callback"
0142    CALL     2   2   3
0143    TSETS    2   0  44  ; "highlight_dialog"
0144    UGET     2   3      ; UIManager
0145    MOV      3   2
0146    TGETS    2   2  50  ; "show"
0147    TGETS    4   0  44  ; "highlight_dialog"
0148    CALL     2   1   3
0149    UCLO     0 => 0150
0150 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:553-559
0001    ISF          1
0002    JMP      2 => 0006
0003    KPRI     2   0
0004    TSETS    2   0   0  ; "hold_last_tv"
0005    JMP      2 => 0010
0006 => UGET     2   0      ; TimeVal
0007    TGETS    2   2   1  ; "now"
0008    CALL     2   2   1
0009    TSETS    2   0   0  ; "hold_last_tv"
0010 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:561-621
0001    TGETS    3   0   0  ; "view"
0002    TGETS    3   3   1  ; "highlight"
0003    TGETS    3   3   2  ; "disabled"
0004    ISF          3
0005    JMP      4 => 0008
0006    KPRI     3   1
0007    RET1     3   2
0008 => MOV      4   0
0009    TGETS    3   0   3  ; "clear"
0010    CALL     3   1   2
0011    TGETS    3   2   5  ; "pos"
0012    TSETS    3   0   4  ; "hold_ges_pos"
0013    TGETS    3   0   0  ; "view"
0014    MOV      4   3
0015    TGETS    3   3   7  ; "screenToPageTransform"
0016    TGETS    5   2   5  ; "pos"
0017    CALL     3   2   3
0018    TSETS    3   0   6  ; "hold_pos"
0019    UGET     3   0      ; logger
0020    TGETS    3   3   8  ; "dbg"
0021    KSTR     4   9      ; "hold position in page"
0022    TGETS    5   0   6  ; "hold_pos"
0023    CALL     3   1   3
0024    TGETS    3   0   6  ; "hold_pos"
0025    IST          3
0026    JMP      3 => 0033
0027    UGET     3   0      ; logger
0028    TGETS    3   3   8  ; "dbg"
0029    KSTR     4  10      ; "not inside page area"
0030    CALL     3   1   2
0031    KPRI     3   1
0032    RET1     3   2
0033 => TGETS    3   0  11  ; "ui"
0034    TGETS    3   3  12  ; "document"
0035    MOV      4   3
0036    TGETS    3   3  13  ; "getImageFromPosition"
0037    TGETS    5   0   6  ; "hold_pos"
0038    KPRI     6   2
0039    CALL     3   2   4
0040    ISF          3
0041    JMP      4 => 0061
0042    UGET     4   0      ; logger
0043    TGETS    4   4   8  ; "dbg"
0044    KSTR     5  14      ; "hold on image"
0045    CALL     4   1   2
0046    GGET     4  15      ; "require"
0047    KSTR     5  16      ; "ui/widget/imageviewer"
0048    CALL     4   2   2
0049    MOV      6   4
0050    TGETS    5   4  17  ; "new"
0051    TDUP     7  18
0052    TSETS    3   7  19  ; "image"
0053    CALL     5   2   3
0054    UGET     6   1      ; UIManager
0055    MOV      7   6
0056    TGETS    6   6  20  ; "show"
0057    MOV      8   5
0058    CALL     6   1   3
0059    KPRI     6   2
0060    RET1     6   2
0061 => GGET     4  21      ; "pcall"
0062    TGETS    5   0  11  ; "ui"
0063    TGETS    5   5  12  ; "document"
0064    TGETS    5   5  22  ; "getWordFromPosition"
0065    TGETS    6   0  11  ; "ui"
0066    TGETS    6   6  12  ; "document"
0067    TGETS    7   0   6  ; "hold_pos"
0068    CALL     4   3   4
0069    ISF          4
0070    JMP      6 => 0130
0071    ISF          5
0072    JMP      6 => 0130
0073    UGET     6   0      ; logger
0074    TGETS    6   6   8  ; "dbg"
0075    KSTR     7  23      ; "selected word:"
0076    MOV      8   5
0077    CALL     6   1   3
0078    TSETS    5   0  24  ; "selected_word"
0079    TGETS    6   0  11  ; "ui"
0080    TGETS    6   6  25  ; "link"
0081    MOV      7   6
0082    TGETS    6   6  26  ; "getLinkFromGes"
0083    MOV      8   2
0084    CALL     6   2   3
0085    KPRI     7   0
0086    TSETS    7   0  27  ; "selected_link"
0087    ISF          6
0088    JMP      7 => 0095
0089    UGET     7   0      ; logger
0090    TGETS    7   7   8  ; "dbg"
0091    KSTR     8  28      ; "link:"
0092    MOV      9   6
0093    CALL     7   1   3
0094    TSETS    6   0  27  ; "selected_link"
0095 => TGETS    7   0  11  ; "ui"
0096    TGETS    7   7  12  ; "document"
0097    TGETS    7   7  29  ; "info"
0098    TGETS    7   7  30  ; "has_pages"
0099    ISF          7
0100    JMP      8 => 0114
0101    TNEW     7   0
0102    GGET     8  31      ; "table"
0103    TGETS    8   8  32  ; "insert"
0104    MOV      9   7
0105    TGETS   10   0  24  ; "selected_word"
0106    TGETS   10  10  33  ; "sbox"
0107    CALL     8   1   3
0108    TGETS    8   0   0  ; "view"
0109    TGETS    8   8   1  ; "highlight"
0110    TGETS    8   8  34  ; "temp"
0111    TGETS    9   0   6  ; "hold_pos"
0112    TGETS    9   9  35  ; "page"
0113    TSETV    7   8   9
0114 => UGET     7   1      ; UIManager
0115    MOV      8   7
0116    TGETS    7   7  36  ; "setDirty"
0117    TGETS    9   0  37  ; "dialog"
0118    KSTR    10  11      ; "ui"
0119    CALL     7   1   4
0120    MOV      8   0
0121    TGETS    7   0  38  ; "_resetHoldTimer"
0122    CALL     7   1   2
0123    TGETS    7   5  39  ; "pos0"
0124    ISF          7
0125    JMP      8 => 0128
0126    TGETS    7   5  39  ; "pos0"
0127    TSETS    7   0  40  ; "selected_text_start_xpointer"
0128 => KPRI     7   2
0129    RET1     7   2
0130 => KPRI     6   1
0131    RET1     6   2

-- BYTECODE -- readerhighlight.lua:679-682
0001    UGET     0   0      ; self
0002    TGETS    0   0   0  ; "ui"
0003    MOV      1   0
0004    TGETS    0   0   1  ; "handleEvent"
0005    UGET     2   1      ; Event
0006    MOV      3   2
0007    TGETS    2   2   2  ; "new"
0008    KSTR     4   3      ; "SetViewMode"
0009    KSTR     5   4      ; "page"
0010    CALL     2   0   4
0011    CALLM    0   1   1
0012    UGET     0   0      ; self
0013    TGETS    0   0   0  ; "ui"
0014    TGETS    0   0   5  ; "rolling"
0015    MOV      1   0
0016    TGETS    0   0   6  ; "onGotoXPointer"
0017    UGET     2   2      ; restore_page_mode_xpointer
0018    UGET     3   0      ; self
0019    TGETS    3   3   7  ; "selected_text_start_xpointer"
0020    CALL     0   1   4
0021    RET0     0   1

-- BYTECODE -- readerhighlight.lua:717-719
0001    UGET     0   0      ; self
0002    TGETS    0   0   0  ; "ui"
0003    TGETS    0   0   1  ; "rolling"
0004    MOV      1   0
0005    TGETS    0   0   2  ; "onGotoXPointer"
0006    UGET     2   1      ; restore_page_mode_xpointer
0007    UGET     3   0      ; self
0008    TGETS    3   3   3  ; "selected_text_start_xpointer"
0009    CALL     0   1   4
0010    RET0     0   1

-- BYTECODE -- readerhighlight.lua:623-769
0001    TGETS    3   0   0  ; "hold_pos"
0002    ISNEP    3   0
0003    JMP      3 => 0014
0004    UGET     3   0      ; logger
0005    TGETS    3   3   1  ; "dbg"
0006    KSTR     4   2      ; "no previous hold position"
0007    CALL     3   1   2
0008    MOV      4   0
0009    TGETS    3   0   3  ; "_resetHoldTimer"
0010    KPRI     5   2
0011    CALL     3   1   3
0012    KPRI     3   2
0013    UCLO     0 => 0438
0014 => TGETS    3   0   4  ; "view"
0015    MOV      4   3
0016    TGETS    3   3   5  ; "getScreenPageArea"
0017    TGETS    5   0   0  ; "hold_pos"
0018    TGETS    5   5   6  ; "page"
0019    CALL     3   2   3
0020    TGETS    4   2   7  ; "pos"
0021    MOV      5   4
0022    TGETS    4   4   8  ; "notIntersectWith"
0023    MOV      6   3
0024    CALL     4   2   3
0025    ISF          4
0026    JMP      5 => 0038
0027    UGET     4   0      ; logger
0028    TGETS    4   4   1  ; "dbg"
0029    KSTR     5   9      ; "not inside page area"
0030    MOV      6   2
0031    MOV      7   3
0032    CALL     4   1   4
0033    MOV      5   0
0034    TGETS    4   0   3  ; "_resetHoldTimer"
0035    CALL     4   1   2
0036    KPRI     4   2
0037    UCLO     0 => 0439
0038 => TGETS    4   0   4  ; "view"
0039    MOV      5   4
0040    TGETS    4   4  11  ; "screenToPageTransform"
0041    TGETS    6   2   7  ; "pos"
0042    CALL     4   2   3
0043    TSETS    4   0  10  ; "holdpan_pos"
0044    UGET     4   0      ; logger
0045    TGETS    4   4   1  ; "dbg"
0046    KSTR     5  12      ; "holdpan position in page"
0047    TGETS    6   0  10  ; "holdpan_pos"
0048    CALL     4   1   3
0049    TGETS    4   0  13  ; "ui"
0050    TGETS    4   4  14  ; "document"
0051    TGETS    4   4  15  ; "info"
0052    TGETS    4   4  16  ; "has_pages"
0053    IST          4
0054    JMP      4 => 0341
0055    TGETS    4   0  17  ; "selected_text_start_xpointer"
0056    ISF          4
0057    JMP      5 => 0341
0058    UGET     4   1      ; BD
0059    TGETS    4   4  18  ; "mirroredUILayout"
0060    CALL     4   2   1
0061    TGETS    5   0  13  ; "ui"
0062    TGETS    5   5  19  ; "rolling"
0063    ISF          5
0064    JMP      6 => 0071
0065    TGETS    5   0  13  ; "ui"
0066    TGETS    5   5  19  ; "rolling"
0067    TGETS    5   5  20  ; "inverse_reading_order"
0068    ISF          5
0069    JMP      6 => 0071
0070    NOT      4   4
0071 => KNIL     5   6
0072    ISF          4
0073    JMP      7 => 0117
0074    TGETS    7   0  10  ; "holdpan_pos"
0075    TGETS    7   7  21  ; "y"
0076    UGET     8   2      ; Screen
0077    MOV      9   8
0078    TGETS    8   8  22  ; "getHeight"
0079    CALL     8   2   2
0080    MULNV    8   8   0  ; 0.125
0081    ISGE     7   8
0082    JMP      7 => 0092
0083    TGETS    7   0  10  ; "holdpan_pos"
0084    TGETS    7   7  23  ; "x"
0085    UGET     8   2      ; Screen
0086    MOV      9   8
0087    TGETS    8   8  24  ; "getWidth"
0088    CALL     8   2   2
0089    MULNV    8   8   1  ; 0.875
0090    ISLT     8   7
0091    JMP      7 => 0094
0092 => KPRI     5   1
0093    JMP      7 => 0095
0094 => KPRI     5   2
0095 => TGETS    7   0  10  ; "holdpan_pos"
0096    TGETS    7   7  21  ; "y"
0097    UGET     8   2      ; Screen
0098    MOV      9   8
0099    TGETS    8   8  22  ; "getHeight"
0100    CALL     8   2   2
0101    MULNV    8   8   1  ; 0.875
0102    ISGE     8   7
0103    JMP      7 => 0113
0104    TGETS    7   0  10  ; "holdpan_pos"
0105    TGETS    7   7  23  ; "x"
0106    UGET     8   2      ; Screen
0107    MOV      9   8
0108    TGETS    8   8  24  ; "getWidth"
0109    CALL     8   2   2
0110    MULNV    8   8   0  ; 0.125
0111    ISLT     7   8
0112    JMP      7 => 0115
0113 => KPRI     6   1
0114    JMP      7 => 0116
0115 => KPRI     6   2
0116 => JMP      7 => 0159
0117 => TGETS    7   0  10  ; "holdpan_pos"
0118    TGETS    7   7  21  ; "y"
0119    UGET     8   2      ; Screen
0120    MOV      9   8
0121    TGETS    8   8  22  ; "getHeight"
0122    CALL     8   2   2
0123    MULNV    8   8   0  ; 0.125
0124    ISGE     7   8
0125    JMP      7 => 0135
0126    TGETS    7   0  10  ; "holdpan_pos"
0127    TGETS    7   7  23  ; "x"
0128    UGET     8   2      ; Screen
0129    MOV      9   8
0130    TGETS    8   8  24  ; "getWidth"
0131    CALL     8   2   2
0132    MULNV    8   8   0  ; 0.125
0133    ISLT     7   8
0134    JMP      7 => 0137
0135 => KPRI     5   1
0136    JMP      7 => 0138
0137 => KPRI     5   2
0138 => TGETS    7   0  10  ; "holdpan_pos"
0139    TGETS    7   7  21  ; "y"
0140    UGET     8   2      ; Screen
0141    MOV      9   8
0142    TGETS    8   8  22  ; "getHeight"
0143    CALL     8   2   2
0144    MULNV    8   8   1  ; 0.875
0145    ISGE     8   7
0146    JMP      7 => 0156
0147    TGETS    7   0  10  ; "holdpan_pos"
0148    TGETS    7   7  23  ; "x"
0149    UGET     8   2      ; Screen
0150    MOV      9   8
0151    TGETS    8   8  24  ; "getWidth"
0152    CALL     8   2   2
0153    MULNV    8   8   1  ; 0.875
0154    ISLT     8   7
0155    JMP      7 => 0158
0156 => KPRI     6   1
0157    JMP      7 => 0159
0158 => KPRI     6   2
0159 => IST          5
0160    JMP      7 => 0163
0161    ISF          6
0162    JMP      7 => 0339
0163 => MOV      8   0
0164    TGETS    7   0   3  ; "_resetHoldTimer"
0165    CALL     7   1   2
0166    TGETS    7   0  25  ; "was_in_some_corner"
0167    ISF          7
0168    JMP      8 => 0171
0169    KPRI     7   2
0170    UCLO     0 => 0440
0171 => KPRI     7   2
0172    TSETS    7   0  25  ; "was_in_some_corner"
0173    TGETS    7   0  13  ; "ui"
0174    TGETS    7   7  14  ; "document"
0175    MOV      8   7
0176    TGETS    7   7  26  ; "getVisiblePageCount"
0177    CALL     7   2   2
0178    ISNEN    7   2      ; 1
0179    JMP      7 => 0255
0180    TGETS    7   0  13  ; "ui"
0181    TGETS    7   7  14  ; "document"
0182    MOV      8   7
0183    TGETS    7   7  27  ; "getScreenPositionFromXPointer"
0184    TGETS    9   0  17  ; "selected_text_start_xpointer"
0185    CALL     7   2   3
0186    TGETS    8   0   4  ; "view"
0187    TGETS    8   8  28  ; "view_mode"
0188    ISEQS    8  29      ; "scroll"
0189    JMP      8 => 0208
0190    TGETS    8   0  13  ; "ui"
0191    TGETS    8   8  14  ; "document"
0192    MOV      9   8
0193    TGETS    8   8  30  ; "getXPointer"
0194    CALL     8   2   2
0195    FNEW     9  32      ; readerhighlight.lua:679
0196    TSETS    9   0  31  ; "restore_page_mode_func"
0197    TGETS    9   0  13  ; "ui"
0198    MOV     10   9
0199    TGETS    9   9  33  ; "handleEvent"
0200    UGET    11   3      ; Event
0201    MOV     12  11
0202    TGETS   11  11  34  ; "new"
0203    KSTR    13  35      ; "SetViewMode"
0204    KSTR    14  29      ; "scroll"
0205    CALL    11   0   4
0206    CALLM    9   1   1
0207    UCLO     8 => 0208
0208 => GGET     8  36      ; "math"
0209    TGETS    8   8  37  ; "floor"
0210    UGET     9   2      ; Screen
0211    MOV     10   9
0212    TGETS    9   9  22  ; "getHeight"
0213    CALL     9   2   2
0214    MULVN    9   9   2  ; 1
0215    DIVVN    9   9   3  ; 3
0216    CALL     8   2   2
0217    ISF          6
0218    JMP      9 => 0221
0219    ISTC     9   8
0220    JMP      9 => 0222
0221 => UNM      9   8
0222 => TGETS   10   0  13  ; "ui"
0223    TGETS   10  10  19  ; "rolling"
0224    MOV     11  10
0225    TGETS   10  10  38  ; "_gotoPos"
0226    TGETS   12   0  13  ; "ui"
0227    TGETS   12  12  14  ; "document"
0228    MOV     13  12
0229    TGETS   12  12  39  ; "getCurrentPos"
0230    CALL    12   2   2
0231    ADDVV   12  12   9
0232    CALL    10   1   3
0233    TGETS   10   0  13  ; "ui"
0234    TGETS   10  10  14  ; "document"
0235    MOV     11  10
0236    TGETS   10  10  27  ; "getScreenPositionFromXPointer"
0237    TGETS   12   0  17  ; "selected_text_start_xpointer"
0238    CALL    10   2   3
0239    TGETS   11   0   0  ; "hold_pos"
0240    TGETS   12   0   0  ; "hold_pos"
0241    TGETS   12  12  21  ; "y"
0242    SUBVV   12  12   7
0243    ADDVV   12  12  10
0244    TSETS   12  11  21  ; "y"
0245    UGET    11   4      ; UIManager
0246    MOV     12  11
0247    TGETS   11  11  40  ; "setDirty"
0248    TGETS   13   0  41  ; "dialog"
0249    KSTR    14  13      ; "ui"
0250    CALL    11   1   4
0251    KPRI    11   2
0252    UCLO     0 => 0253
0253 => RET1    11   2
0254    JMP      7 => 0341
0255 => TGETS    7   0  31  ; "restore_page_mode_func"
0256    ISF          7
0257    JMP      8 => 0261
0258    KPRI     7   2
0259    UCLO     0 => 0260
0260 => RET1     7   2
0261 => GGET     7  36      ; "math"
0262    TGETS    7   7  37  ; "floor"
0263    UGET     8   2      ; Screen
0264    MOV      9   8
0265    TGETS    8   8  24  ; "getWidth"
0266    CALL     8   2   2
0267    MULVN    8   8   2  ; 1
0268    DIVVN    8   8   4  ; 2
0269    CALL     7   2   2
0270    TGETS    8   0   0  ; "hold_pos"
0271    TGETS    8   8  23  ; "x"
0272    ISGT     7   8
0273    JMP      8 => 0280
0274    ISF          5
0275    JMP      8 => 0280
0276    KPRI     8   2
0277    UCLO     0 => 0278
0278 => RET1     8   2
0279    JMP      8 => 0289
0280 => TGETS    8   0   0  ; "hold_pos"
0281    TGETS    8   8  23  ; "x"
0282    ISGT     8   7
0283    JMP      8 => 0289
0284    ISF          6
0285    JMP      8 => 0289
0286    KPRI     8   2
0287    UCLO     0 => 0288
0288 => RET1     8   2
0289 => TGETS    8   0  13  ; "ui"
0290    TGETS    8   8  14  ; "document"
0291    MOV      9   8
0292    TGETS    8   8  42  ; "getCurrentPage"
0293    CALL     8   2   2
0294    TGETS    9   0  13  ; "ui"
0295    TGETS    9   9  14  ; "document"
0296    MOV     10   9
0297    TGETS    9   9  30  ; "getXPointer"
0298    CALL     9   2   2
0299    FNEW    10  43      ; readerhighlight.lua:717
0300    TSETS   10   0  31  ; "restore_page_mode_func"
0301    ISF          6
0302    JMP     10 => 0316
0303    TGETS   10   0  13  ; "ui"
0304    TGETS   10  10  19  ; "rolling"
0305    MOV     11  10
0306    TGETS   10  10  44  ; "_gotoPage"
0307    ADDVN   12   8   2  ; 1
0308    KPRI    13   2
0309    CALL    10   1   4
0310    TGETS   10   0   0  ; "hold_pos"
0311    TGETS   11   0   0  ; "hold_pos"
0312    TGETS   11  11  23  ; "x"
0313    SUBVV   11  11   7
0314    TSETS   11  10  23  ; "x"
0315    JMP     10 => 0328
0316 => TGETS   10   0  13  ; "ui"
0317    TGETS   10  10  19  ; "rolling"
0318    MOV     11  10
0319    TGETS   10  10  44  ; "_gotoPage"
0320    SUBVN   12   8   2  ; 1
0321    KPRI    13   2
0322    CALL    10   1   4
0323    TGETS   10   0   0  ; "hold_pos"
0324    TGETS   11   0   0  ; "hold_pos"
0325    TGETS   11  11  23  ; "x"
0326    ADDVV   11  11   7
0327    TSETS   11  10  23  ; "x"
0328 => UGET    10   4      ; UIManager
0329    MOV     11  10
0330    TGETS   10  10  40  ; "setDirty"
0331    TGETS   12   0  41  ; "dialog"
0332    KSTR    13  13      ; "ui"
0333    CALL    10   1   4
0334    KPRI    10   2
0335    UCLO     0 => 0336
0336 => RET1    10   2
0337    UCLO     7 => 0338
0338 => JMP      7 => 0341
0339 => KPRI     7   0
0340    TSETS    7   0  25  ; "was_in_some_corner"
0341 => TGETS    4   0  45  ; "selected_text"
0342    ISF          4
0343    JMP      5 => 0346
0344    TGETS    4   0  45  ; "selected_text"
0345    TGETS    4   4  46  ; "text"
0346 => TGETS    5   0  13  ; "ui"
0347    TGETS    5   5  14  ; "document"
0348    MOV      6   5
0349    TGETS    5   5  47  ; "getTextFromPositions"
0350    TGETS    7   0   0  ; "hold_pos"
0351    TGETS    8   0  10  ; "holdpan_pos"
0352    CALL     5   2   4
0353    TSETS    5   0  45  ; "selected_text"
0354    TGETS    5   0  45  ; "selected_text"
0355    ISF          5
0356    JMP      6 => 0367
0357    TGETS    5   0  45  ; "selected_text"
0358    TGETS    5   5  48  ; "pos0"
0359    ISF          5
0360    JMP      6 => 0367
0361    TGETS    5   0  17  ; "selected_text_start_xpointer"
0362    IST          5
0363    JMP      5 => 0367
0364    TGETS    5   0  45  ; "selected_text"
0365    TGETS    5   5  48  ; "pos0"
0366    TSETS    5   0  17  ; "selected_text_start_xpointer"
0367 => TGETS    5   0  45  ; "selected_text"
0368    ISF          5
0369    JMP      6 => 0378
0370    ISF          4
0371    JMP      5 => 0378
0372    TGETS    5   0  45  ; "selected_text"
0373    TGETS    5   5  46  ; "text"
0374    ISNEV    4   5
0375    JMP      5 => 0378
0376    UCLO     0 => 0377
0377 => RET0     0   1
0378 => MOV      6   0
0379    TGETS    5   0   3  ; "_resetHoldTimer"
0380    CALL     5   1   2
0381    UGET     5   0      ; logger
0382    TGETS    5   5   1  ; "dbg"
0383    KSTR     6  49      ; "selected text:"
0384    TGETS    7   0  45  ; "selected_text"
0385    CALL     5   1   3
0386    TGETS    5   0  45  ; "selected_text"
0387    ISF          5
0388    JMP      6 => 0430
0389    TGETS    5   0   4  ; "view"
0390    TGETS    5   5  50  ; "highlight"
0391    TGETS    5   5  51  ; "temp"
0392    TGETS    6   0   0  ; "hold_pos"
0393    TGETS    6   6   6  ; "page"
0394    TGETS    7   0  45  ; "selected_text"
0395    TGETS    7   7  52  ; "sboxes"
0396    TSETV    7   5   6
0397    TGETS    5   0  45  ; "selected_text"
0398    TGETS    5   5  52  ; "sboxes"
0399    ISF          5
0400    JMP      5 => 0406
0401    TGETS    5   0  45  ; "selected_text"
0402    TGETS    5   5  52  ; "sboxes"
0403    LEN      5   5
0404    ISNEN    5   5      ; 0
0405    JMP      5 => 0409
0406 => KPRI     5   0
0407    TSETS    5   0  53  ; "selected_word"
0408    JMP      5 => 0430
0409 => TGETS    5   0  53  ; "selected_word"
0410    ISF          5
0411    JMP      6 => 0422
0412    TGETS    5   0  53  ; "selected_word"
0413    TGETS    5   5  54  ; "sbox"
0414    MOV      6   5
0415    TGETS    5   5  55  ; "contains"
0416    TGETS    7   0  45  ; "selected_text"
0417    TGETS    7   7  52  ; "sboxes"
0418    TGETB    7   7   1
0419    CALL     5   2   3
0420    ISF          5
0421    JMP      5 => 0428
0422 => TGETS    5   0  45  ; "selected_text"
0423    TGETS    5   5  52  ; "sboxes"
0424    LEN      5   5
0425    KSHORT   6   1
0426    ISGE     6   5
0427    JMP      5 => 0430
0428 => KPRI     5   0
0429    TSETS    5   0  53  ; "selected_word"
0430 => UGET     5   4      ; UIManager
0431    MOV      6   5
0432    TGETS    5   5  40  ; "setDirty"
0433    TGETS    7   0  41  ; "dialog"
0434    KSTR     8  13      ; "ui"
0435    CALL     5   1   4
0436    UCLO     0 => 0437
0437 => RET0     0   1
0438 => RET1     3   2
0439 => RET1     4   2
0440 => RET1     7   2

-- BYTECODE -- readerhighlight.lua:780-798
0001    TGETS    3   1   0  ; "word"
0002    ISF          3
0003    JMP      4 => 0025
0004    TGETS    3   0   1  ; "view"
0005    MOV      4   3
0006    TGETS    3   3   2  ; "pageToScreenTransform"
0007    TGETS    5   0   3  ; "hold_pos"
0008    TGETS    5   5   4  ; "page"
0009    TGETS    6   1   5  ; "sbox"
0010    CALL     3   2   4
0011    TGETS    4   0   6  ; "ui"
0012    MOV      5   4
0013    TGETS    4   4   7  ; "handleEvent"
0014    UGET     6   0      ; Event
0015    MOV      7   6
0016    TGETS    6   6   8  ; "new"
0017    KSTR     8   9      ; "LookupWord"
0018    TGETS    9   1   0  ; "word"
0019    MOV     10   3
0020    MOV     11   0
0021    MOV     12   2
0022    CALL     6   0   7
0023    CALLM    4   1   1
0024    JMP      3 => 0080
0025 => TGETS    3   1   5  ; "sbox"
0026    ISF          3
0027    JMP      4 => 0080
0028    TGETS    3   0   3  ; "hold_pos"
0029    ISF          3
0030    JMP      4 => 0080
0031    TGETS    3   0   6  ; "ui"
0032    TGETS    3   3  10  ; "document"
0033    MOV      4   3
0034    TGETS    3   3  11  ; "getOCRWord"
0035    TGETS    5   0   3  ; "hold_pos"
0036    TGETS    5   5   4  ; "page"
0037    MOV      6   1
0038    CALL     3   2   4
0039    UGET     4   1      ; logger
0040    TGETS    4   4  12  ; "dbg"
0041    KSTR     5  13      ; "OCRed word:"
0042    MOV      6   3
0043    CALL     4   1   3
0044    ISF          3
0045    JMP      4 => 0069
0046    ISEQS    3  14      ; ""
0047    JMP      4 => 0069
0048    TGETS    4   0   1  ; "view"
0049    MOV      5   4
0050    TGETS    4   4   2  ; "pageToScreenTransform"
0051    TGETS    6   0   3  ; "hold_pos"
0052    TGETS    6   6   4  ; "page"
0053    TGETS    7   1   5  ; "sbox"
0054    CALL     4   2   4
0055    TGETS    5   0   6  ; "ui"
0056    MOV      6   5
0057    TGETS    5   5   7  ; "handleEvent"
0058    UGET     7   0      ; Event
0059    MOV      8   7
0060    TGETS    7   7   8  ; "new"
0061    KSTR     9   9      ; "LookupWord"
0062    MOV     10   3
0063    MOV     11   4
0064    MOV     12   0
0065    MOV     13   2
0066    CALL     7   0   7
0067    CALLM    5   1   1
0068    JMP      4 => 0080
0069 => UGET     4   2      ; UIManager
0070    MOV      5   4
0071    TGETS    4   4  15  ; "show"
0072    UGET     6   3      ; InfoMessage
0073    MOV      7   6
0074    TGETS    6   6   8  ; "new"
0075    TDUP     8  16
0076    UGET     9   4      ; info_message_ocr_text
0077    TSETS    9   8  17  ; "text"
0078    CALL     6   0   3
0079    CALLM    4   1   1
0080 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:810-816
0001    MOV      2   0
0002    TGETS    1   0   0  ; "gsub"
0003    KSTR     3   1      ; "%s*:%s*"
0004    KSTR     4   2      ; ": "
0005    CALL     1   2   4
0006    MOV      0   1
0007    MOV      2   0
0008    TGETS    1   0   0  ; "gsub"
0009    KSTR     3   3      ; "%s*,%s*"
0010    KSTR     4   4      ; "\t"
0011    CALL     1   2   4
0012    MOV      0   1
0013    RET1     0   2

-- BYTECODE -- readerhighlight.lua:800-822
0001    MOV      2   0
0002    TGETS    1   0   0  ; "gsub"
0003    KSTR     3   1      ; "\t"
0004    KSTR     4   2      ; " "
0005    CALL     1   2   4
0006    MOV      0   1
0007    MOV      2   0
0008    TGETS    1   0   0  ; "gsub"
0009    KSTR     3   3      ; "%s*{%s*"
0010    KSTR     4   4      ; " {\n    "
0011    CALL     1   2   4
0012    MOV      0   1
0013    MOV      2   0
0014    TGETS    1   0   0  ; "gsub"
0015    KSTR     3   5      ; ";%s*}%s*"
0016    KSTR     4   6      ; ";\n}\n"
0017    CALL     1   2   4
0018    MOV      0   1
0019    MOV      2   0
0020    TGETS    1   0   0  ; "gsub"
0021    KSTR     3   7      ; ";%s*([^}])"
0022    KSTR     4   8      ; ";\n    %1"
0023    CALL     1   2   4
0024    MOV      0   1
0025    MOV      2   0
0026    TGETS    1   0   0  ; "gsub"
0027    KSTR     3   9      ; "%s*}%s*"
0028    KSTR     4  10      ; "\n}\n"
0029    CALL     1   2   4
0030    MOV      0   1
0031    MOV      2   0
0032    TGETS    1   0   0  ; "gsub"
0033    KSTR     3  11      ; "{[^}]*}"
0034    FNEW     4  12      ; readerhighlight.lua:810
0035    CALL     1   2   4
0036    MOV      0   1
0037    MOV      2   0
0038    TGETS    1   0   0  ; "gsub"
0039    KSTR     3  13      ; "%s*,%s*"
0040    KSTR     4  14      ; " ,\n"
0041    CALL     1   2   4
0042    MOV      0   1
0043    MOV      2   0
0044    TGETS    1   0   0  ; "gsub"
0045    KSTR     3   1      ; "\t"
0046    KSTR     4  15      ; ", "
0047    CALL     1   2   4
0048    MOV      0   1
0049    UCLO     0 => 0050
0050 => RET1     0   2

-- BYTECODE -- readerhighlight.lua:860-862
0001    MOV      3   0
0002    KSTR     4   0      ; "\n"
0003    UGET     5   0      ; prettifyCss
0004    MOV      6   1
0005    CALL     5   2   2
0006    MOV      6   2
0007    CAT      3   3   6
0008    RET1     3   2

-- BYTECODE -- readerhighlight.lua:886-896
0001    UGET     0   0      ; UIManager
0002    MOV      1   0
0003    TGETS    0   0   0  ; "close"
0004    UGET     2   1      ; cssviewer
0005    CALL     0   1   3
0006    UGET     0   0      ; UIManager
0007    MOV      1   0
0008    TGETS    0   0   1  ; "show"
0009    UGET     2   2      ; TextViewer
0010    MOV      3   2
0011    TGETS    2   2   2  ; "new"
0012    TDUP     4   3
0013    UGET     5   3      ; css_files
0014    UGET     6   4      ; i
0015    TGETV    5   5   6
0016    TSETS    5   4   4  ; "title"
0017    UGET     5   5      ; prettifyCss
0018    UGET     6   6      ; css_text
0019    CALL     5   2   2
0020    TSETS    5   4   5  ; "text"
0021    UGET     5   7      ; Font
0022    MOV      6   5
0023    TGETS    5   5   6  ; "getFace"
0024    KSTR     7   7      ; "smallinfont"
0025    CALL     5   2   3
0026    TSETS    5   4   8  ; "text_face"
0027    CALL     2   0   3
0028    CALLM    0   1   1
0029    RET0     0   1

-- BYTECODE -- readerhighlight.lua:900-902
0001    UGET     0   0      ; UIManager
0002    MOV      1   0
0003    TGETS    0   0   0  ; "close"
0004    UGET     2   1      ; cssviewer
0005    CALL     0   1   3
0006    RET0     0   1

-- BYTECODE -- readerhighlight.lua:872-907
0001    UGET     0   0      ; self
0002    TGETS    0   0   0  ; "ui"
0003    TGETS    0   0   1  ; "document"
0004    MOV      1   0
0005    TGETS    0   0   2  ; "getDocumentFileContent"
0006    UGET     2   1      ; css_files
0007    UGET     3   2      ; i
0008    TGETV    2   2   3
0009    CALL     0   2   3
0010    KPRI     1   0
0011    UGET     2   3      ; TextViewer
0012    MOV      3   2
0013    TGETS    2   2   3  ; "new"
0014    TDUP     4   4
0015    UGET     5   1      ; css_files
0016    UGET     6   2      ; i
0017    TGETV    5   5   6
0018    TSETS    5   4   5  ; "title"
0019    ISTC     5   0
0020    JMP      5 => 0024
0021    UGET     5   4      ; _
0022    KSTR     6   6      ; "Failed getting CSS content"
0023    CALL     5   2   2
0024 => TSETS    5   4   7  ; "text"
0025    UGET     5   5      ; Font
0026    MOV      6   5
0027    TGETS    5   5   8  ; "getFace"
0028    KSTR     7   9      ; "smallinfont"
0029    CALL     5   2   3
0030    TSETS    5   4  10  ; "text_face"
0031    TNEW     5   3
0032    TNEW     6   3
0033    TDUP     7  12
0034    UGET     8   4      ; _
0035    KSTR     9  11      ; "Prettify"
0036    CALL     8   2   2
0037    TSETS    8   7   7  ; "text"
0038    ISF          0
0039    JMP      8 => 0042
0040    KPRI     8   2
0041    JMP      9 => 0043
0042 => KPRI     8   1
0043 => TSETS    8   7  13  ; "enabled"
0044    FNEW     8  14      ; readerhighlight.lua:886
0045    TSETS    8   7  15  ; "callback"
0046    TSETB    7   6   1
0047    TSETB    6   5   1
0048    TNEW     6   3
0049    TDUP     7  17
0050    UGET     8   4      ; _
0051    KSTR     9  16      ; "Close"
0052    CALL     8   2   2
0053    TSETS    8   7   7  ; "text"
0054    FNEW     8  18      ; readerhighlight.lua:900
0055    TSETS    8   7  15  ; "callback"
0056    TSETB    7   6   1
0057    TSETB    6   5   2
0058    TSETS    5   4  19  ; "buttons_table"
0059    CALL     2   2   3
0060    MOV      1   2
0061    UGET     2   6      ; UIManager
0062    MOV      3   2
0063    TGETS    2   2  20  ; "show"
0064    MOV      4   1
0065    CALL     2   1   3
0066    UCLO     0 => 0067
0067 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:927-930
0001    UGET     0   0      ; UIManager
0002    MOV      1   0
0003    TGETS    0   0   0  ; "close"
0004    UGET     2   1      ; textviewer
0005    CALL     0   1   3
0006    UGET     0   2      ; self
0007    MOV      1   0
0008    TGETS    0   0   1  ; "viewSelectionHTML"
0009    UGET     2   3      ; next_debug_view
0010    CALL     0   1   3
0011    RET0     0   1

-- BYTECODE -- readerhighlight.lua:934-936
0001    UGET     0   0      ; UIManager
0002    MOV      1   0
0003    TGETS    0   0   0  ; "close"
0004    UGET     2   1      ; textviewer
0005    CALL     0   1   3
0006    RET0     0   1

-- BYTECODE -- readerhighlight.lua:824-954
0001    TGETS    2   0   0  ; "ui"
0002    TGETS    2   2   1  ; "document"
0003    TGETS    2   2   2  ; "info"
0004    TGETS    2   2   3  ; "has_pages"
0005    ISF          2
0006    JMP      3 => 0008
0007    UCLO     0 => 0192
0008 => TGETS    2   0   4  ; "selected_text"
0009    ISF          2
0010    JMP      3 => 0190
0011    TGETS    2   0   4  ; "selected_text"
0012    TGETS    2   2   5  ; "pos0"
0013    ISF          2
0014    JMP      3 => 0190
0015    TGETS    2   0   4  ; "selected_text"
0016    TGETS    2   2   6  ; "pos1"
0017    ISF          2
0018    JMP      3 => 0190
0019    KSHORT   2 24624
0020    IST          1
0021    JMP      3 => 0023
0022    KSHORT   1   0
0023 => ISNEN    1   0      ; 1
0024    JMP      3 => 0027
0025    KSHORT   2 25434
0026    JMP      3 => 0034
0027 => ISNEN    1   1      ; 2
0028    JMP      3 => 0031
0029    KSHORT   2 26458
0030    JMP      3 => 0034
0031 => ISNEN    1   2      ; 3
0032    JMP      3 => 0034
0033    KSHORT   2 25438
0034 => TGETS    3   0   0  ; "ui"
0035    TGETS    3   3   1  ; "document"
0036    MOV      4   3
0037    TGETS    3   3   7  ; "getHTMLFromXPointers"
0038    TGETS    5   0   4  ; "selected_text"
0039    TGETS    5   5   5  ; "pos0"
0040    TGETS    6   0   4  ; "selected_text"
0041    TGETS    6   6   6  ; "pos1"
0042    MOV      7   2
0043    KPRI     8   2
0044    CALL     3   3   6
0045    ISF          3
0046    JMP      5 => 0176
0047    KSHORT   5   1
0048    ISGT     5   1
0049    JMP      5 => 0068
0050    MOV      6   3
0051    TGETS    5   3   8  ; "gsub"
0052    KSTR     7   9      ; " "
0053    KSTR     8  10      ; "␣"
0054    CALL     5   2   4
0055    MOV      3   5
0056    MOV      6   3
0057    TGETS    5   3   8  ; "gsub"
0058    KSTR     7  11      ; "­"
0059    KSTR     8  12      ; "⋅"
0060    CALL     5   2   4
0061    MOV      3   5
0062    MOV      6   3
0063    TGETS    5   3   8  ; "gsub"
0064    KSTR     7  13      ; "(<stylesheet[^>]*>)%s*(.-)%s*(</styleshe"~
0065    FNEW     8  14      ; readerhighlight.lua:860
0066    CALL     5   2   4
0067    MOV      3   5
0068 => GGET     5  15      ; "require"
0069    KSTR     6  16      ; "ui/widget/textviewer"
0070    CALL     5   2   2
0071    GGET     6  15      ; "require"
0072    KSTR     7  17      ; "ui/font"
0073    CALL     6   2   2
0074    KPRI     7   0
0075    TNEW     8   0
0076    ISF          4
0077    JMP      9 => 0103
0078    KSHORT   9   1
0079    LEN     10   4
0080    KSHORT  11   1
0081    FORI     9 => 0103
0082 => TDUP    13  20
0083    UGET    14   1      ; T
0084    UGET    15   2      ; _
0085    KSTR    16  18      ; "View %1"
0086    CALL    15   2   2
0087    UGET    16   3      ; BD
0088    TGETS   16  16  19  ; "filepath"
0089    TGETV   17   4  12
0090    CALL    16   0   2
0091    CALLM   14   2   1
0092    TSETS   14  13  21  ; "text"
0093    FNEW    14  22      ; readerhighlight.lua:872
0094    TSETS   14  13  23  ; "callback"
0095    GGET    14  24      ; "table"
0096    TGETS   14  14  25  ; "insert"
0097    MOV     15   8
0098    TNEW    16   3
0099    TSETB   13  16   1
0100    CALL    14   1   3
0101    UCLO    12 => 0102
0102 => FORL     9 => 0082
0103 => KPRI     9   0
0104    ADDVN   10   1   0  ; 1
0105    ISNEN   10   0      ; 1
0106    JMP     11 => 0112
0107    UGET    11   2      ; _
0108    KSTR    12  26      ; "Switch to debug view"
0109    CALL    11   2   2
0110    MOV      9  11
0111    JMP     11 => 0131
0112 => ISNEN   10   1      ; 2
0113    JMP     11 => 0119
0114    UGET    11   2      ; _
0115    KSTR    12  27      ; "Switch to rendering debug view"
0116    CALL    11   2   2
0117    MOV      9  11
0118    JMP     11 => 0131
0119 => ISNEN   10   2      ; 3
0120    JMP     11 => 0126
0121    UGET    11   2      ; _
0122    KSTR    12  28      ; "Switch to unicode debug view"
0123    CALL    11   2   2
0124    MOV      9  11
0125    JMP     11 => 0131
0126 => KSHORT  10   0
0127    UGET    11   2      ; _
0128    KSTR    12  29      ; "Switch to standard view"
0129    CALL    11   2   2
0130    MOV      9  11
0131 => GGET    11  24      ; "table"
0132    TGETS   11  11  25  ; "insert"
0133    MOV     12   8
0134    TNEW    13   3
0135    TDUP    14  30
0136    TSETS    9  14  21  ; "text"
0137    FNEW    15  31      ; readerhighlight.lua:927
0138    TSETS   15  14  23  ; "callback"
0139    TSETB   14  13   1
0140    CALL    11   1   3
0141    GGET    11  24      ; "table"
0142    TGETS   11  11  25  ; "insert"
0143    MOV     12   8
0144    TNEW    13   3
0145    TDUP    14  33
0146    UGET    15   2      ; _
0147    KSTR    16  32      ; "Close"
0148    CALL    15   2   2
0149    TSETS   15  14  21  ; "text"
0150    FNEW    15  34      ; readerhighlight.lua:934
0151    TSETS   15  14  23  ; "callback"
0152    TSETB   14  13   1
0153    CALL    11   1   3
0154    MOV     12   5
0155    TGETS   11   5  35  ; "new"
0156    TDUP    13  37
0157    UGET    14   2      ; _
0158    KSTR    15  36      ; "Selection HTML"
0159    CALL    14   2   2
0160    TSETS   14  13  38  ; "title"
0161    TSETS    3  13  21  ; "text"
0162    MOV     15   6
0163    TGETS   14   6  39  ; "getFace"
0164    KSTR    16  40      ; "smallinfont"
0165    CALL    14   2   3
0166    TSETS   14  13  41  ; "text_face"
0167    TSETS    8  13  42  ; "buttons_table"
0168    CALL    11   2   3
0169    MOV      7  11
0170    UGET    11   4      ; UIManager
0171    MOV     12  11
0172    TGETS   11  11  43  ; "show"
0173    MOV     13   7
0174    CALL    11   1   3
0175    UCLO     5 => 0189
0176 => UGET     5   4      ; UIManager
0177    MOV      6   5
0178    TGETS    5   5  43  ; "show"
0179    UGET     7   5      ; InfoMessage
0180    MOV      8   7
0181    TGETS    7   7  35  ; "new"
0182    TDUP     9  45
0183    UGET    10   2      ; _
0184    KSTR    11  44      ; "Failed getting HTML for selection"
0185    CALL    10   2   2
0186    TSETS   10   9  21  ; "text"
0187    CALL     7   0   3
0188    CALLM    5   1   1
0189 => UCLO     2 => 0190
0190 => UCLO     0 => 0191
0191 => RET0     0   1
0192 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:956-971
0001    TGETS    2   1   0  ; "text"
0002    ISEQS    2   1      ; ""
0003    JMP      2 => 0009
0004    MOV      3   0
0005    TGETS    2   0   2  ; "onTranslateText"
0006    TGETS    4   1   0  ; "text"
0007    CALL     2   1   3
0008    JMP      2 => 0042
0009 => TGETS    2   0   3  ; "ui"
0010    TGETS    2   2   4  ; "document"
0011    MOV      3   2
0012    TGETS    2   2   5  ; "getOCRText"
0013    TGETS    4   0   6  ; "hold_pos"
0014    TGETS    4   4   7  ; "page"
0015    MOV      5   1
0016    CALL     2   2   4
0017    UGET     3   0      ; logger
0018    TGETS    3   3   8  ; "dbg"
0019    KSTR     4   9      ; "OCRed text:"
0020    MOV      5   2
0021    CALL     3   1   3
0022    ISF          2
0023    JMP      3 => 0031
0024    ISEQS    2   1      ; ""
0025    JMP      3 => 0031
0026    MOV      4   0
0027    TGETS    3   0   2  ; "onTranslateText"
0028    MOV      5   2
0029    CALL     3   1   3
0030    JMP      3 => 0042
0031 => UGET     3   1      ; UIManager
0032    MOV      4   3
0033    TGETS    3   3  10  ; "show"
0034    UGET     5   2      ; InfoMessage
0035    MOV      6   5
0036    TGETS    5   5  11  ; "new"
0037    TDUP     7  12
0038    UGET     8   3      ; info_message_ocr_text
0039    TSETS    8   7   0  ; "text"
0040    CALL     5   0   3
0041    CALLM    3   1   1
0042 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:973-975
0001    UGET     2   0      ; Translator
0002    MOV      3   2
0003    TGETS    2   2   0  ; "showTranslation"
0004    MOV      4   1
0005    CALL     2   1   3
0006    RET0     0   1

-- BYTECODE -- readerhighlight.lua:977-1023
0001    KPRI     1   1
0002    TGETS    2   0   0  ; "hold_last_tv"
0003    ISF          2
0004    JMP      3 => 0020
0005    UGET     2   0      ; TimeVal
0006    TGETS    2   2   1  ; "now"
0007    CALL     2   2   1
0008    TGETS    3   0   0  ; "hold_last_tv"
0009    SUBVV    2   2   3
0010    TGETS    3   2   2  ; "sec"
0011    TGETS    4   2   3  ; "usec"
0012    DIVVN    4   4   0  ; 1000000
0013    ADDVV    2   3   4
0014    KSHORT   3   3
0015    ISGE     3   2
0016    JMP      3 => 0018
0017    KPRI     1   2
0018 => KPRI     3   0
0019    TSETS    3   0   0  ; "hold_last_tv"
0020 => TGETS    2   0   4  ; "selected_word"
0021    ISF          2
0022    JMP      3 => 0039
0023    IST          1
0024    JMP      2 => 0032
0025    GGET     2   5      ; "G_reader_settings"
0026    MOV      3   2
0027    TGETS    2   2   6  ; "isTrue"
0028    KSTR     4   7      ; "highlight_action_on_single_word"
0029    CALL     2   2   3
0030    ISF          2
0031    JMP      3 => 0039
0032 => MOV      3   0
0033    TGETS    2   0   8  ; "onHoldPan"
0034    KPRI     4   0
0035    TDUP     5  10
0036    TGETS    6   0   9  ; "hold_ges_pos"
0037    TSETS    6   5  11  ; "pos"
0038    CALL     2   1   4
0039 => TGETS    2   0  12  ; "selected_text"
0040    ISF          2
0041    JMP      3 => 0098
0042    GGET     2   5      ; "G_reader_settings"
0043    MOV      3   2
0044    TGETS    2   2  13  ; "readSetting"
0045    KSTR     4  14      ; "default_highlight_action"
0046    CALL     2   2   3
0047    IST          1
0048    JMP      3 => 0051
0049    IST          2
0050    JMP      3 => 0055
0051 => MOV      4   0
0052    TGETS    3   0  15  ; "onShowHighlightMenu"
0053    CALL     3   1   2
0054    JMP      3 => 0108
0055 => ISNES    2  16      ; "highlight"
0056    JMP      3 => 0064
0057    MOV      4   0
0058    TGETS    3   0  17  ; "saveHighlight"
0059    CALL     3   1   2
0060    MOV      4   0
0061    TGETS    3   0  18  ; "onClose"
0062    CALL     3   1   2
0063    JMP      3 => 0108
0064 => ISNES    2  19      ; "translate"
0065    JMP      3 => 0074
0066    MOV      4   0
0067    TGETS    3   0  19  ; "translate"
0068    TGETS    5   0  12  ; "selected_text"
0069    CALL     3   1   3
0070    MOV      4   0
0071    TGETS    3   0  18  ; "onClose"
0072    CALL     3   1   2
0073    JMP      3 => 0108
0074 => ISNES    2  20      ; "wikipedia"
0075    JMP      3 => 0083
0076    MOV      4   0
0077    TGETS    3   0  21  ; "lookupWikipedia"
0078    CALL     3   1   2
0079    MOV      4   0
0080    TGETS    3   0  18  ; "onClose"
0081    CALL     3   1   2
0082    JMP      3 => 0108
0083 => ISNES    2  22      ; "dictionary"
0084    JMP      3 => 0092
0085    MOV      4   0
0086    TGETS    3   0  23  ; "onHighlightDictLookup"
0087    CALL     3   1   2
0088    MOV      4   0
0089    TGETS    3   0  18  ; "onClose"
0090    CALL     3   1   2
0091    JMP      3 => 0108
0092 => ISNES    2  24      ; "search"
0093    JMP      3 => 0108
0094    MOV      4   0
0095    TGETS    3   0  25  ; "onHighlightSearch"
0096    CALL     3   1   2
0097    JMP      2 => 0108
0098 => TGETS    2   0   4  ; "selected_word"
0099    ISF          2
0100    JMP      3 => 0108
0101    MOV      3   0
0102    TGETS    2   0  26  ; "lookup"
0103    TGETS    4   0   4  ; "selected_word"
0104    TGETS    5   0  27  ; "selected_link"
0105    CALL     2   1   4
0106    KPRI     2   0
0107    TSETS    2   0   4  ; "selected_word"
0108 => KPRI     2   2
0109    RET1     2   2

-- BYTECODE -- readerhighlight.lua:1025-1049
0001    TDUP     1   0
0002    GGET     2   1      ; "G_reader_settings"
0003    MOV      3   2
0004    TGETS    2   2   2  ; "readSetting"
0005    KSTR     4   3      ; "default_highlight_action"
0006    CALL     2   2   3
0007    IST          2
0008    JMP      3 => 0029
0009    GGET     3   1      ; "G_reader_settings"
0010    MOV      4   3
0011    TGETS    3   3   4  ; "saveSetting"
0012    KSTR     5   3      ; "default_highlight_action"
0013    KSTR     6   5      ; "highlight"
0014    CALL     3   1   4
0015    UGET     3   0      ; UIManager
0016    MOV      4   3
0017    TGETS    3   3   6  ; "show"
0018    UGET     5   1      ; Notification
0019    MOV      6   5
0020    TGETS    5   5   7  ; "new"
0021    TDUP     7   9
0022    UGET     8   2      ; _
0023    KSTR     9   8      ; "Default highlight action changed to 'hig"~
0024    CALL     8   2   2
0025    TSETS    8   7  10  ; "text"
0026    CALL     5   0   3
0027    CALLM    3   1   1
0028    JMP      3 => 0054
0029 => TGETV    3   1   2
0030    GGET     4   1      ; "G_reader_settings"
0031    MOV      5   4
0032    TGETS    4   4   4  ; "saveSetting"
0033    KSTR     6   3      ; "default_highlight_action"
0034    MOV      7   3
0035    CALL     4   1   4
0036    UGET     4   0      ; UIManager
0037    MOV      5   4
0038    TGETS    4   4   6  ; "show"
0039    UGET     6   1      ; Notification
0040    MOV      7   6
0041    TGETS    6   6   7  ; "new"
0042    TDUP     8  13
0043    UGET     9   3      ; T
0044    UGET    10   2      ; _
0045    KSTR    11  11      ; "Default highlight action changed to '%1'"~
0046    CALL    10   2   2
0047    ISTC    11   3
0048    JMP     11 => 0050
0049    KSTR    11  12      ; "default"
0050 => CALL     9   2   3
0051    TSETS    9   8  10  ; "text"
0052    CALL     6   0   3
0053    CALLM    4   1   1
0054 => KPRI     3   2
0055    RET1     3   2

-- BYTECODE -- readerhighlight.lua:1051-1064
0001    TDUP     1   0
0002    TGETS    2   0   1  ; "view"
0003    TGETS    2   2   2  ; "highlight"
0004    TGETS    3   0   1  ; "view"
0005    TGETS    3   3   2  ; "highlight"
0006    TGETS    3   3   3  ; "saved_drawer"
0007    TGETV    3   1   3
0008    TSETS    3   2   3  ; "saved_drawer"
0009    TGETS    2   0   4  ; "ui"
0010    TGETS    2   2   5  ; "doc_settings"
0011    MOV      3   2
0012    TGETS    2   2   6  ; "saveSetting"
0013    KSTR     4   7      ; "highlight_drawer"
0014    TGETS    5   0   1  ; "view"
0015    TGETS    5   5   2  ; "highlight"
0016    TGETS    5   5   3  ; "saved_drawer"
0017    CALL     2   1   4
0018    UGET     2   0      ; UIManager
0019    MOV      3   2
0020    TGETS    2   2   8  ; "show"
0021    UGET     4   1      ; Notification
0022    MOV      5   4
0023    TGETS    4   4   9  ; "new"
0024    TDUP     6  11
0025    UGET     7   2      ; T
0026    UGET     8   3      ; _
0027    KSTR     9  10      ; "Default highlight style changed to '%1'."
0028    CALL     8   2   2
0029    TGETS    9   0   1  ; "view"
0030    TGETS    9   9   2  ; "highlight"
0031    TGETS    9   9   3  ; "saved_drawer"
0032    CALL     7   2   3
0033    TSETS    7   6  12  ; "text"
0034    CALL     4   0   3
0035    CALLM    2   1   1
0036    KPRI     2   2
0037    RET1     2   2

-- BYTECODE -- readerhighlight.lua:1066-1073
0001    TGETS    1   0   0  ; "hold_pos"
0002    ISF          1
0003    JMP      2 => 0020
0004    TGETS    1   0   1  ; "selected_text"
0005    IST          1
0006    JMP      1 => 0020
0007    TGETS    1   0   2  ; "ui"
0008    TGETS    1   1   3  ; "document"
0009    MOV      2   1
0010    TGETS    1   1   4  ; "getTextFromPositions"
0011    TGETS    3   0   0  ; "hold_pos"
0012    TGETS    4   0   0  ; "hold_pos"
0013    CALL     1   2   4
0014    TSETS    1   0   1  ; "selected_text"
0015    UGET     1   0      ; logger
0016    TGETS    1   1   5  ; "dbg"
0017    KSTR     2   6      ; "selected text:"
0018    TGETS    3   0   1  ; "selected_text"
0019    CALL     1   1   3
0020 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:1075-1077
0001    MOV      2   0
0002    TGETS    1   0   0  ; "saveHighlight"
0003    CALL     1   1   2
0004    RET0     0   1

-- BYTECODE -- readerhighlight.lua:1079-1139
0001    KNIL     2   6
0002    ISF          1
0003    JMP      7 => 0009
0004    TGETS    2   1   0  ; "page"
0005    TGETS    3   1   1  ; "notes"
0006    TGETS    4   1   2  ; "pos0"
0007    TGETS    5   1   3  ; "datetime"
0008    JMP      7 => 0015
0009 => TGETS    7   0   4  ; "hold_pos"
0010    TGETS    2   7   0  ; "page"
0011    TGETS    7   0   5  ; "selected_text"
0012    TGETS    3   7   6  ; "text"
0013    TGETS    7   0   5  ; "selected_text"
0014    TGETS    4   7   2  ; "pos0"
0015 => TGETS    7   0   7  ; "ui"
0016    TGETS    7   7   8  ; "document"
0017    TGETS    7   7   9  ; "info"
0018    TGETS    7   7  10  ; "has_pages"
0019    ISF          7
0020    JMP      8 => 0051
0021    KSHORT   7   1
0022    TGETS    8   0  11  ; "view"
0023    TGETS    8   8  12  ; "highlight"
0024    TGETS    8   8  13  ; "saved"
0025    TGETV    8   8   2
0026    LEN      8   8
0027    KSHORT   9   1
0028    FORI     7 => 0050
0029 => TGETS   11   0  11  ; "view"
0030    TGETS   11  11  12  ; "highlight"
0031    TGETS   11  11  13  ; "saved"
0032    TGETV   11  11   2
0033    TGETV   11  11  10
0034    TGETS   12  11   6  ; "text"
0035    ISNEV   12   3
0036    JMP     12 => 0049
0037    ISNEP    5   0
0038    JMP     12 => 0042
0039    TGETS   12  11   2  ; "pos0"
0040    ISEQV   12   4
0041    JMP     12 => 0047
0042 => ISEQP    5   0
0043    JMP     12 => 0049
0044    TGETS   12  11   3  ; "datetime"
0045    ISNEV   12   5
0046    JMP     12 => 0049
0047 => MOV      6  10
0048    JMP      7 => 0084
0049 => FORL     7 => 0029
0050 => JMP      7 => 0084
0051 => GGET     7  14      ; "pairs"
0052    TGETS    8   0  11  ; "view"
0053    TGETS    8   8  12  ; "highlight"
0054    TGETS    8   8  13  ; "saved"
0055    CALL     7   4   2
0056    ISNEXT  10 => 0082
0057 => KSHORT  12   1
0058    LEN     13  11
0059    KSHORT  14   1
0060    FORI    12 => 0079
0061 => TGETV   16  11  15
0062    TGETS   17  16   6  ; "text"
0063    ISNEV   17   3
0064    JMP     17 => 0078
0065    ISNEP    5   0
0066    JMP     17 => 0070
0067    TGETS   17  16   2  ; "pos0"
0068    ISEQV   17   4
0069    JMP     17 => 0075
0070 => ISEQP    5   0
0071    JMP     17 => 0078
0072    TGETS   17  16   3  ; "datetime"
0073    ISNEV   17   5
0074    JMP     17 => 0078
0075 => MOV      2  10
0076    MOV      6  15
0077    JMP     12 => 0079
0078 => FORL    12 => 0061
0079 => ISF          6
0080    JMP     12 => 0082
0081    JMP      7 => 0084
0082 => ITERN   10   3   3
0083    ITERL   10 => 0057
0084 => ISF          1
0085    JMP      7 => 0100
0086    IST          6
0087    JMP      7 => 0100
0088    UGET     7   0      ; logger
0089    TGETS    7   7  15  ; "warn"
0090    KSTR     8  16      ; "unhighlight: bookmark_item not found amo"~
0091    MOV      9   1
0092    CALL     7   1   3
0093    TGETS    7   0   7  ; "ui"
0094    TGETS    7   7  17  ; "bookmark"
0095    MOV      8   7
0096    TGETS    7   7  18  ; "removeBookmark"
0097    MOV      9   1
0098    CALL     7   1   3
0099    RET0     0   1
0100 => UGET     7   0      ; logger
0101    TGETS    7   7  19  ; "dbg"
0102    KSTR     8  20      ; "found highlight to delete on page"
0103    MOV      9   2
0104    MOV     10   6
0105    CALL     7   1   4
0106    MOV      8   0
0107    TGETS    7   0  21  ; "deleteHighlight"
0108    MOV      9   2
0109    MOV     10   6
0110    MOV     11   1
0111    CALL     7   1   5
0112    KPRI     7   2
0113    RET1     7   2

-- BYTECODE -- readerhighlight.lua:1141-1158
0001    TGETS    1   0   0  ; "hold_pos"
0002    ISF          1
0003    JMP      2 => 0010
0004    TGETS    1   0   1  ; "selected_text"
0005    IST          1
0006    JMP      1 => 0010
0007    MOV      2   0
0008    TGETS    1   0   2  ; "highlightFromHoldPos"
0009    CALL     1   1   2
0010 => TGETS    1   0   1  ; "selected_text"
0011    ISF          1
0012    JMP      2 => 0050
0013    TGETS    1   0   1  ; "selected_text"
0014    TGETS    1   1   3  ; "pos0"
0015    ISF          1
0016    JMP      2 => 0050
0017    TGETS    1   0   1  ; "selected_text"
0018    TGETS    1   1   4  ; "pos1"
0019    ISF          1
0020    JMP      2 => 0050
0021    GGET     1   5      ; "os"
0022    TGETS    1   1   6  ; "date"
0023    KSTR     2   7      ; "%Y-%m-%d %H:%M:%S"
0024    CALL     1   2   2
0025    TGETS    2   0   8  ; "ui"
0026    TGETS    2   2   9  ; "document"
0027    TGETS    2   2  10  ; "info"
0028    TGETS    2   2  11  ; "has_pages"
0029    ISF          2
0030    JMP      3 => 0035
0031    TGETS    2   0   0  ; "hold_pos"
0032    TGETS    2   2  12  ; "page"
0033    IST          2
0034    JMP      3 => 0037
0035 => TGETS    2   0   1  ; "selected_text"
0036    TGETS    2   2   3  ; "pos0"
0037 => TDUP     3  13
0038    TSETS    2   3  12  ; "page"
0039    TGETS    4   0   1  ; "selected_text"
0040    TGETS    4   4   3  ; "pos0"
0041    TSETS    4   3   3  ; "pos0"
0042    TGETS    4   0   1  ; "selected_text"
0043    TGETS    4   4   4  ; "pos1"
0044    TSETS    4   3   4  ; "pos1"
0045    TSETS    1   3  14  ; "datetime"
0046    TGETS    4   0   1  ; "selected_text"
0047    TGETS    4   4  15  ; "text"
0048    TSETS    4   3  16  ; "notes"
0049    RET1     3   2
0050 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:1160-1196
0001    TGETS    1   0   0  ; "ui"
0002    MOV      2   1
0003    TGETS    1   1   1  ; "handleEvent"
0004    UGET     3   0      ; Event
0005    MOV      4   3
0006    TGETS    3   3   2  ; "new"
0007    KSTR     5   3      ; "AddHighlight"
0008    CALL     3   0   3
0009    CALLM    1   1   1
0010    UGET     1   1      ; logger
0011    TGETS    1   1   4  ; "dbg"
0012    KSTR     2   5      ; "save highlight"
0013    CALL     1   1   2
0014    TGETS    1   0   6  ; "hold_pos"
0015    TGETS    1   1   7  ; "page"
0016    TGETS    2   0   6  ; "hold_pos"
0017    ISF          2
0018    JMP      3 => 0098
0019    TGETS    2   0   8  ; "selected_text"
0020    ISF          2
0021    JMP      3 => 0098
0022    TGETS    2   0   8  ; "selected_text"
0023    TGETS    2   2   9  ; "pos0"
0024    ISF          2
0025    JMP      3 => 0098
0026    TGETS    2   0   8  ; "selected_text"
0027    TGETS    2   2  10  ; "pos1"
0028    ISF          2
0029    JMP      3 => 0098
0030    TGETS    2   0  11  ; "view"
0031    TGETS    2   2  12  ; "highlight"
0032    TGETS    2   2  13  ; "saved"
0033    TGETV    2   2   1
0034    IST          2
0035    JMP      2 => 0041
0036    TGETS    2   0  11  ; "view"
0037    TGETS    2   2  12  ; "highlight"
0038    TGETS    2   2  13  ; "saved"
0039    TNEW     3   0
0040    TSETV    3   2   1
0041 => GGET     2  14      ; "os"
0042    TGETS    2   2  15  ; "date"
0043    KSTR     3  16      ; "%Y-%m-%d %H:%M:%S"
0044    CALL     2   2   2
0045    TDUP     3  17
0046    TSETS    2   3  18  ; "datetime"
0047    TGETS    4   0   8  ; "selected_text"
0048    TGETS    4   4  19  ; "text"
0049    TSETS    4   3  19  ; "text"
0050    TGETS    4   0   8  ; "selected_text"
0051    TGETS    4   4   9  ; "pos0"
0052    TSETS    4   3   9  ; "pos0"
0053    TGETS    4   0   8  ; "selected_text"
0054    TGETS    4   4  10  ; "pos1"
0055    TSETS    4   3  10  ; "pos1"
0056    TGETS    4   0   8  ; "selected_text"
0057    TGETS    4   4  20  ; "pboxes"
0058    TSETS    4   3  20  ; "pboxes"
0059    TGETS    4   0  11  ; "view"
0060    TGETS    4   4  12  ; "highlight"
0061    TGETS    4   4  21  ; "saved_drawer"
0062    TSETS    4   3  22  ; "drawer"
0063    GGET     4  23      ; "table"
0064    TGETS    4   4  24  ; "insert"
0065    TGETS    5   0  11  ; "view"
0066    TGETS    5   5  12  ; "highlight"
0067    TGETS    5   5  13  ; "saved"
0068    TGETV    5   5   1
0069    MOV      6   3
0070    CALL     4   1   3
0071    MOV      5   0
0072    TGETS    4   0  25  ; "getHighlightBookmarkItem"
0073    CALL     4   2   2
0074    ISF          4
0075    JMP      5 => 0082
0076    TGETS    5   0   0  ; "ui"
0077    TGETS    5   5  26  ; "bookmark"
0078    MOV      6   5
0079    TGETS    5   5  27  ; "addBookmark"
0080    MOV      7   4
0081    CALL     5   1   3
0082 => TGETS    5   0   8  ; "selected_text"
0083    TGETS    5   5  20  ; "pboxes"
0084    ISF          5
0085    JMP      6 => 0091
0086    MOV      6   0
0087    TGETS    5   0  28  ; "exportToDocument"
0088    MOV      7   1
0089    MOV      8   3
0090    CALL     5   1   4
0091 => MOV      5   1
0092    TGETS    6   0  11  ; "view"
0093    TGETS    6   6  12  ; "highlight"
0094    TGETS    6   6  13  ; "saved"
0095    TGETV    6   6   1
0096    LEN      6   6
0097    RET      5   3
0098 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:1217-1232
0001    GGET     3   0      ; "G_reader_settings"
0002    MOV      4   3
0003    TGETS    3   3   1  ; "readSetting"
0004    KSTR     5   2      ; "save_document"
0005    CALL     3   2   3
0006    ISNES    3   3      ; "disable"
0007    JMP      4 => 0009
0008    RET0     0   1
0009 => UGET     4   0      ; logger
0010    TGETS    4   4   4  ; "dbg"
0011    KSTR     5   5      ; "export highlight to document"
0012    MOV      6   2
0013    CALL     4   1   3
0014    TGETS    4   0   6  ; "ui"
0015    TGETS    4   4   7  ; "document"
0016    MOV      5   4
0017    TGETS    4   4   8  ; "saveHighlight"
0018    MOV      6   1
0019    MOV      7   2
0020    CALL     4   2   4
0021    ISNEP    4   1
0022    JMP      5 => 0041
0023    TGETS    5   0   9  ; "warned_once"
0024    IST          5
0025    JMP      5 => 0041
0026    KPRI     5   2
0027    TSETS    5   0   9  ; "warned_once"
0028    UGET     5   1      ; UIManager
0029    MOV      6   5
0030    TGETS    5   5  10  ; "show"
0031    UGET     7   2      ; InfoMessage
0032    MOV      8   7
0033    TGETS    7   7  11  ; "new"
0034    TDUP     9  13
0035    UGET    10   3      ; _
0036    KSTR    11  12      ; "Highlights in this document will be save"~
0037    CALL    10   2   2
0038    TSETS   10   9  14  ; "text"
0039    CALL     7   0   3
0040    CALLM    5   1   1
0041 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:1234-1239
0001    MOV      2   0
0002    TGETS    1   0   0  ; "saveHighlight"
0003    CALL     1   3   2
0004    MOV      4   0
0005    TGETS    3   0   1  ; "editHighlight"
0006    MOV      5   1
0007    MOV      6   2
0008    CALL     3   1   4
0009    UGET     3   0      ; UIManager
0010    MOV      4   3
0011    TGETS    3   3   2  ; "close"
0012    TGETS    5   0   3  ; "edit_highlight_dialog"
0013    CALL     3   1   3
0014    TGETS    3   0   4  ; "ui"
0015    MOV      4   3
0016    TGETS    3   3   5  ; "handleEvent"
0017    UGET     5   1      ; Event
0018    MOV      6   5
0019    TGETS    5   5   6  ; "new"
0020    KSTR     7   7      ; "AddNote"
0021    CALL     5   0   3
0022    CALLM    3   1   1
0023    RET0     0   1

-- BYTECODE -- readerhighlight.lua:1241-1245
0001    TGETS    1   0   0  ; "selected_text"
0002    ISF          1
0003    JMP      2 => 0015
0004    TGETS    1   0   1  ; "ui"
0005    MOV      2   1
0006    TGETS    1   1   2  ; "handleEvent"
0007    UGET     3   0      ; Event
0008    MOV      4   3
0009    TGETS    3   3   3  ; "new"
0010    KSTR     5   4      ; "LookupWikipedia"
0011    TGETS    6   0   0  ; "selected_text"
0012    TGETS    6   6   5  ; "text"
0013    CALL     3   0   4
0014    CALLM    1   1   1
0015 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:1247-1254
0001    UGET     1   0      ; logger
0002    TGETS    1   1   0  ; "dbg"
0003    KSTR     2   1      ; "search highlight"
0004    CALL     1   1   2
0005    MOV      2   0
0006    TGETS    1   0   2  ; "highlightFromHoldPos"
0007    CALL     1   1   2
0008    TGETS    1   0   3  ; "selected_text"
0009    ISF          1
0010    JMP      2 => 0028
0011    GGET     1   4      ; "require"
0012    KSTR     2   5      ; "util"
0013    CALL     1   2   2
0014    TGETS    1   1   6  ; "stripPunctuation"
0015    TGETS    2   0   3  ; "selected_text"
0016    TGETS    2   2   7  ; "text"
0017    CALL     1   2   2
0018    TGETS    2   0   8  ; "ui"
0019    MOV      3   2
0020    TGETS    2   2   9  ; "handleEvent"
0021    UGET     4   1      ; Event
0022    MOV      5   4
0023    TGETS    4   4  10  ; "new"
0024    KSTR     6  11      ; "ShowSearchDialog"
0025    MOV      7   1
0026    CALL     4   0   4
0027    CALLM    2   1   1
0028 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:1256-1262
0001    UGET     1   0      ; logger
0002    TGETS    1   1   0  ; "dbg"
0003    KSTR     2   1      ; "dictionary lookup highlight"
0004    CALL     1   1   2
0005    MOV      2   0
0006    TGETS    1   0   2  ; "highlightFromHoldPos"
0007    CALL     1   1   2
0008    TGETS    1   0   3  ; "selected_text"
0009    ISF          1
0010    JMP      2 => 0022
0011    TGETS    1   0   4  ; "ui"
0012    MOV      2   1
0013    TGETS    1   1   5  ; "handleEvent"
0014    UGET     3   1      ; Event
0015    MOV      4   3
0016    TGETS    3   3   6  ; "new"
0017    KSTR     5   7      ; "LookupWord"
0018    TGETS    6   0   3  ; "selected_text"
0019    TGETS    6   6   8  ; "text"
0020    CALL     3   0   4
0021    CALLM    1   1   1
0022 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:1264-1266
0001    UGET     1   0      ; logger
0002    TGETS    1   1   0  ; "info"
0003    KSTR     2   1      ; "share highlight"
0004    CALL     1   1   2
0005    RET0     0   1

-- BYTECODE -- readerhighlight.lua:1268-1270
0001    UGET     1   0      ; logger
0002    TGETS    1   1   0  ; "info"
0003    KSTR     2   1      ; "more action"
0004    CALL     1   1   2
0005    RET0     0   1

-- BYTECODE -- readerhighlight.lua:1272-1284
0001    TGETS    4   0   0  ; "ui"
0002    MOV      5   4
0003    TGETS    4   4   1  ; "handleEvent"
0004    UGET     6   0      ; Event
0005    MOV      7   6
0006    TGETS    6   6   2  ; "new"
0007    KSTR     8   3      ; "DelHighlight"
0008    CALL     6   0   3
0009    CALLM    4   1   1
0010    UGET     4   1      ; logger
0011    TGETS    4   4   4  ; "dbg"
0012    KSTR     5   5      ; "delete highlight"
0013    MOV      6   1
0014    MOV      7   2
0015    CALL     4   1   4
0016    GGET     4   6      ; "table"
0017    TGETS    4   4   7  ; "remove"
0018    TGETS    5   0   8  ; "view"
0019    TGETS    5   5   9  ; "highlight"
0020    TGETS    5   5  10  ; "saved"
0021    TGETV    5   5   1
0022    MOV      6   2
0023    CALL     4   2   3
0024    ISF          3
0025    JMP      5 => 0033
0026    TGETS    5   0   0  ; "ui"
0027    TGETS    5   5  11  ; "bookmark"
0028    MOV      6   5
0029    TGETS    5   5  12  ; "removeBookmark"
0030    MOV      7   3
0031    CALL     5   1   3
0032    JMP      5 => 0051
0033 => TGETS    5   0   0  ; "ui"
0034    TGETS    5   5  11  ; "bookmark"
0035    MOV      6   5
0036    TGETS    5   5  12  ; "removeBookmark"
0037    TDUP     7  17
0038    TGETS    8   0   0  ; "ui"
0039    TGETS    8   8  13  ; "document"
0040    TGETS    8   8  14  ; "info"
0041    TGETS    8   8  15  ; "has_pages"
0042    ISF          8
0043    JMP      9 => 0046
0044    ISTC     8   1
0045    JMP      8 => 0047
0046 => TGETS    8   4  16  ; "pos0"
0047 => TSETS    8   7  18  ; "page"
0048    TGETS    8   4  19  ; "datetime"
0049    TSETS    8   7  19  ; "datetime"
0050    CALL     5   1   3
0051 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:1286-1292
0001    TGETS    3   0   0  ; "view"
0002    TGETS    3   3   1  ; "highlight"
0003    TGETS    3   3   2  ; "saved"
0004    TGETV    3   3   1
0005    TGETV    3   3   2
0006    TGETS    4   0   3  ; "ui"
0007    TGETS    4   4   4  ; "bookmark"
0008    MOV      5   4
0009    TGETS    4   4   5  ; "renameBookmark"
0010    TDUP     6  10
0011    TGETS    7   0   3  ; "ui"
0012    TGETS    7   7   6  ; "document"
0013    TGETS    7   7   7  ; "info"
0014    TGETS    7   7   8  ; "has_pages"
0015    ISF          7
0016    JMP      8 => 0019
0017    ISTC     7   1
0018    JMP      7 => 0020
0019 => TGETS    7   3   9  ; "pos0"
0020 => TSETS    7   6  11  ; "page"
0021    TGETS    7   3  12  ; "datetime"
0022    TSETS    7   6  12  ; "datetime"
0023    KPRI     7   2
0024    CALL     4   1   4
0025    RET0     0   1

-- BYTECODE -- readerhighlight.lua:1294-1301
0001    TGETS    2   0   0  ; "view"
0002    TGETS    2   2   1  ; "highlight"
0003    MOV      4   1
0004    TGETS    3   1   3  ; "readSetting"
0005    KSTR     5   4      ; "highlight_drawer"
0006    CALL     3   2   3
0007    IST          3
0008    JMP      4 => 0012
0009    TGETS    3   0   0  ; "view"
0010    TGETS    3   3   1  ; "highlight"
0011    TGETS    3   3   2  ; "saved_drawer"
0012 => TSETS    3   2   2  ; "saved_drawer"
0013    MOV      3   1
0014    TGETS    2   1   3  ; "readSetting"
0015    KSTR     4   5      ; "highlight_disabled"
0016    CALL     2   2   3
0017    ISNEP    2   0
0018    JMP      3 => 0027
0019    GGET     3   6      ; "G_reader_settings"
0020    MOV      4   3
0021    TGETS    3   3   3  ; "readSetting"
0022    KSTR     5   5      ; "highlight_disabled"
0023    CALL     3   2   3
0024    ISTC     2   3
0025    JMP      4 => 0027
0026    KPRI     2   1
0027 => TGETS    3   0   0  ; "view"
0028    TGETS    3   3   1  ; "highlight"
0029    TSETS    2   3   7  ; "disabled"
0030    RET0     0   1

-- BYTECODE -- readerhighlight.lua:1303-1306
0001    TGETS    1   0   0  ; "ui"
0002    TGETS    1   1   1  ; "doc_settings"
0003    MOV      2   1
0004    TGETS    1   1   2  ; "saveSetting"
0005    KSTR     3   3      ; "highlight_drawer"
0006    TGETS    4   0   4  ; "view"
0007    TGETS    4   4   5  ; "highlight"
0008    TGETS    4   4   6  ; "saved_drawer"
0009    CALL     1   1   4
0010    TGETS    1   0   0  ; "ui"
0011    TGETS    1   1   1  ; "doc_settings"
0012    MOV      2   1
0013    TGETS    1   1   2  ; "saveSetting"
0014    KSTR     3   7      ; "highlight_disabled"
0015    TGETS    4   0   4  ; "view"
0016    TGETS    4   4   5  ; "highlight"
0017    TGETS    4   4   8  ; "disabled"
0018    CALL     1   1   4
0019    RET0     0   1

-- BYTECODE -- readerhighlight.lua:1308-1312
0001    UGET     1   0      ; UIManager
0002    MOV      2   1
0003    TGETS    1   1   0  ; "close"
0004    TGETS    3   0   1  ; "highlight_dialog"
0005    CALL     1   1   3
0006    MOV      2   0
0007    TGETS    1   0   2  ; "clear"
0008    CALL     1   1   2
0009    RET0     0   1

-- BYTECODE -- readerhighlight.lua:1319-1321
0001    UGET     0   0      ; highlight_disabled
0002    ISF          0
0003    JMP      1 => 0009
0004    UGET     0   1      ; _
0005    KSTR     1   0      ; "Disable (★)"
0006    CALL     0   2   2
0007    IST          0
0008    JMP      1 => 0012
0009 => UGET     0   1      ; _
0010    KSTR     1   1      ; "Disable"
0011    CALL     0   2   2
0012 => RET1     0   2

-- BYTECODE -- readerhighlight.lua:1322-1324
0001    GGET     0   0      ; "G_reader_settings"
0002    MOV      1   0
0003    TGETS    0   0   1  ; "saveSetting"
0004    KSTR     2   2      ; "highlight_disabled"
0005    KPRI     3   2
0006    CALL     0   1   4
0007    RET0     0   1

-- BYTECODE -- readerhighlight.lua:1325-1327
0001    UGET     0   0      ; highlight_disabled
0002    ISF          0
0003    JMP      1 => 0009
0004    UGET     0   1      ; _
0005    KSTR     1   0      ; "Enable"
0006    CALL     0   2   2
0007    IST          0
0008    JMP      1 => 0012
0009 => UGET     0   1      ; _
0010    KSTR     1   1      ; "Enable (★)"
0011    CALL     0   2   2
0012 => RET1     0   2

-- BYTECODE -- readerhighlight.lua:1328-1330
0001    GGET     0   0      ; "G_reader_settings"
0002    MOV      1   0
0003    TGETS    0   0   1  ; "saveSetting"
0004    KSTR     2   2      ; "highlight_disabled"
0005    KPRI     3   1
0006    CALL     0   1   4
0007    RET0     0   1

-- BYTECODE -- readerhighlight.lua:1314-1332
0001    GGET     1   0      ; "G_reader_settings"
0002    MOV      2   1
0003    TGETS    1   1   1  ; "isTrue"
0004    KSTR     3   2      ; "highlight_disabled"
0005    CALL     1   2   3
0006    UGET     2   0      ; UIManager
0007    MOV      3   2
0008    TGETS    2   2   3  ; "show"
0009    UGET     4   1      ; MultiConfirmBox
0010    MOV      5   4
0011    TGETS    4   4   4  ; "new"
0012    TDUP     6   7
0013    ISF          1
0014    JMP      7 => 0020
0015    UGET     7   2      ; _
0016    KSTR     8   5      ; "Would you like to enable or disable high"~
0017    CALL     7   2   2
0018    IST          7
0019    JMP      8 => 0023
0020 => UGET     7   2      ; _
0021    KSTR     8   6      ; "Would you like to enable or disable high"~
0022    CALL     7   2   2
0023 => TSETS    7   6   8  ; "text"
0024    FNEW     7   9      ; readerhighlight.lua:1319
0025    TSETS    7   6  10  ; "choice1_text_func"
0026    FNEW     7  11      ; readerhighlight.lua:1322
0027    TSETS    7   6  12  ; "choice1_callback"
0028    FNEW     7  13      ; readerhighlight.lua:1325
0029    TSETS    7   6  14  ; "choice2_text_func"
0030    FNEW     7  15      ; readerhighlight.lua:1328
0031    TSETS    7   6  16  ; "choice2_callback"
0032    CALL     4   0   3
0033    CALLM    2   1   1
0034    UCLO     0 => 0035
0035 => RET0     0   1

-- BYTECODE -- readerhighlight.lua:0-1335
0001    GGET     0   0      ; "require"
0002    KSTR     1   1      ; "ui/bidi"
0003    CALL     0   2   2
0004    GGET     1   0      ; "require"
0005    KSTR     2   2      ; "ui/widget/buttondialog"
0006    CALL     1   2   2
0007    GGET     2   0      ; "require"
0008    KSTR     3   3      ; "device"
0009    CALL     2   2   2
0010    GGET     3   0      ; "require"
0011    KSTR     4   4      ; "ui/event"
0012    CALL     3   2   2
0013    GGET     4   0      ; "require"
0014    KSTR     5   5      ; "ui/widget/infomessage"
0015    CALL     4   2   2
0016    GGET     5   0      ; "require"
0017    KSTR     6   6      ; "ui/widget/container/inputcontainer"
0018    CALL     5   2   2
0019    GGET     6   0      ; "require"
0020    KSTR     7   7      ; "ui/widget/multiconfirmbox"
0021    CALL     6   2   2
0022    GGET     7   0      ; "require"
0023    KSTR     8   8      ; "ui/widget/notification"
0024    CALL     7   2   2
0025    GGET     8   0      ; "require"
0026    KSTR     9   9      ; "ui/timeval"
0027    CALL     8   2   2
0028    GGET     9   0      ; "require"
0029    KSTR    10  10      ; "ui/translator"
0030    CALL     9   2   2
0031    GGET    10   0      ; "require"
0032    KSTR    11  11      ; "ui/uimanager"
0033    CALL    10   2   2
0034    GGET    11   0      ; "require"
0035    KSTR    12  12      ; "logger"
0036    CALL    11   2   2
0037    GGET    12   0      ; "require"
0038    KSTR    13  13      ; "gettext"
0039    CALL    12   2   2
0040    TGETS   13  12  14  ; "pgettext"
0041    GGET    14   0      ; "require"
0042    KSTR    15  15      ; "ffi/util"
0043    CALL    14   2   2
0044    TGETS   14  14  16  ; "template"
0045    TGETS   15   2  17  ; "screen"
0046    MOV     17   5
0047    TGETS   16   5  18  ; "new"
0048    TNEW    18   0
0049    CALL    16   2   3
0050    FNEW    17  20      ; readerhighlight.lua:20
0051    TSETS   17  16  19  ; "init"
0052    FNEW    17  22      ; readerhighlight.lua:26
0053    TSETS   17  16  21  ; "setupTouchZones"
0054    FNEW    17  24      ; readerhighlight.lua:87
0055    TSETS   17  16  23  ; "onReaderReady"
0056    FNEW    17  26      ; readerhighlight.lua:91
0057    TSETS   17  16  25  ; "addToMainMenu"
0058    TDUP    17  28
0059    MOV     18  12
0060    KSTR    19  27      ; "Lighten"
0061    CALL    18   2   2
0062    TSETS   18  17  29  ; "lighten"
0063    MOV     18  12
0064    KSTR    19  30      ; "Underline"
0065    CALL    18   2   2
0066    TSETS   18  17  31  ; "underscore"
0067    MOV     18  12
0068    KSTR    19  32      ; "Invert"
0069    CALL    18   2   2
0070    TSETS   18  17  33  ; "invert"
0071    FNEW    18  35      ; readerhighlight.lua:106
0072    TSETS   18  16  34  ; "genHighlightDrawerMenu"
0073    FNEW    18  37      ; readerhighlight.lua:144
0074    TSETS   18  16  36  ; "getClearId"
0075    FNEW    18  39      ; readerhighlight.lua:149
0076    TSETS   18  16  38  ; "clear"
0077    FNEW    18  41      ; readerhighlight.lua:176
0078    TSETS   18  16  40  ; "onClearHighlight"
0079    FNEW    18  43      ; readerhighlight.lua:181
0080    TSETS   18  16  42  ; "onTap"
0081    FNEW    18  44      ; readerhighlight.lua:191
0082    FNEW    19  46      ; readerhighlight.lua:202
0083    TSETS   19  16  45  ; "onTapPageSavedHighlight"
0084    FNEW    19  48      ; readerhighlight.lua:224
0085    TSETS   19  16  47  ; "onTapXPointerSavedHighlight"
0086    FNEW    19  50      ; readerhighlight.lua:269
0087    TSETS   19  16  49  ; "updateHighlight"
0088    FNEW    19  52      ; readerhighlight.lua:355
0089    TSETS   19  16  51  ; "onShowHighlightDialog"
0090    FNEW    19  54      ; readerhighlight.lua:443
0091    TSETS   19  16  53  ; "onShowHighlightMenu"
0092    FNEW    19  56      ; readerhighlight.lua:553
0093    TSETS   19  16  55  ; "_resetHoldTimer"
0094    FNEW    19  58      ; readerhighlight.lua:561
0095    TSETS   19  16  57  ; "onHold"
0096    FNEW    19  60      ; readerhighlight.lua:623
0097    TSETS   19  16  59  ; "onHoldPan"
0098    MOV     19  12
0099    KSTR    20  61      ; "No OCR results or no language data.\n\nK"~
0100    CALL    19   2   2
0101    FNEW    20  63      ; readerhighlight.lua:780
0102    TSETS   20  16  62  ; "lookup"
0103    FNEW    20  64      ; readerhighlight.lua:800
0104    FNEW    21  66      ; readerhighlight.lua:824
0105    TSETS   21  16  65  ; "viewSelectionHTML"
0106    FNEW    21  68      ; readerhighlight.lua:956
0107    TSETS   21  16  67  ; "translate"
0108    FNEW    21  70      ; readerhighlight.lua:973
0109    TSETS   21  16  69  ; "onTranslateText"
0110    FNEW    21  72      ; readerhighlight.lua:977
0111    TSETS   21  16  71  ; "onHoldRelease"
0112    FNEW    21  74      ; readerhighlight.lua:1025
0113    TSETS   21  16  73  ; "onCycleHighlightAction"
0114    FNEW    21  76      ; readerhighlight.lua:1051
0115    TSETS   21  16  75  ; "onCycleHighlightStyle"
0116    FNEW    21  78      ; readerhighlight.lua:1066
0117    TSETS   21  16  77  ; "highlightFromHoldPos"
0118    FNEW    21  80      ; readerhighlight.lua:1075
0119    TSETS   21  16  79  ; "onHighlight"
0120    FNEW    21  82      ; readerhighlight.lua:1079
0121    TSETS   21  16  81  ; "onUnhighlight"
0122    FNEW    21  84      ; readerhighlight.lua:1141
0123    TSETS   21  16  83  ; "getHighlightBookmarkItem"
0124    FNEW    21  86      ; readerhighlight.lua:1160
0125    TSETS   21  16  85  ; "saveHighlight"
0126    FNEW    21  88      ; readerhighlight.lua:1217
0127    TSETS   21  16  87  ; "exportToDocument"
0128    FNEW    21  90      ; readerhighlight.lua:1234
0129    TSETS   21  16  89  ; "addNote"
0130    FNEW    21  92      ; readerhighlight.lua:1241
0131    TSETS   21  16  91  ; "lookupWikipedia"
0132    FNEW    21  94      ; readerhighlight.lua:1247
0133    TSETS   21  16  93  ; "onHighlightSearch"
0134    FNEW    21  96      ; readerhighlight.lua:1256
0135    TSETS   21  16  95  ; "onHighlightDictLookup"
0136    FNEW    21  98      ; readerhighlight.lua:1264
0137    TSETS   21  16  97  ; "shareHighlight"
0138    FNEW    21 100      ; readerhighlight.lua:1268
0139    TSETS   21  16  99  ; "moreAction"
0140    FNEW    21 102      ; readerhighlight.lua:1272
0141    TSETS   21  16 101  ; "deleteHighlight"
0142    FNEW    21 104      ; readerhighlight.lua:1286
0143    TSETS   21  16 103  ; "editHighlight"
0144    FNEW    21 106      ; readerhighlight.lua:1294
0145    TSETS   21  16 105  ; "onReadSettings"
0146    FNEW    21 108      ; readerhighlight.lua:1303
0147    TSETS   21  16 107  ; "onSaveSettings"
0148    FNEW    21 110      ; readerhighlight.lua:1308
0149    TSETS   21  16 109  ; "onClose"
0150    FNEW    21 112      ; readerhighlight.lua:1314
0151    TSETS   21  16 111  ; "toggleDefault"
0152    UCLO     0 => 0153
0153 => RET1    16   2

