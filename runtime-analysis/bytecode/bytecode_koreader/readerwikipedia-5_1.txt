
main <./frontend/apps/reader/modules/readerwikipedia.lua:0,0> (116 instructions, 464 bytes at 0x7fae1dc06900)
0+ params, 26 slots, 0 upvalues, 21 locals, 37 constants, 8 functions
	1	[1]	GETGLOBAL	0 -1	; require
	2	[1]	LOADK    	1 -2	; "ui/bidi"
	3	[1]	CALL     	0 2 2
	4	[2]	GETGLOBAL	1 -1	; require
	5	[2]	LOADK    	2 -3	; "ui/widget/buttondialogtitle"
	6	[2]	CALL     	1 2 2
	7	[3]	GETGLOBAL	2 -1	; require
	8	[3]	LOADK    	3 -4	; "ui/widget/confirmbox"
	9	[3]	CALL     	2 2 2
	10	[4]	GETGLOBAL	3 -1	; require
	11	[4]	LOADK    	4 -5	; "datastorage"
	12	[4]	CALL     	3 2 2
	13	[5]	GETGLOBAL	4 -1	; require
	14	[5]	LOADK    	5 -6	; "ui/widget/infomessage"
	15	[5]	CALL     	4 2 2
	16	[6]	GETGLOBAL	5 -1	; require
	17	[6]	LOADK    	6 -7	; "ui/widget/inputdialog"
	18	[6]	CALL     	5 2 2
	19	[7]	GETGLOBAL	6 -1	; require
	20	[7]	LOADK    	7 -8	; "ui/widget/keyvaluepage"
	21	[7]	CALL     	6 2 2
	22	[8]	GETGLOBAL	7 -1	; require
	23	[8]	LOADK    	8 -9	; "luadata"
	24	[8]	CALL     	7 2 2
	25	[9]	GETGLOBAL	8 -1	; require
	26	[9]	LOADK    	9 -10	; "ui/network/manager"
	27	[9]	CALL     	8 2 2
	28	[10]	GETGLOBAL	9 -1	; require
	29	[10]	LOADK    	10 -11	; "apps/reader/modules/readerdictionary"
	30	[10]	CALL     	9 2 2
	31	[11]	GETGLOBAL	10 -1	; require
	32	[11]	LOADK    	11 -12	; "ui/trapper"
	33	[11]	CALL     	10 2 2
	34	[12]	GETGLOBAL	11 -1	; require
	35	[12]	LOADK    	12 -13	; "ui/translator"
	36	[12]	CALL     	11 2 2
	37	[13]	GETGLOBAL	12 -1	; require
	38	[13]	LOADK    	13 -14	; "ui/uimanager"
	39	[13]	CALL     	12 2 2
	40	[14]	GETGLOBAL	13 -1	; require
	41	[14]	LOADK    	14 -15	; "ui/wikipedia"
	42	[14]	CALL     	13 2 2
	43	[15]	GETGLOBAL	14 -1	; require
	44	[15]	LOADK    	15 -16	; "libs/libkoreader-lfs"
	45	[15]	CALL     	14 2 2
	46	[16]	GETGLOBAL	15 -1	; require
	47	[16]	LOADK    	16 -17	; "logger"
	48	[16]	CALL     	15 2 2
	49	[17]	GETGLOBAL	16 -1	; require
	50	[17]	LOADK    	17 -18	; "util"
	51	[17]	CALL     	16 2 2
	52	[18]	GETGLOBAL	17 -1	; require
	53	[18]	LOADK    	18 -19	; "gettext"
	54	[18]	CALL     	17 2 2
	55	[19]	GETGLOBAL	18 -1	; require
	56	[19]	LOADK    	19 -20	; "ffi/util"
	57	[19]	CALL     	18 2 2
	58	[19]	GETTABLE 	18 18 -21	; "template"
	59	[21]	LOADNIL  	19 19
	60	[24]	SELF     	20 9 -22	; "extend"
	61	[24]	NEWTABLE 	22 0 3
	62	[26]	SETTABLE 	22 -23 -24	; "is_wiki" true
	63	[27]	NEWTABLE 	23 0 0
	64	[27]	SETTABLE 	22 -25 23	; "wiki_languages" -
	65	[28]	GETGLOBAL	23 -27	; G_reader_settings
	66	[28]	SELF     	23 23 -28	; "isTrue"
	67	[28]	LOADK    	25 -29	; "wikipedia_disable_history"
	68	[28]	CALL     	23 3 2
	69	[28]	SETTABLE 	22 -26 23	; "disable_history" -
	70	[24]	CALL     	20 3 2
	71	[36]	CLOSURE  	21 0	; 0x7fae1dc07080
	72	[36]	MOVE     	0 19
	73	[36]	MOVE     	0 7
	74	[36]	MOVE     	0 3
	75	[31]	SETTABLE 	20 -30 21	; "init" -
	76	[64]	CLOSURE  	21 1	; 0x7fae1dc07c20
	77	[64]	MOVE     	0 5
	78	[64]	MOVE     	0 17
	79	[64]	MOVE     	0 12
	80	[38]	SETTABLE 	20 -31 21	; "lookupInput" -
	81	[334]	CLOSURE  	21 2	; 0x7fae1dc08710
	82	[334]	MOVE     	0 17
	83	[334]	MOVE     	0 19
	84	[334]	MOVE     	0 12
	85	[334]	MOVE     	0 6
	86	[334]	MOVE     	0 4
	87	[334]	MOVE     	0 18
	88	[334]	MOVE     	0 5
	89	[334]	MOVE     	0 1
	90	[334]	MOVE     	0 0
	91	[334]	MOVE     	0 14
	92	[334]	MOVE     	0 2
	93	[334]	MOVE     	0 16
	94	[66]	SETTABLE 	20 -32 21	; "addToMainMenu" -
	95	[376]	CLOSURE  	21 3	; 0x7fae1dc07230
	96	[376]	MOVE     	0 11
	97	[336]	SETTABLE 	20 -33 21	; "initLanguages" -
	98	[384]	CLOSURE  	21 4	; 0x7fae1dc0fd80
	99	[384]	MOVE     	0 10
	100	[378]	SETTABLE 	20 -34 21	; "onLookupWikipedia" -
	101	[521]	CLOSURE  	21 5	; 0x7fae1dc106a0
	102	[521]	MOVE     	0 8
	103	[521]	MOVE     	0 15
	104	[521]	MOVE     	0 17
	105	[521]	MOVE     	0 16
	106	[521]	MOVE     	0 19
	107	[521]	MOVE     	0 18
	108	[521]	MOVE     	0 13
	109	[386]	SETTABLE 	20 -35 21	; "lookupWikipedia" -
	110	[525]	CLOSURE  	21 6	; 0x7fae1dc0bbd0
	111	[524]	SETTABLE 	20 -36 21	; "onSaveSettings" -
	112	[534]	CLOSURE  	21 7	; 0x7fae1dc0f430
	113	[534]	MOVE     	0 8
	114	[527]	SETTABLE 	20 -37 21	; "onShowWikipediaLookup" -
	115	[536]	RETURN   	20 2
	116	[536]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:31,36> (20 instructions, 80 bytes at 0x7fae1dc07080)
1 param, 5 slots, 3 upvalues, 1 local, 8 constants, 0 functions
	1	[32]	GETTABLE 	1 0 -1	; "ui"
	2	[32]	GETTABLE 	1 1 -2	; "menu"
	3	[32]	SELF     	1 1 -3	; "registerToMainMenu"
	4	[32]	MOVE     	3 0
	5	[32]	CALL     	1 3 1
	6	[33]	GETUPVAL 	1 0	; wikipedia_history
	7	[33]	TEST     	1 0 1
	8	[33]	JMP      	11	; to 20
	9	[34]	GETUPVAL 	1 1	; LuaData
	10	[34]	SELF     	1 1 -4	; "open"
	11	[34]	GETUPVAL 	3 2	; DataStorage
	12	[34]	SELF     	3 3 -5	; "getSettingsDir"
	13	[34]	CALL     	3 2 2
	14	[34]	LOADK    	4 -6	; "/wikipedia_history.lua"
	15	[34]	CONCAT   	3 3 4
	16	[34]	NEWTABLE 	4 0 1
	17	[34]	SETTABLE 	4 -7 -8	; "name" "WikipediaHistory"
	18	[34]	CALL     	1 4 2
	19	[34]	SETUPVAL 	1 0	; wikipedia_history
	20	[36]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:38,64> (43 instructions, 172 bytes at 0x7fae1dc07c20)
1 param, 10 slots, 3 upvalues, 1 local, 16 constants, 2 functions
	1	[39]	GETUPVAL 	1 0	; InputDialog
	2	[39]	SELF     	1 1 -2	; "new"
	3	[39]	NEWTABLE 	3 0 4
	4	[40]	GETUPVAL 	4 1	; _
	5	[40]	LOADK    	5 -4	; "Enter words to look up on Wikipedia"
	6	[40]	CALL     	4 2 2
	7	[40]	SETTABLE 	3 -3 4	; "title" -
	8	[41]	SETTABLE 	3 -5 -6	; "input" ""
	9	[42]	SETTABLE 	3 -7 -8	; "input_type" "text"
	10	[43]	NEWTABLE 	4 1 0
	11	[43]	NEWTABLE 	5 2 0
	12	[44]	NEWTABLE 	6 0 2
	13	[46]	GETUPVAL 	7 1	; _
	14	[46]	LOADK    	8 -10	; "Cancel"
	15	[46]	CALL     	7 2 2
	16	[46]	SETTABLE 	6 -8 7	; "text" -
	17	[49]	CLOSURE  	7 0	; 0x7fae1dc07d60
	18	[49]	GETUPVAL 	0 2	; UIManager
	19	[49]	MOVE     	0 0
	20	[49]	SETTABLE 	6 -11 7	; "callback" -
	21	[50]	NEWTABLE 	7 0 3
	22	[52]	GETUPVAL 	8 1	; _
	23	[52]	LOADK    	9 -12	; "Search Wikipedia"
	24	[52]	CALL     	8 2 2
	25	[52]	SETTABLE 	7 -8 8	; "text" -
	26	[53]	SETTABLE 	7 -13 -14	; "is_enter_default" true
	27	[57]	CLOSURE  	8 1	; 0x7fae1dc08110
	28	[57]	GETUPVAL 	0 2	; UIManager
	29	[57]	MOVE     	0 0
	30	[57]	SETTABLE 	7 -11 8	; "callback" -
	31	[59]	SETLIST  	5 2 1	; 1
	32	[60]	SETLIST  	4 1 1	; 1
	33	[60]	SETTABLE 	3 -9 4	; "buttons" -
	34	[39]	CALL     	1 3 2
	35	[61]	SETTABLE 	0 -1 1	; "input_dialog" -
	36	[62]	GETUPVAL 	1 2	; UIManager
	37	[62]	SELF     	1 1 -15	; "show"
	38	[62]	GETTABLE 	3 0 -1	; "input_dialog"
	39	[62]	CALL     	1 3 1
	40	[63]	GETTABLE 	1 0 -1	; "input_dialog"
	41	[63]	SELF     	1 1 -16	; "onShowKeyboard"
	42	[63]	CALL     	1 2 1
	43	[64]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:47,49> (6 instructions, 24 bytes at 0x7fae1dc07d60)
0 params, 3 slots, 2 upvalues, 0 locals, 2 constants, 0 functions
	1	[48]	GETUPVAL 	0 0	; UIManager
	2	[48]	SELF     	0 0 -1	; "close"
	3	[48]	GETUPVAL 	2 1	; self
	4	[48]	GETTABLE 	2 2 -2	; "input_dialog"
	5	[48]	CALL     	0 3 1
	6	[49]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:54,57> (13 instructions, 52 bytes at 0x7fae1dc08110)
0 params, 4 slots, 2 upvalues, 0 locals, 4 constants, 0 functions
	1	[55]	GETUPVAL 	0 0	; UIManager
	2	[55]	SELF     	0 0 -1	; "close"
	3	[55]	GETUPVAL 	2 1	; self
	4	[55]	GETTABLE 	2 2 -2	; "input_dialog"
	5	[55]	CALL     	0 3 1
	6	[56]	GETUPVAL 	0 1	; self
	7	[56]	SELF     	0 0 -3	; "onLookupWikipedia"
	8	[56]	GETUPVAL 	2 1	; self
	9	[56]	GETTABLE 	2 2 -2	; "input_dialog"
	10	[56]	SELF     	2 2 -4	; "getInputText"
	11	[56]	CALL     	2 2 0
	12	[56]	CALL     	0 0 1
	13	[57]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:66,334> (120 instructions, 480 bytes at 0x7fae1dc08710)
2 params, 13 slots, 12 upvalues, 2 locals, 21 constants, 15 functions
	1	[67]	NEWTABLE 	2 0 2
	2	[68]	GETUPVAL 	3 0	; _
	3	[68]	LOADK    	4 -3	; "Wikipedia lookup"
	4	[68]	CALL     	3 2 2
	5	[68]	SETTABLE 	2 -2 3	; "text" -
	6	[69]	CLOSURE  	3 0	; 0x7fae1dc08b10
	7	[69]	MOVE     	0 0
	8	[69]	SETTABLE 	2 -4 3	; "callback" -
	9	[70]	SETTABLE 	1 -1 2	; "wikipedia_lookup" -
	10	[71]	NEWTABLE 	2 0 3
	11	[72]	GETUPVAL 	3 0	; _
	12	[72]	LOADK    	4 -6	; "Wikipedia history"
	13	[72]	CALL     	3 2 2
	14	[72]	SETTABLE 	2 -2 3	; "text" -
	15	[75]	CLOSURE  	3 1	; 0x7fae1dc08c30
	16	[75]	GETUPVAL 	0 1	; wikipedia_history
	17	[75]	SETTABLE 	2 -7 3	; "enabled_func" -
	18	[109]	CLOSURE  	3 2	; 0x7fae1dc090b0
	19	[109]	GETUPVAL 	0 1	; wikipedia_history
	20	[109]	MOVE     	0 0
	21	[109]	GETUPVAL 	0 2	; UIManager
	22	[109]	GETUPVAL 	0 3	; KeyValuePage
	23	[109]	GETUPVAL 	0 0	; _
	24	[109]	SETTABLE 	2 -4 3	; "callback" -
	25	[110]	SETTABLE 	1 -5 2	; "wikipedia_history" -
	26	[111]	NEWTABLE 	2 0 2
	27	[112]	GETUPVAL 	3 0	; _
	28	[112]	LOADK    	4 -9	; "Wikipedia settings"
	29	[112]	CALL     	3 2 2
	30	[112]	SETTABLE 	2 -2 3	; "text" -
	31	[113]	NEWTABLE 	3 7 0
	32	[113]	NEWTABLE 	4 0 3
	33	[115]	GETUPVAL 	5 0	; _
	34	[115]	LOADK    	6 -11	; "Set Wikipedia languages"
	35	[115]	CALL     	5 2 2
	36	[115]	SETTABLE 	4 -2 5	; "text" -
	37	[116]	SETTABLE 	4 -12 -13	; "keep_menu_open" true
	38	[166]	CLOSURE  	5 3	; 0x7fae1dc09030
	39	[166]	GETUPVAL 	0 2	; UIManager
	40	[166]	GETUPVAL 	0 4	; InfoMessage
	41	[166]	GETUPVAL 	0 5	; T
	42	[166]	GETUPVAL 	0 0	; _
	43	[166]	MOVE     	0 0
	44	[166]	GETUPVAL 	0 6	; InputDialog
	45	[166]	SETTABLE 	4 -4 5	; "callback" -
	46	[167]	NEWTABLE 	5 0 3
	47	[169]	GETUPVAL 	6 0	; _
	48	[169]	LOADK    	7 -14	; "Set Wikipedia 'Save as EPUB' directory"
	49	[169]	CALL     	6 2 2
	50	[169]	SETTABLE 	5 -2 6	; "text" -
	51	[170]	SETTABLE 	5 -12 -13	; "keep_menu_open" true
	52	[274]	CLOSURE  	6 4	; 0x7fae1dc0a4b0
	53	[274]	GETUPVAL 	0 7	; ButtonDialogTitle
	54	[274]	GETUPVAL 	0 5	; T
	55	[274]	GETUPVAL 	0 0	; _
	56	[274]	GETUPVAL 	0 8	; BD
	57	[274]	GETUPVAL 	0 2	; UIManager
	58	[274]	GETUPVAL 	0 9	; lfs
	59	[274]	GETUPVAL 	0 4	; InfoMessage
	60	[274]	GETUPVAL 	0 10	; ConfirmBox
	61	[274]	GETUPVAL 	0 11	; util
	62	[274]	SETTABLE 	5 -4 6	; "callback" -
	63	[275]	NEWTABLE 	6 0 4
	64	[277]	GETUPVAL 	7 0	; _
	65	[277]	LOADK    	8 -15	; "Save Wikipedia EPUB in current book directory"
	66	[277]	CALL     	7 2 2
	67	[277]	SETTABLE 	6 -2 7	; "text" -
	68	[280]	CLOSURE  	7 5	; 0x7fae1dc0d3e0
	69	[280]	SETTABLE 	6 -16 7	; "checked_func" -
	70	[283]	CLOSURE  	7 6	; 0x7fae1dc0a2a0
	71	[283]	SETTABLE 	6 -4 7	; "callback" -
	72	[284]	SETTABLE 	6 -17 -13	; "separator" true
	73	[285]	NEWTABLE 	7 0 3
	74	[287]	GETUPVAL 	8 0	; _
	75	[287]	LOADK    	9 -18	; "Enable Wikipedia history"
	76	[287]	CALL     	8 2 2
	77	[287]	SETTABLE 	7 -2 8	; "text" -
	78	[290]	CLOSURE  	8 7	; 0x7fae1dc09520
	79	[290]	MOVE     	0 0
	80	[290]	SETTABLE 	7 -16 8	; "checked_func" -
	81	[294]	CLOSURE  	8 8	; 0x7fae1dc0e360
	82	[294]	MOVE     	0 0
	83	[294]	SETTABLE 	7 -4 8	; "callback" -
	84	[295]	NEWTABLE 	8 0 4
	85	[297]	GETUPVAL 	9 0	; _
	86	[297]	LOADK    	10 -19	; "Clean Wikipedia history"
	87	[297]	CALL     	9 2 2
	88	[297]	SETTABLE 	8 -2 9	; "text" -
	89	[298]	SETTABLE 	8 -12 -13	; "keep_menu_open" true
	90	[308]	CLOSURE  	9 9	; 0x7fae1dc0e840
	91	[308]	GETUPVAL 	0 2	; UIManager
	92	[308]	GETUPVAL 	0 10	; ConfirmBox
	93	[308]	GETUPVAL 	0 0	; _
	94	[308]	GETUPVAL 	0 1	; wikipedia_history
	95	[308]	SETTABLE 	8 -4 9	; "callback" -
	96	[309]	SETTABLE 	8 -17 -13	; "separator" true
	97	[310]	NEWTABLE 	9 0 3
	98	[312]	GETUPVAL 	10 0	; _
	99	[312]	LOADK    	11 -20	; "Show image in search results"
	100	[312]	CALL     	10 2 2
	101	[312]	SETTABLE 	9 -2 10	; "text" -
	102	[315]	CLOSURE  	10 10	; 0x7fae1dc0f040
	103	[315]	SETTABLE 	9 -16 10	; "checked_func" -
	104	[318]	CLOSURE  	10 11	; 0x7fae1dc0f100
	105	[318]	SETTABLE 	9 -4 10	; "callback" -
	106	[319]	NEWTABLE 	10 0 4
	107	[321]	GETUPVAL 	11 0	; _
	108	[321]	LOADK    	12 -21	; "Show more images in full article"
	109	[321]	CALL     	11 2 2
	110	[321]	SETTABLE 	10 -2 11	; "text" -
	111	[324]	CLOSURE  	11 12	; 0x7fae1dc0f4e0
	112	[324]	SETTABLE 	10 -7 11	; "enabled_func" -
	113	[327]	CLOSURE  	11 13	; 0x7fae1dc0f660
	114	[327]	SETTABLE 	10 -16 11	; "checked_func" -
	115	[330]	CLOSURE  	11 14	; 0x7fae1dc0fb20
	116	[330]	SETTABLE 	10 -4 11	; "callback" -
	117	[332]	SETLIST  	3 7 1	; 1
	118	[332]	SETTABLE 	2 -10 3	; "sub_item_table" -
	119	[333]	SETTABLE 	1 -8 2	; "wikipedia_settings" -
	120	[334]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:69,69> (4 instructions, 16 bytes at 0x7fae1dc08b10)
0 params, 2 slots, 1 upvalue, 0 locals, 1 constant, 0 functions
	1	[69]	GETUPVAL 	0 0	; self
	2	[69]	SELF     	0 0 -1	; "onShowWikipediaLookup"
	3	[69]	CALL     	0 2 1
	4	[69]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:73,75> (6 instructions, 24 bytes at 0x7fae1dc08c30)
0 params, 3 slots, 1 upvalue, 0 locals, 2 constants, 0 functions
	1	[74]	GETUPVAL 	0 0	; wikipedia_history
	2	[74]	SELF     	0 0 -1	; "has"
	3	[74]	LOADK    	2 -2	; "wikipedia_history"
	4	[74]	TAILCALL 	0 3 0
	5	[74]	RETURN   	0 0
	6	[75]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:76,109> (83 instructions, 332 bytes at 0x7fae1dc090b0)
0 params, 17 slots, 5 upvalues, 11 locals, 30 constants, 1 function
	1	[77]	GETUPVAL 	0 0	; wikipedia_history
	2	[77]	SELF     	0 0 -1	; "readSetting"
	3	[77]	LOADK    	2 -2	; "wikipedia_history"
	4	[77]	CALL     	0 3 2
	5	[78]	NEWTABLE 	1 0 0
	6	[79]	LOADNIL  	2 2
	7	[80]	GETUPVAL 	3 1	; self
	8	[80]	SELF     	3 3 -3	; "initLanguages"
	9	[80]	CALL     	3 2 1
	10	[81]	LEN      	3 0
	11	[81]	LOADK    	4 -4	; 1
	12	[81]	LOADK    	5 -5	; -1
	13	[81]	FORPREP  	3 56	; to 70
	14	[82]	GETTABLE 	7 0 6
	15	[83]	GETTABLE 	8 7 -6	; "book_title"
	16	[83]	EQ       	1 8 2
	17	[83]	JMP      	10	; to 28
	18	[84]	GETGLOBAL	8 -7	; table
	19	[84]	GETTABLE 	8 8 -8	; "insert"
	20	[84]	MOVE     	9 1
	21	[84]	NEWTABLE 	10 2 0
	22	[84]	GETTABLE 	11 7 -6	; "book_title"
	23	[84]	LOADK    	12 -9	; ":"
	24	[84]	CONCAT   	11 11 12
	25	[84]	LOADK    	12 -10	; ""
	26	[84]	SETLIST  	10 2 1	; 1
	27	[84]	CALL     	8 3 1
	28	[86]	GETTABLE 	2 7 -6	; "book_title"
	29	[87]	LOADK    	8 -11	; "\226\150\177 "
	30	[88]	GETTABLE 	9 7 -12	; "page"
	31	[88]	TEST     	9 0 0
	32	[88]	JMP      	1	; to 34
	33	[89]	LOADK    	8 -13	; "\226\150\164 "
	34	[91]	LOADK    	9 -10	; ""
	35	[92]	GETTABLE 	10 7 -14	; "lang"
	36	[92]	GETUPVAL 	11 1	; self
	37	[92]	GETTABLE 	11 11 -15	; "wiki_languages"
	38	[92]	GETTABLE 	11 11 -4	; 1
	39	[92]	SELF     	11 11 -16	; "lower"
	40	[92]	CALL     	11 2 2
	41	[92]	EQ       	1 10 11
	42	[92]	JMP      	6	; to 49
	43	[94]	LOADK    	10 -17	; " ["
	44	[94]	GETTABLE 	11 7 -14	; "lang"
	45	[94]	SELF     	11 11 -18	; "upper"
	46	[94]	CALL     	11 2 2
	47	[94]	LOADK    	12 -19	; "]"
	48	[94]	CONCAT   	9 10 12
	49	[96]	MOVE     	10 8
	50	[96]	GETTABLE 	11 7 -20	; "word"
	51	[96]	MOVE     	12 9
	52	[96]	CONCAT   	10 10 12
	53	[97]	GETGLOBAL	11 -7	; table
	54	[97]	GETTABLE 	11 11 -8	; "insert"
	55	[97]	MOVE     	12 1
	56	[97]	NEWTABLE 	13 2 1
	57	[98]	GETGLOBAL	14 -21	; os
	58	[98]	GETTABLE 	14 14 -22	; "date"
	59	[98]	LOADK    	15 -23	; "%Y-%m-%d %H:%M:%S"
	60	[98]	GETTABLE 	16 7 -24	; "time"
	61	[98]	CALL     	14 3 2
	62	[99]	MOVE     	15 10
	63	[102]	CLOSURE  	16 0	; 0x7fae1dc09740
	64	[102]	GETUPVAL 	0 1	; self
	65	[102]	MOVE     	0 7
	66	[102]	SETTABLE 	13 -25 16	; "callback" -
	67	[103]	SETLIST  	13 2 1	; 1
	68	[97]	CALL     	11 3 1
	69	[103]	CLOSE    	7
	70	[81]	FORLOOP  	3 -57	; to 14
	71	[105]	GETUPVAL 	3 2	; UIManager
	72	[105]	SELF     	3 3 -26	; "show"
	73	[105]	GETUPVAL 	5 3	; KeyValuePage
	74	[105]	SELF     	5 5 -27	; "new"
	75	[105]	NEWTABLE 	7 0 2
	76	[106]	GETUPVAL 	8 4	; _
	77	[106]	LOADK    	9 -29	; "Wikipedia history"
	78	[106]	CALL     	8 2 2
	79	[106]	SETTABLE 	7 -28 8	; "title" -
	80	[107]	SETTABLE 	7 -30 1	; "kv_pairs" -
	81	[105]	CALL     	5 3 0
	82	[105]	CALL     	3 0 1
	83	[109]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:100,102> (11 instructions, 44 bytes at 0x7fae1dc09740)
0 params, 6 slots, 2 upvalues, 0 locals, 4 constants, 0 functions
	1	[101]	GETUPVAL 	0 0	; self
	2	[101]	SELF     	0 0 -1	; "onLookupWikipedia"
	3	[101]	GETUPVAL 	2 1	; value
	4	[101]	GETTABLE 	2 2 -2	; "word"
	5	[101]	LOADNIL  	3 3
	6	[101]	GETUPVAL 	4 1	; value
	7	[101]	GETTABLE 	4 4 -3	; "page"
	8	[101]	GETUPVAL 	5 1	; value
	9	[101]	GETTABLE 	5 5 -4	; "lang"
	10	[101]	CALL     	0 6 1
	11	[102]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:117,166> (60 instructions, 240 bytes at 0x7fae1dc09030)
0 params, 12 slots, 6 upvalues, 3 locals, 23 constants, 2 functions
	1	[137]	CLOSURE  	1 0	; 0x7fae1dc08e90
	2	[137]	MOVE     	0 0
	3	[137]	GETUPVAL 	0 0	; UIManager
	4	[137]	GETUPVAL 	0 1	; InfoMessage
	5	[137]	GETUPVAL 	0 2	; T
	6	[137]	GETUPVAL 	0 3	; _
	7	[137]	GETUPVAL 	0 4	; self
	8	[140]	GETUPVAL 	2 4	; self
	9	[140]	SELF     	2 2 -1	; "initLanguages"
	10	[140]	CALL     	2 2 1
	11	[141]	GETGLOBAL	2 -2	; table
	12	[141]	GETTABLE 	2 2 -3	; "concat"
	13	[141]	GETUPVAL 	3 4	; self
	14	[141]	GETTABLE 	3 3 -4	; "wiki_languages"
	15	[141]	LOADK    	4 -5	; " "
	16	[141]	CALL     	2 3 2
	17	[142]	GETUPVAL 	3 5	; InputDialog
	18	[142]	SELF     	3 3 -6	; "new"
	19	[142]	NEWTABLE 	5 0 6
	20	[143]	GETUPVAL 	6 3	; _
	21	[143]	LOADK    	7 -8	; "Wikipedia languages"
	22	[143]	CALL     	6 2 2
	23	[143]	SETTABLE 	5 -7 6	; "title" -
	24	[144]	SETTABLE 	5 -9 2	; "input" -
	25	[145]	SETTABLE 	5 -10 -11	; "input_hint" "en fr zh"
	26	[146]	SETTABLE 	5 -12 -13	; "input_type" "text"
	27	[147]	GETUPVAL 	6 3	; _
	28	[147]	LOADK    	7 -15	; "Enter one or more Wikipedia language codes (the 2 or 3 letters before .wikipedia.org), in the order you wish to see them available, separated by a space. For example:\n    en fr zh\n\nFull list at https://en.wikipedia.org/wiki/List_of_Wikipedias"
	29	[147]	CALL     	6 2 2
	30	[147]	SETTABLE 	5 -14 6	; "description" -
	31	[148]	NEWTABLE 	6 1 0
	32	[148]	NEWTABLE 	7 2 0
	33	[149]	NEWTABLE 	8 0 2
	34	[151]	GETUPVAL 	9 3	; _
	35	[151]	LOADK    	10 -17	; "Cancel"
	36	[151]	CALL     	9 2 2
	37	[151]	SETTABLE 	8 -13 9	; "text" -
	38	[154]	CLOSURE  	9 1	; 0x7fae1dc0a530
	39	[154]	GETUPVAL 	0 0	; UIManager
	40	[154]	MOVE     	0 0
	41	[154]	SETTABLE 	8 -18 9	; "callback" -
	42	[155]	NEWTABLE 	9 0 3
	43	[157]	GETUPVAL 	10 3	; _
	44	[157]	LOADK    	11 -19	; "Save"
	45	[157]	CALL     	10 2 2
	46	[157]	SETTABLE 	9 -13 10	; "text" -
	47	[158]	SETTABLE 	9 -20 -21	; "is_enter_default" true
	48	[159]	SETTABLE 	9 -18 1	; "callback" -
	49	[161]	SETLIST  	7 2 1	; 1
	50	[162]	SETLIST  	6 1 1	; 1
	51	[162]	SETTABLE 	5 -16 6	; "buttons" -
	52	[142]	CALL     	3 3 2
	53	[163]	MOVE     	0 3
	54	[164]	GETUPVAL 	3 0	; UIManager
	55	[164]	SELF     	3 3 -22	; "show"
	56	[164]	MOVE     	5 0
	57	[164]	CALL     	3 3 1
	58	[165]	SELF     	3 0 -23	; "onShowKeyboard"
	59	[165]	CALL     	3 2 1
	60	[166]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:119,137> (54 instructions, 216 bytes at 0x7fae1dc08e90)
0 params, 14 slots, 6 upvalues, 6 locals, 18 constants, 0 functions
	1	[120]	NEWTABLE 	0 0 0
	2	[121]	GETUPVAL 	1 0	; wikilang_input
	3	[121]	SELF     	1 1 -1	; "getInputText"
	4	[121]	CALL     	1 2 2
	5	[122]	SELF     	2 1 -2	; "gmatch"
	6	[122]	LOADK    	4 -3	; "%S+"
	7	[122]	CALL     	2 3 4
	8	[122]	JMP      	28	; to 37
	9	[123]	SELF     	6 5 -4	; "match"
	10	[123]	LOADK    	8 -5	; "^[%a-]+$"
	11	[123]	CALL     	6 3 2
	12	[123]	TEST     	6 0 1
	13	[123]	JMP      	15	; to 29
	14	[124]	GETUPVAL 	6 1	; UIManager
	15	[124]	SELF     	6 6 -6	; "show"
	16	[124]	GETUPVAL 	8 2	; InfoMessage
	17	[124]	SELF     	8 8 -7	; "new"
	18	[124]	NEWTABLE 	10 0 1
	19	[125]	GETUPVAL 	11 3	; T
	20	[125]	GETUPVAL 	12 4	; _
	21	[125]	LOADK    	13 -9	; "%1 does not look like a valid Wikipedia language."
	22	[125]	CALL     	12 2 2
	23	[125]	MOVE     	13 5
	24	[125]	CALL     	11 3 2
	25	[125]	SETTABLE 	10 -8 11	; "text" -
	26	[124]	CALL     	8 3 0
	27	[124]	CALL     	6 0 1
	28	[127]	RETURN   	0 1
	29	[129]	SELF     	6 5 -10	; "lower"
	30	[129]	CALL     	6 2 2
	31	[129]	MOVE     	5 6
	32	[130]	GETGLOBAL	6 -11	; table
	33	[130]	GETTABLE 	6 6 -12	; "insert"
	34	[130]	MOVE     	7 0
	35	[130]	MOVE     	8 5
	36	[130]	CALL     	6 3 1
	37	[122]	TFORLOOP 	2 1
	38	[130]	JMP      	-30	; to 9
	39	[132]	GETGLOBAL	2 -13	; G_reader_settings
	40	[132]	SELF     	2 2 -14	; "saveSetting"
	41	[132]	LOADK    	4 -15	; "wikipedia_languages"
	42	[132]	MOVE     	5 0
	43	[132]	CALL     	2 4 1
	44	[134]	GETUPVAL 	2 5	; self
	45	[134]	NEWTABLE 	3 0 0
	46	[134]	SETTABLE 	2 -16 3	; "wiki_languages" -
	47	[135]	GETUPVAL 	2 5	; self
	48	[135]	SELF     	2 2 -17	; "initLanguages"
	49	[135]	CALL     	2 2 1
	50	[136]	GETUPVAL 	2 1	; UIManager
	51	[136]	SELF     	2 2 -18	; "close"
	52	[136]	GETUPVAL 	4 0	; wikilang_input
	53	[136]	CALL     	2 3 1
	54	[137]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:152,154> (5 instructions, 20 bytes at 0x7fae1dc0a530)
0 params, 3 slots, 2 upvalues, 0 locals, 1 constant, 0 functions
	1	[153]	GETUPVAL 	0 0	; UIManager
	2	[153]	SELF     	0 0 -1	; "close"
	3	[153]	GETUPVAL 	2 1	; wikilang_input
	4	[153]	CALL     	0 3 1
	5	[154]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:171,274> (88 instructions, 352 bytes at 0x7fae1dc0a4b0)
0 params, 11 slots, 9 upvalues, 4 locals, 24 constants, 3 functions
	1	[235]	CLOSURE  	0 0	; 0x7fae1dc0b440
	2	[235]	GETUPVAL 	0 0	; ButtonDialogTitle
	3	[235]	GETUPVAL 	0 1	; T
	4	[235]	GETUPVAL 	0 2	; _
	5	[235]	GETUPVAL 	0 3	; BD
	6	[235]	GETUPVAL 	0 4	; UIManager
	7	[235]	GETUPVAL 	0 5	; lfs
	8	[235]	GETUPVAL 	0 6	; InfoMessage
	9	[238]	GETGLOBAL	1 -1	; G_reader_settings
	10	[238]	SELF     	1 1 -2	; "readSetting"
	11	[238]	LOADK    	3 -3	; "wikipedia_save_dir"
	12	[238]	CALL     	1 3 2
	13	[238]	TEST     	1 0 1
	14	[238]	JMP      	71	; to 86
	15	[239]	GETGLOBAL	1 -1	; G_reader_settings
	16	[239]	SELF     	1 1 -2	; "readSetting"
	17	[239]	LOADK    	3 -4	; "home_dir"
	18	[239]	CALL     	1 3 2
	19	[240]	TEST     	1 0 0
	20	[240]	JMP      	8	; to 29
	21	[240]	GETUPVAL 	2 5	; lfs
	22	[240]	GETTABLE 	2 2 -5	; "attributes"
	23	[240]	MOVE     	3 1
	24	[240]	LOADK    	4 -6	; "mode"
	25	[240]	CALL     	2 3 2
	26	[240]	NOT      	2 2
	27	[240]	EQ       	0 2 -7	; - "directory"
	28	[240]	JMP      	6	; to 35
	29	[241]	GETGLOBAL	2 -8	; require
	30	[241]	LOADK    	3 -9	; "apps/filemanager/filemanagerutil"
	31	[241]	CALL     	2 2 2
	32	[241]	GETTABLE 	2 2 -10	; "getDefaultDir"
	33	[241]	CALL     	2 1 2
	34	[241]	MOVE     	1 2
	35	[243]	SELF     	2 1 -11	; "gsub"
	36	[243]	LOADK    	4 -12	; "^(.-)/*$"
	37	[243]	LOADK    	5 -13	; "%1"
	38	[243]	CALL     	2 4 2
	39	[243]	MOVE     	1 2
	40	[244]	TEST     	1 0 0
	41	[244]	JMP      	44	; to 86
	42	[244]	GETUPVAL 	2 5	; lfs
	43	[244]	GETTABLE 	2 2 -5	; "attributes"
	44	[244]	MOVE     	3 1
	45	[244]	LOADK    	4 -6	; "mode"
	46	[244]	CALL     	2 3 2
	47	[244]	EQ       	0 2 -7	; - "directory"
	48	[244]	JMP      	37	; to 86
	49	[245]	MOVE     	2 1
	50	[245]	LOADK    	3 -14	; "/Wikipedia"
	51	[245]	CONCAT   	2 2 3
	52	[246]	GETUPVAL 	3 2	; _
	53	[251]	LOADK    	4 -15	; "Wikipedia articles can be saved as an EPUB for more comfortable reading.\n\nYou can select an existing directory, or use a default directory named \"Wikipedia\" in your reader's home directory.\n\nWhere do you want them saved?"
	54	[246]	CALL     	3 2 2
	55	[252]	GETUPVAL 	4 4	; UIManager
	56	[252]	SELF     	4 4 -16	; "show"
	57	[252]	GETUPVAL 	6 7	; ConfirmBox
	58	[252]	SELF     	6 6 -17	; "new"
	59	[252]	NEWTABLE 	8 0 5
	60	[253]	SETTABLE 	8 -18 3	; "text" -
	61	[254]	GETUPVAL 	9 2	; _
	62	[254]	LOADK    	10 -20	; "Use ~/Wikipedia/"
	63	[254]	CALL     	9 2 2
	64	[254]	SETTABLE 	8 -19 9	; "ok_text" -
	65	[263]	CLOSURE  	9 1	; 0x7fae1dc0b3a0
	66	[263]	GETUPVAL 	0 8	; util
	67	[263]	MOVE     	0 2
	68	[263]	GETUPVAL 	0 5	; lfs
	69	[263]	GETUPVAL 	0 4	; UIManager
	70	[263]	GETUPVAL 	0 6	; InfoMessage
	71	[263]	GETUPVAL 	0 1	; T
	72	[263]	GETUPVAL 	0 2	; _
	73	[263]	GETUPVAL 	0 3	; BD
	74	[263]	SETTABLE 	8 -21 9	; "ok_callback" -
	75	[264]	GETUPVAL 	9 2	; _
	76	[264]	LOADK    	10 -23	; "Select directory"
	77	[264]	CALL     	9 2 2
	78	[264]	SETTABLE 	8 -22 9	; "cancel_text" -
	79	[267]	CLOSURE  	9 2	; 0x7fae1dc0cd50
	80	[267]	MOVE     	0 0
	81	[267]	SETTABLE 	8 -24 9	; "cancel_callback" -
	82	[252]	CALL     	6 3 0
	83	[252]	CALL     	4 0 1
	84	[269]	RETURN   	0 1
	85	[269]	CLOSE    	2
	86	[273]	MOVE     	1 0
	87	[273]	CALL     	1 1 1
	88	[274]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:172,235> (70 instructions, 280 bytes at 0x7fae1dc0b440)
0 params, 11 slots, 7 upvalues, 2 locals, 17 constants, 2 functions
	1	[174]	GETGLOBAL	0 -1	; G_reader_settings
	2	[174]	SELF     	0 0 -2	; "readSetting"
	3	[174]	LOADK    	2 -3	; "wikipedia_save_dir"
	4	[174]	CALL     	0 3 2
	5	[175]	TEST     	0 0 1
	6	[175]	JMP      	5	; to 12
	7	[175]	GETGLOBAL	1 -1	; G_reader_settings
	8	[175]	SELF     	1 1 -2	; "readSetting"
	9	[175]	LOADK    	3 -4	; "home_dir"
	10	[175]	CALL     	1 3 2
	11	[175]	MOVE     	0 1
	12	[176]	TEST     	0 0 1
	13	[176]	JMP      	6	; to 20
	14	[176]	GETGLOBAL	1 -5	; require
	15	[176]	LOADK    	2 -6	; "apps/filemanager/filemanagerutil"
	16	[176]	CALL     	1 2 2
	17	[176]	GETTABLE 	1 1 -7	; "getDefaultDir"
	18	[176]	CALL     	1 1 2
	19	[176]	MOVE     	0 1
	20	[177]	LOADNIL  	1 1
	21	[178]	GETUPVAL 	2 0	; ButtonDialogTitle
	22	[178]	SELF     	2 2 -8	; "new"
	23	[178]	NEWTABLE 	4 0 2
	24	[179]	GETUPVAL 	5 1	; T
	25	[179]	GETUPVAL 	6 2	; _
	26	[179]	LOADK    	7 -10	; "Current Wikipedia 'Save as EPUB' directory:\n\n%1\n"
	27	[179]	CALL     	6 2 2
	28	[179]	GETUPVAL 	7 3	; BD
	29	[179]	GETTABLE 	7 7 -11	; "dirpath"
	30	[179]	MOVE     	8 0
	31	[179]	CALL     	7 2 0
	32	[179]	CALL     	5 0 2
	33	[179]	SETTABLE 	4 -9 5	; "title" -
	34	[180]	NEWTABLE 	5 2 0
	35	[180]	NEWTABLE 	6 1 0
	36	[181]	NEWTABLE 	7 0 2
	37	[183]	GETUPVAL 	8 2	; _
	38	[183]	LOADK    	9 -14	; "Keep this directory"
	39	[183]	CALL     	8 2 2
	40	[183]	SETTABLE 	7 -13 8	; "text" -
	41	[186]	CLOSURE  	8 0	; 0x7fae1dc0b700
	42	[186]	GETUPVAL 	0 4	; UIManager
	43	[186]	MOVE     	0 1
	44	[186]	SETTABLE 	7 -15 8	; "callback" -
	45	[188]	SETLIST  	6 1 1	; 1
	46	[188]	NEWTABLE 	7 1 0
	47	[189]	NEWTABLE 	8 0 2
	48	[191]	GETUPVAL 	9 2	; _
	49	[191]	LOADK    	10 -16	; "Select another directory"
	50	[191]	CALL     	9 2 2
	51	[191]	SETTABLE 	8 -13 9	; "text" -
	52	[229]	CLOSURE  	9 1	; 0x7fae1dc0bc80
	53	[229]	GETUPVAL 	0 4	; UIManager
	54	[229]	MOVE     	0 1
	55	[229]	GETUPVAL 	0 5	; lfs
	56	[229]	GETUPVAL 	0 6	; InfoMessage
	57	[229]	GETUPVAL 	0 1	; T
	58	[229]	GETUPVAL 	0 2	; _
	59	[229]	GETUPVAL 	0 3	; BD
	60	[229]	SETTABLE 	8 -15 9	; "callback" -
	61	[231]	SETLIST  	7 1 1	; 1
	62	[232]	SETLIST  	5 2 1	; 1
	63	[232]	SETTABLE 	4 -12 5	; "buttons" -
	64	[178]	CALL     	2 3 2
	65	[233]	MOVE     	1 2
	66	[234]	GETUPVAL 	2 4	; UIManager
	67	[234]	SELF     	2 2 -17	; "show"
	68	[234]	MOVE     	4 1
	69	[234]	CALL     	2 3 1
	70	[235]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:184,186> (5 instructions, 20 bytes at 0x7fae1dc0b700)
0 params, 3 slots, 2 upvalues, 0 locals, 1 constant, 0 functions
	1	[185]	GETUPVAL 	0 0	; UIManager
	2	[185]	SELF     	0 0 -1	; "close"
	3	[185]	GETUPVAL 	2 1	; dialog
	4	[185]	CALL     	0 3 1
	5	[186]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:192,229> (84 instructions, 336 bytes at 0x7fae1dc0bc80)
0 params, 10 slots, 7 upvalues, 9 locals, 29 constants, 1 function
	1	[193]	GETUPVAL 	0 0	; UIManager
	2	[193]	SELF     	0 0 -1	; "close"
	3	[193]	GETUPVAL 	2 1	; dialog
	4	[193]	CALL     	0 3 1
	5	[197]	GETGLOBAL	0 -2	; G_reader_settings
	6	[197]	SELF     	0 0 -3	; "readSetting"
	7	[197]	LOADK    	2 -4	; "wikipedia_save_dir"
	8	[197]	CALL     	0 3 2
	9	[198]	TEST     	0 0 1
	10	[198]	JMP      	5	; to 16
	11	[198]	GETGLOBAL	1 -2	; G_reader_settings
	12	[198]	SELF     	1 1 -3	; "readSetting"
	13	[198]	LOADK    	3 -5	; "home_dir"
	14	[198]	CALL     	1 3 2
	15	[198]	MOVE     	0 1
	16	[199]	TEST     	0 0 1
	17	[199]	JMP      	6	; to 24
	18	[199]	GETGLOBAL	1 -6	; require
	19	[199]	LOADK    	2 -7	; "apps/filemanager/filemanagerutil"
	20	[199]	CALL     	1 2 2
	21	[199]	GETTABLE 	1 1 -8	; "getDefaultDir"
	22	[199]	CALL     	1 1 2
	23	[199]	MOVE     	0 1
	24	[200]	TEST     	0 0 1
	25	[200]	JMP      	1	; to 27
	26	[200]	LOADK    	0 -9	; "/"
	27	[203]	LOADBOOL 	1 0 0
	28	[204]	GETUPVAL 	2 2	; lfs
	29	[204]	GETTABLE 	2 2 -10	; "dir"
	30	[204]	MOVE     	3 0
	31	[204]	CALL     	2 2 4
	32	[204]	JMP      	23	; to 56
	33	[205]	GETUPVAL 	6 2	; lfs
	34	[205]	GETTABLE 	6 6 -11	; "attributes"
	35	[205]	MOVE     	7 0
	36	[205]	LOADK    	8 -9	; "/"
	37	[205]	MOVE     	9 5
	38	[205]	CONCAT   	7 7 9
	39	[205]	CALL     	6 2 2
	40	[206]	TEST     	6 0 0
	41	[206]	JMP      	14	; to 56
	42	[206]	GETTABLE 	7 6 -12	; "mode"
	43	[206]	EQ       	0 7 -13	; - "directory"
	44	[206]	JMP      	11	; to 56
	45	[207]	EQ       	1 5 -14	; - "."
	46	[207]	JMP      	9	; to 56
	47	[207]	EQ       	1 5 -15	; - ".."
	48	[207]	JMP      	7	; to 56
	49	[207]	SELF     	7 5 -16	; "sub"
	50	[207]	LOADK    	9 -17	; -4
	51	[207]	CALL     	7 3 2
	52	[207]	EQ       	1 7 -18	; - ".sdr"
	53	[207]	JMP      	2	; to 56
	54	[208]	LOADBOOL 	1 1 0
	55	[209]	JMP      	2	; to 58
	56	[204]	TFORLOOP 	2 1
	57	[211]	JMP      	-25	; to 33
	58	[213]	TEST     	1 0 1
	59	[213]	JMP      	4	; to 64
	60	[214]	SELF     	2 0 -19	; "match"
	61	[214]	LOADK    	4 -20	; "(.*)/"
	62	[214]	CALL     	2 3 2
	63	[214]	MOVE     	0 2
	64	[216]	GETGLOBAL	2 -6	; require
	65	[216]	LOADK    	3 -21	; "ui/widget/pathchooser"
	66	[216]	CALL     	2 2 2
	67	[217]	SELF     	3 2 -22	; "new"
	68	[217]	NEWTABLE 	5 0 4
	69	[218]	SETTABLE 	5 -23 -24	; "select_directory" true
	70	[219]	SETTABLE 	5 -25 -26	; "select_file" false
	71	[220]	SETTABLE 	5 -27 0	; "path" -
	72	[226]	CLOSURE  	6 0	; 0x7fae1dc0bd40
	73	[226]	GETUPVAL 	0 0	; UIManager
	74	[226]	GETUPVAL 	0 3	; InfoMessage
	75	[226]	GETUPVAL 	0 4	; T
	76	[226]	GETUPVAL 	0 5	; _
	77	[226]	GETUPVAL 	0 6	; BD
	78	[226]	SETTABLE 	5 -28 6	; "onConfirm" -
	79	[217]	CALL     	3 3 2
	80	[228]	GETUPVAL 	4 0	; UIManager
	81	[228]	SELF     	4 4 -29	; "show"
	82	[228]	MOVE     	6 3
	83	[228]	CALL     	4 3 1
	84	[229]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:221,226> (23 instructions, 92 bytes at 0x7fae1dc0bd40)
1 param, 10 slots, 5 upvalues, 1 local, 8 constants, 0 functions
	1	[222]	GETGLOBAL	1 -1	; G_reader_settings
	2	[222]	SELF     	1 1 -2	; "saveSetting"
	3	[222]	LOADK    	3 -3	; "wikipedia_save_dir"
	4	[222]	MOVE     	4 0
	5	[222]	CALL     	1 4 1
	6	[223]	GETUPVAL 	1 0	; UIManager
	7	[223]	SELF     	1 1 -4	; "show"
	8	[223]	GETUPVAL 	3 1	; InfoMessage
	9	[223]	SELF     	3 3 -5	; "new"
	10	[223]	NEWTABLE 	5 0 1
	11	[224]	GETUPVAL 	6 2	; T
	12	[224]	GETUPVAL 	7 3	; _
	13	[224]	LOADK    	8 -7	; "Wikipedia 'Save as EPUB' directory set to:\n%1"
	14	[224]	CALL     	7 2 2
	15	[224]	GETUPVAL 	8 4	; BD
	16	[224]	GETTABLE 	8 8 -8	; "dirpath"
	17	[224]	MOVE     	9 0
	18	[224]	CALL     	8 2 0
	19	[224]	CALL     	6 0 2
	20	[224]	SETTABLE 	5 -6 6	; "text" -
	21	[223]	CALL     	3 3 0
	22	[223]	CALL     	1 0 1
	23	[226]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:255,263> (33 instructions, 132 bytes at 0x7fae1dc0b3a0)
0 params, 9 slots, 8 upvalues, 0 locals, 10 constants, 0 functions
	1	[256]	GETUPVAL 	0 0	; util
	2	[256]	GETTABLE 	0 0 -1	; "pathExists"
	3	[256]	GETUPVAL 	1 1	; wikipedia_dir
	4	[256]	CALL     	0 2 2
	5	[256]	TEST     	0 0 1
	6	[256]	JMP      	4	; to 11
	7	[257]	GETUPVAL 	0 2	; lfs
	8	[257]	GETTABLE 	0 0 -2	; "mkdir"
	9	[257]	GETUPVAL 	1 1	; wikipedia_dir
	10	[257]	CALL     	0 2 1
	11	[259]	GETGLOBAL	0 -3	; G_reader_settings
	12	[259]	SELF     	0 0 -4	; "saveSetting"
	13	[259]	LOADK    	2 -5	; "wikipedia_save_dir"
	14	[259]	GETUPVAL 	3 1	; wikipedia_dir
	15	[259]	CALL     	0 4 1
	16	[260]	GETUPVAL 	0 3	; UIManager
	17	[260]	SELF     	0 0 -6	; "show"
	18	[260]	GETUPVAL 	2 4	; InfoMessage
	19	[260]	SELF     	2 2 -7	; "new"
	20	[260]	NEWTABLE 	4 0 1
	21	[261]	GETUPVAL 	5 5	; T
	22	[261]	GETUPVAL 	6 6	; _
	23	[261]	LOADK    	7 -9	; "Wikipedia 'Save as EPUB' directory set to:\n%1"
	24	[261]	CALL     	6 2 2
	25	[261]	GETUPVAL 	7 7	; BD
	26	[261]	GETTABLE 	7 7 -10	; "dirpath"
	27	[261]	GETUPVAL 	8 1	; wikipedia_dir
	28	[261]	CALL     	7 2 0
	29	[261]	CALL     	5 0 2
	30	[261]	SETTABLE 	4 -8 5	; "text" -
	31	[260]	CALL     	2 3 0
	32	[260]	CALL     	0 0 1
	33	[263]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:265,267> (3 instructions, 12 bytes at 0x7fae1dc0cd50)
0 params, 2 slots, 1 upvalue, 0 locals, 0 constants, 0 functions
	1	[266]	GETUPVAL 	0 0	; choose_directory
	2	[266]	CALL     	0 1 1
	3	[267]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:278,280> (6 instructions, 24 bytes at 0x7fae1dc0d3e0)
0 params, 3 slots, 0 upvalues, 0 locals, 3 constants, 0 functions
	1	[279]	GETGLOBAL	0 -1	; G_reader_settings
	2	[279]	SELF     	0 0 -2	; "isTrue"
	3	[279]	LOADK    	2 -3	; "wikipedia_save_in_book_dir"
	4	[279]	TAILCALL 	0 3 0
	5	[279]	RETURN   	0 0
	6	[280]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:281,283> (5 instructions, 20 bytes at 0x7fae1dc0a2a0)
0 params, 3 slots, 0 upvalues, 0 locals, 3 constants, 0 functions
	1	[282]	GETGLOBAL	0 -1	; G_reader_settings
	2	[282]	SELF     	0 0 -2	; "flipNilOrFalse"
	3	[282]	LOADK    	2 -3	; "wikipedia_save_in_book_dir"
	4	[282]	CALL     	0 3 1
	5	[283]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:288,290> (5 instructions, 20 bytes at 0x7fae1dc09520)
0 params, 2 slots, 1 upvalue, 0 locals, 1 constant, 0 functions
	1	[289]	GETUPVAL 	0 0	; self
	2	[289]	GETTABLE 	0 0 -1	; "disable_history"
	3	[289]	NOT      	0 0
	4	[289]	RETURN   	0 2
	5	[290]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:291,294> (12 instructions, 48 bytes at 0x7fae1dc0e360)
0 params, 4 slots, 1 upvalue, 0 locals, 4 constants, 0 functions
	1	[292]	GETUPVAL 	0 0	; self
	2	[292]	GETUPVAL 	1 0	; self
	3	[292]	GETTABLE 	1 1 -1	; "disable_history"
	4	[292]	NOT      	1 1
	5	[292]	SETTABLE 	0 -1 1	; "disable_history" -
	6	[293]	GETGLOBAL	0 -2	; G_reader_settings
	7	[293]	SELF     	0 0 -3	; "saveSetting"
	8	[293]	LOADK    	2 -4	; "wikipedia_disable_history"
	9	[293]	GETUPVAL 	3 0	; self
	10	[293]	GETTABLE 	3 3 -1	; "disable_history"
	11	[293]	CALL     	0 4 1
	12	[294]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:299,308> (19 instructions, 76 bytes at 0x7fae1dc0e840)
0 params, 7 slots, 4 upvalues, 0 locals, 7 constants, 1 function
	1	[300]	GETUPVAL 	0 0	; UIManager
	2	[300]	SELF     	0 0 -1	; "show"
	3	[300]	GETUPVAL 	2 1	; ConfirmBox
	4	[300]	SELF     	2 2 -2	; "new"
	5	[300]	NEWTABLE 	4 0 3
	6	[301]	GETUPVAL 	5 2	; _
	7	[301]	LOADK    	6 -4	; "Clean Wikipedia history?"
	8	[301]	CALL     	5 2 2
	9	[301]	SETTABLE 	4 -3 5	; "text" -
	10	[302]	GETUPVAL 	5 2	; _
	11	[302]	LOADK    	6 -6	; "Clean"
	12	[302]	CALL     	5 2 2
	13	[302]	SETTABLE 	4 -5 5	; "ok_text" -
	14	[306]	CLOSURE  	5 0	; 0x7fae1dc0e9c0
	15	[306]	GETUPVAL 	0 3	; wikipedia_history
	16	[306]	SETTABLE 	4 -7 5	; "ok_callback" -
	17	[300]	CALL     	2 3 0
	18	[300]	CALL     	0 0 1
	19	[308]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:303,306> (5 instructions, 20 bytes at 0x7fae1dc0e9c0)
0 params, 3 slots, 1 upvalue, 0 locals, 1 constant, 0 functions
	1	[305]	GETUPVAL 	0 0	; wikipedia_history
	2	[305]	SELF     	0 0 -1	; "reset"
	3	[305]	NEWTABLE 	2 0 0
	4	[305]	CALL     	0 3 1
	5	[306]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:313,315> (6 instructions, 24 bytes at 0x7fae1dc0f040)
0 params, 3 slots, 0 upvalues, 0 locals, 3 constants, 0 functions
	1	[314]	GETGLOBAL	0 -1	; G_reader_settings
	2	[314]	SELF     	0 0 -2	; "nilOrTrue"
	3	[314]	LOADK    	2 -3	; "wikipedia_show_image"
	4	[314]	TAILCALL 	0 3 0
	5	[314]	RETURN   	0 0
	6	[315]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:316,318> (5 instructions, 20 bytes at 0x7fae1dc0f100)
0 params, 3 slots, 0 upvalues, 0 locals, 3 constants, 0 functions
	1	[317]	GETGLOBAL	0 -1	; G_reader_settings
	2	[317]	SELF     	0 0 -2	; "flipNilOrTrue"
	3	[317]	LOADK    	2 -3	; "wikipedia_show_image"
	4	[317]	CALL     	0 3 1
	5	[318]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:322,324> (6 instructions, 24 bytes at 0x7fae1dc0f4e0)
0 params, 3 slots, 0 upvalues, 0 locals, 3 constants, 0 functions
	1	[323]	GETGLOBAL	0 -1	; G_reader_settings
	2	[323]	SELF     	0 0 -2	; "nilOrTrue"
	3	[323]	LOADK    	2 -3	; "wikipedia_show_image"
	4	[323]	TAILCALL 	0 3 0
	5	[323]	RETURN   	0 0
	6	[324]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:325,327> (12 instructions, 48 bytes at 0x7fae1dc0f660)
0 params, 3 slots, 0 upvalues, 0 locals, 4 constants, 0 functions
	1	[326]	GETGLOBAL	0 -1	; G_reader_settings
	2	[326]	SELF     	0 0 -2	; "nilOrTrue"
	3	[326]	LOADK    	2 -3	; "wikipedia_show_more_images"
	4	[326]	CALL     	0 3 2
	5	[326]	TEST     	0 0 0
	6	[326]	JMP      	4	; to 11
	7	[326]	GETGLOBAL	0 -1	; G_reader_settings
	8	[326]	SELF     	0 0 -2	; "nilOrTrue"
	9	[326]	LOADK    	2 -4	; "wikipedia_show_image"
	10	[326]	CALL     	0 3 2
	11	[326]	RETURN   	0 2
	12	[327]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:328,330> (5 instructions, 20 bytes at 0x7fae1dc0fb20)
0 params, 3 slots, 0 upvalues, 0 locals, 3 constants, 0 functions
	1	[329]	GETGLOBAL	0 -1	; G_reader_settings
	2	[329]	SELF     	0 0 -2	; "flipNilOrTrue"
	3	[329]	LOADK    	2 -3	; "wikipedia_show_more_images"
	4	[329]	CALL     	0 3 1
	5	[330]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:336,376> (63 instructions, 252 bytes at 0x7fae1dc07230)
2 params, 10 slots, 1 upvalue, 6 locals, 15 constants, 1 function
	1	[337]	GETTABLE 	2 0 -1	; "wiki_languages"
	2	[337]	LEN      	2 2
	3	[337]	LT       	0 -2 2	; 0 -
	4	[337]	JMP      	1	; to 6
	5	[338]	RETURN   	0 1
	6	[341]	GETGLOBAL	2 -3	; G_reader_settings
	7	[341]	SELF     	2 2 -4	; "readSetting"
	8	[341]	LOADK    	4 -5	; "wikipedia_languages"
	9	[341]	CALL     	2 3 2
	10	[342]	GETGLOBAL	3 -6	; type
	11	[342]	MOVE     	4 2
	12	[342]	CALL     	3 2 2
	13	[342]	EQ       	0 3 -7	; - "table"
	14	[342]	JMP      	5	; to 20
	15	[342]	LEN      	3 2
	16	[342]	LT       	0 -2 3	; 0 -
	17	[342]	JMP      	2	; to 20
	18	[344]	SETTABLE 	0 -1 2	; "wiki_languages" -
	19	[344]	JMP      	43	; to 63
	20	[347]	NEWTABLE 	3 0 0
	21	[347]	SETTABLE 	0 -8 3	; "seen_lang" -
	22	[359]	CLOSURE  	3 0	; 0x7fae1dc0fe00
	23	[359]	MOVE     	0 0
	24	[361]	GETTABLE 	4 0 -9	; "view"
	25	[361]	TEST     	4 0 0
	26	[361]	JMP      	7	; to 34
	27	[362]	MOVE     	4 3
	28	[362]	GETTABLE 	5 0 -9	; "view"
	29	[362]	GETTABLE 	5 5 -10	; "document"
	30	[362]	SELF     	5 5 -11	; "getProps"
	31	[362]	CALL     	5 2 2
	32	[362]	GETTABLE 	5 5 -12	; "language"
	33	[362]	CALL     	4 2 1
	34	[364]	MOVE     	4 3
	35	[364]	GETGLOBAL	5 -3	; G_reader_settings
	36	[364]	SELF     	5 5 -4	; "readSetting"
	37	[364]	LOADK    	7 -12	; "language"
	38	[364]	CALL     	5 3 0
	39	[364]	CALL     	4 0 1
	40	[365]	GETTABLE 	4 0 -1	; "wiki_languages"
	41	[365]	LEN      	4 4
	42	[365]	EQ       	0 4 -2	; - 0
	43	[365]	JMP      	16	; to 60
	44	[365]	TEST     	1 0 0
	45	[365]	JMP      	14	; to 60
	46	[367]	LOADNIL  	4 5
	47	[368]	GETGLOBAL	6 -13	; pcall
	48	[368]	GETUPVAL 	7 0	; Translator
	49	[368]	GETTABLE 	7 7 -14	; "detect"
	50	[368]	GETUPVAL 	8 0	; Translator
	51	[368]	MOVE     	9 1
	52	[368]	CALL     	6 4 3
	53	[368]	MOVE     	5 7
	54	[368]	MOVE     	4 6
	55	[369]	TEST     	4 0 0
	56	[369]	JMP      	3	; to 60
	57	[370]	MOVE     	6 3
	58	[370]	MOVE     	7 5
	59	[370]	CALL     	6 2 1
	60	[374]	MOVE     	4 3
	61	[374]	LOADK    	5 -15	; "en"
	62	[374]	CALL     	4 2 1
	63	[376]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:348,359> (30 instructions, 120 bytes at 0x7fae1dc0fe00)
1 param, 4 slots, 1 upvalue, 1 local, 11 constants, 0 functions
	1	[349]	TEST     	0 0 0
	2	[349]	JMP      	27	; to 30
	3	[349]	EQ       	1 0 -1	; - ""
	4	[349]	JMP      	25	; to 30
	5	[351]	SELF     	1 0 -2	; "match"
	6	[351]	LOADK    	3 -3	; "(.*)-"
	7	[351]	CALL     	1 3 2
	8	[351]	TESTSET  	0 1 1
	9	[351]	JMP      	0	; to 10
	10	[352]	EQ       	0 0 -4	; - "C"
	11	[352]	JMP      	1	; to 13
	12	[352]	LOADK    	0 -5	; "en"
	13	[353]	SELF     	1 0 -6	; "lower"
	14	[353]	CALL     	1 2 2
	15	[353]	MOVE     	0 1
	16	[354]	GETUPVAL 	1 0	; self
	17	[354]	GETTABLE 	1 1 -7	; "seen_lang"
	18	[354]	GETTABLE 	1 1 0
	19	[354]	TEST     	1 0 1
	20	[354]	JMP      	9	; to 30
	21	[355]	GETGLOBAL	1 -8	; table
	22	[355]	GETTABLE 	1 1 -9	; "insert"
	23	[355]	GETUPVAL 	2 0	; self
	24	[355]	GETTABLE 	2 2 -10	; "wiki_languages"
	25	[355]	MOVE     	3 0
	26	[355]	CALL     	1 3 1
	27	[356]	GETUPVAL 	1 0	; self
	28	[356]	GETTABLE 	1 1 -7	; "seen_lang"
	29	[356]	SETTABLE 	1 0 -11	; - true
	30	[359]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:378,384> (12 instructions, 48 bytes at 0x7fae1dc0fd80)
5 params, 8 slots, 1 upvalue, 5 locals, 1 constant, 1 function
	1	[380]	GETUPVAL 	5 0	; Trapper
	2	[380]	SELF     	5 5 -1	; "wrap"
	3	[382]	CLOSURE  	7 0	; 0x7fae1dc10580
	4	[382]	MOVE     	0 0
	5	[382]	MOVE     	0 1
	6	[382]	MOVE     	0 2
	7	[382]	MOVE     	0 3
	8	[382]	MOVE     	0 4
	9	[380]	CALL     	5 3 1
	10	[383]	LOADBOOL 	5 1 0
	11	[383]	RETURN   	5 2
	12	[384]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:380,382> (8 instructions, 32 bytes at 0x7fae1dc10580)
0 params, 6 slots, 5 upvalues, 0 locals, 1 constant, 0 functions
	1	[381]	GETUPVAL 	0 0	; self
	2	[381]	SELF     	0 0 -1	; "lookupWikipedia"
	3	[381]	GETUPVAL 	2 1	; word
	4	[381]	GETUPVAL 	3 2	; box
	5	[381]	GETUPVAL 	4 3	; get_fullpage
	6	[381]	GETUPVAL 	5 4	; forced_lang
	7	[381]	CALL     	0 6 1
	8	[382]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:386,521> (317 instructions, 1268 bytes at 0x7fae1dc106a0)
5 params, 29 slots, 7 upvalues, 33 locals, 76 constants, 0 functions
	1	[387]	GETUPVAL 	5 0	; NetworkMgr
	2	[387]	SELF     	5 5 -1	; "isOnline"
	3	[387]	CALL     	5 2 2
	4	[387]	TEST     	5 0 1
	5	[387]	JMP      	4	; to 10
	6	[388]	GETUPVAL 	5 0	; NetworkMgr
	7	[388]	SELF     	5 5 -2	; "promptWifiOn"
	8	[388]	CALL     	5 2 1
	9	[389]	RETURN   	0 1
	10	[393]	SELF     	5 0 -3	; "initLanguages"
	11	[393]	MOVE     	7 1
	12	[393]	CALL     	5 3 1
	13	[394]	LOADNIL  	5 5
	14	[395]	TEST     	4 0 0
	15	[395]	JMP      	2	; to 18
	16	[397]	MOVE     	5 4
	17	[397]	JMP      	2	; to 20
	18	[400]	GETTABLE 	6 0 -4	; "wiki_languages"
	19	[400]	GETTABLE 	5 6 -5	; 1
	20	[402]	GETUPVAL 	6 1	; logger
	21	[402]	GETTABLE 	6 6 -6	; "dbg"
	22	[402]	LOADK    	7 -7	; "lookup word:"
	23	[402]	MOVE     	8 1
	24	[402]	MOVE     	9 2
	25	[402]	MOVE     	10 3
	26	[402]	CALL     	6 5 1
	27	[404]	TEST     	1 0 0
	28	[404]	JMP      	6	; to 35
	29	[404]	TEST     	3 0 1
	30	[404]	JMP      	4	; to 35
	31	[406]	SELF     	6 0 -8	; "cleanSelection"
	32	[406]	MOVE     	8 1
	33	[406]	CALL     	6 3 2
	34	[406]	MOVE     	1 6
	35	[409]	GETUPVAL 	6 1	; logger
	36	[409]	GETTABLE 	6 6 -6	; "dbg"
	37	[409]	LOADK    	7 -9	; "stripped word:"
	38	[409]	MOVE     	8 1
	39	[409]	CALL     	6 3 1
	40	[410]	EQ       	0 1 -10	; - ""
	41	[410]	JMP      	1	; to 43
	42	[411]	RETURN   	0 1
	43	[413]	SELF     	6 1 -11	; "gsub"
	44	[413]	LOADK    	8 -12	; "_"
	45	[413]	LOADK    	9 -13	; " "
	46	[413]	CALL     	6 4 2
	47	[415]	GETTABLE 	7 0 -14	; "disable_history"
	48	[415]	TEST     	7 0 1
	49	[415]	JMP      	52	; to 102
	50	[416]	GETTABLE 	7 0 -15	; "ui"
	51	[416]	GETTABLE 	7 7 -16	; "doc_settings"
	52	[416]	TEST     	7 0 0
	53	[416]	JMP      	8	; to 62
	54	[416]	GETTABLE 	7 0 -15	; "ui"
	55	[416]	GETTABLE 	7 7 -16	; "doc_settings"
	56	[416]	SELF     	7 7 -17	; "readSetting"
	57	[416]	LOADK    	9 -18	; "doc_props"
	58	[416]	CALL     	7 3 2
	59	[416]	GETTABLE 	7 7 -19	; "title"
	60	[416]	TEST     	7 0 1
	61	[416]	JMP      	3	; to 65
	62	[416]	GETUPVAL 	7 2	; _
	63	[416]	LOADK    	8 -20	; "Wikipedia lookup"
	64	[416]	CALL     	7 2 2
	65	[417]	EQ       	0 7 -10	; - ""
	66	[417]	JMP      	20	; to 87
	67	[418]	GETTABLE 	8 0 -15	; "ui"
	68	[418]	GETTABLE 	8 8 -21	; "document"
	69	[418]	TEST     	8 0 0
	70	[418]	JMP      	16	; to 87
	71	[418]	GETTABLE 	8 0 -15	; "ui"
	72	[418]	GETTABLE 	8 8 -21	; "document"
	73	[418]	GETTABLE 	8 8 -22	; "file"
	74	[418]	TEST     	8 0 0
	75	[418]	JMP      	11	; to 87
	76	[419]	GETUPVAL 	8 3	; util
	77	[419]	GETTABLE 	8 8 -23	; "splitFilePathName"
	78	[419]	GETTABLE 	9 0 -15	; "ui"
	79	[419]	GETTABLE 	9 9 -21	; "document"
	80	[419]	GETTABLE 	9 9 -22	; "file"
	81	[419]	CALL     	8 2 3
	82	[420]	GETUPVAL 	10 3	; util
	83	[420]	GETTABLE 	10 10 -24	; "splitFileNameSuffix"
	84	[420]	MOVE     	11 9
	85	[420]	CALL     	10 2 2
	86	[420]	MOVE     	7 10
	87	[423]	GETUPVAL 	8 4	; wikipedia_history
	88	[423]	SELF     	8 8 -25	; "addTableItem"
	89	[423]	LOADK    	10 -26	; "wikipedia_history"
	90	[423]	NEWTABLE 	11 0 5
	91	[424]	SETTABLE 	11 -27 7	; "book_title" -
	92	[425]	GETGLOBAL	12 -29	; os
	93	[425]	GETTABLE 	12 12 -28	; "time"
	94	[425]	CALL     	12 1 2
	95	[425]	SETTABLE 	11 -28 12	; "time" -
	96	[426]	SETTABLE 	11 -30 6	; "word" -
	97	[427]	SELF     	12 5 -32	; "lower"
	98	[427]	CALL     	12 2 2
	99	[427]	SETTABLE 	11 -31 12	; "lang" -
	100	[428]	SETTABLE 	11 -33 3	; "page" -
	101	[423]	CALL     	8 4 1
	102	[433]	LOADNIL  	7 8
	103	[434]	TEST     	3 0 0
	104	[434]	JMP      	18	; to 123
	105	[435]	GETUPVAL 	9 5	; T
	106	[435]	GETUPVAL 	10 2	; _
	107	[435]	LOADK    	11 -35	; "Retrieving Wikipedia %2 article:\n%1"
	108	[435]	CALL     	10 2 2
	109	[435]	LOADK    	11 -36	; "%1"
	110	[435]	SELF     	12 5 -37	; "upper"
	111	[435]	CALL     	12 2 0
	112	[435]	CALL     	9 0 2
	113	[435]	SETTABLE 	0 -34 9	; "lookup_msg" -
	114	[436]	GETUPVAL 	9 2	; _
	115	[436]	LOADK    	10 -38	; "Failed to retrieve Wikipedia article."
	116	[436]	CALL     	9 2 2
	117	[436]	MOVE     	8 9
	118	[437]	GETUPVAL 	9 2	; _
	119	[437]	LOADK    	10 -39	; "Wikipedia article not found."
	120	[437]	CALL     	9 2 2
	121	[437]	MOVE     	7 9
	122	[437]	JMP      	17	; to 140
	123	[439]	GETUPVAL 	9 5	; T
	124	[439]	GETUPVAL 	10 2	; _
	125	[439]	LOADK    	11 -40	; "Searching Wikipedia %2 for:\n%1"
	126	[439]	CALL     	10 2 2
	127	[439]	LOADK    	11 -36	; "%1"
	128	[439]	SELF     	12 5 -37	; "upper"
	129	[439]	CALL     	12 2 0
	130	[439]	CALL     	9 0 2
	131	[439]	SETTABLE 	0 -34 9	; "lookup_msg" -
	132	[440]	GETUPVAL 	9 2	; _
	133	[440]	LOADK    	10 -41	; "Failed searching Wikipedia."
	134	[440]	CALL     	9 2 2
	135	[440]	MOVE     	8 9
	136	[441]	GETUPVAL 	9 2	; _
	137	[441]	LOADK    	10 -42	; "No Wikipedia articles matching search term."
	138	[441]	CALL     	9 2 2
	139	[441]	MOVE     	7 9
	140	[443]	SELF     	9 0 -43	; "showLookupInfo"
	141	[443]	MOVE     	11 6
	142	[443]	CALL     	9 3 1
	143	[445]	NEWTABLE 	9 0 0
	144	[446]	LOADNIL  	10 11
	145	[447]	LOADBOOL 	12 0 0
	146	[448]	GETUPVAL 	13 6	; Wikipedia
	147	[448]	SELF     	13 13 -44	; "setTrapWidget"
	148	[448]	GETTABLE 	15 0 -45	; "lookup_progress_msg"
	149	[448]	CALL     	13 3 1
	150	[449]	TEST     	3 0 0
	151	[449]	JMP      	10	; to 162
	152	[450]	GETGLOBAL	13 -46	; pcall
	153	[450]	GETUPVAL 	14 6	; Wikipedia
	154	[450]	GETTABLE 	14 14 -47	; "getFullPage"
	155	[450]	GETUPVAL 	15 6	; Wikipedia
	156	[450]	MOVE     	16 1
	157	[450]	MOVE     	17 5
	158	[450]	CALL     	13 5 3
	159	[450]	MOVE     	11 14
	160	[450]	MOVE     	10 13
	161	[450]	JMP      	9	; to 171
	162	[452]	GETGLOBAL	13 -46	; pcall
	163	[452]	GETUPVAL 	14 6	; Wikipedia
	164	[452]	GETTABLE 	14 14 -48	; "searchAndGetIntros"
	165	[452]	GETUPVAL 	15 6	; Wikipedia
	166	[452]	MOVE     	16 1
	167	[452]	MOVE     	17 5
	168	[452]	CALL     	13 5 3
	169	[452]	MOVE     	11 14
	170	[452]	MOVE     	10 13
	171	[454]	GETUPVAL 	13 6	; Wikipedia
	172	[454]	SELF     	13 13 -49	; "resetTrapWidget"
	173	[454]	CALL     	13 2 1
	174	[455]	TEST     	10 0 1
	175	[455]	JMP      	11	; to 187
	176	[455]	TEST     	11 0 0
	177	[455]	JMP      	9	; to 187
	178	[455]	GETGLOBAL	13 -50	; string
	179	[455]	GETTABLE 	13 13 -51	; "find"
	180	[455]	MOVE     	14 11
	181	[455]	GETUPVAL 	15 6	; Wikipedia
	182	[455]	GETTABLE 	15 15 -52	; "dismissed_error_code"
	183	[455]	CALL     	13 3 2
	184	[455]	TEST     	13 0 0
	185	[455]	JMP      	1	; to 187
	186	[457]	LOADBOOL 	12 1 0
	187	[462]	TEST     	10 0 0
	188	[462]	JMP      	83	; to 272
	189	[462]	TEST     	11 0 0
	190	[462]	JMP      	81	; to 272
	191	[465]	NEWTABLE 	13 0 0
	192	[466]	LOADBOOL 	14 0 0
	193	[467]	GETGLOBAL	15 -53	; pairs
	194	[467]	MOVE     	16 11
	195	[467]	CALL     	15 2 4
	196	[467]	JMP      	7	; to 204
	197	[468]	GETTABLE 	20 19 -54	; "index"
	198	[468]	EQ       	1 20 -55	; - nil
	199	[468]	JMP      	4	; to 204
	200	[469]	GETTABLE 	20 19 -54	; "index"
	201	[469]	ADD      	20 20 -5	; - 1
	202	[469]	SETTABLE 	13 20 19
	203	[470]	LOADBOOL 	14 1 0
	204	[467]	TFORLOOP 	15 2
	205	[471]	JMP      	-9	; to 197
	206	[473]	TEST     	14 0 0
	207	[473]	JMP      	1	; to 209
	208	[474]	MOVE     	11 13
	209	[476]	GETGLOBAL	15 -53	; pairs
	210	[476]	MOVE     	16 11
	211	[476]	CALL     	15 2 4
	212	[476]	JMP      	56	; to 269
	213	[477]	GETTABLE 	20 19 -56	; "extract"
	214	[477]	TEST     	20 0 1
	215	[477]	JMP      	1	; to 217
	216	[477]	MOVE     	20 7
	217	[478]	GETTABLE 	21 19 -57	; "length"
	218	[478]	TEST     	21 0 0
	219	[478]	JMP      	23	; to 243
	220	[482]	GETGLOBAL	21 -58	; math
	221	[482]	GETTABLE 	21 21 -59	; "ceil"
	222	[482]	GETTABLE 	22 19 -57	; "length"
	223	[482]	DIV      	22 22 -60	; - 1024
	224	[482]	CALL     	21 2 2
	225	[483]	GETGLOBAL	22 -58	; math
	226	[483]	GETTABLE 	22 22 -59	; "ceil"
	227	[483]	GETTABLE 	23 19 -57	; "length"
	228	[483]	SELF     	24 20 -61	; "len"
	229	[483]	CALL     	24 2 2
	230	[483]	ADD      	24 -5 24	; 1 -
	231	[483]	DIV      	23 23 24
	232	[483]	CALL     	22 2 2
	233	[484]	MOVE     	23 20
	234	[484]	LOADK    	24 -62	; "\n"
	235	[484]	GETUPVAL 	25 5	; T
	236	[484]	GETUPVAL 	26 2	; _
	237	[484]	LOADK    	27 -63	; "(full article : %1 kB, = %2 x this intro length)"
	238	[484]	CALL     	26 2 2
	239	[484]	MOVE     	27 21
	240	[484]	MOVE     	28 22
	241	[484]	CALL     	25 4 2
	242	[484]	CONCAT   	20 23 25
	243	[486]	NEWTABLE 	21 0 7
	244	[487]	GETUPVAL 	22 5	; T
	245	[487]	GETUPVAL 	23 2	; _
	246	[487]	LOADK    	24 -65	; "Wikipedia %1"
	247	[487]	CALL     	23 2 2
	248	[487]	SELF     	24 5 -37	; "upper"
	249	[487]	CALL     	24 2 0
	250	[487]	CALL     	22 0 2
	251	[487]	SETTABLE 	21 -64 22	; "dict" -
	252	[488]	GETTABLE 	22 19 -19	; "title"
	253	[488]	SETTABLE 	21 -30 22	; "word" -
	254	[489]	SETTABLE 	21 -66 20	; "definition" -
	255	[490]	SETTABLE 	21 -67 3	; "is_fullpage" -
	256	[491]	SETTABLE 	21 -31 5	; "lang" -
	257	[492]	GETUPVAL 	22 6	; Wikipedia
	258	[492]	SELF     	22 22 -69	; "isWikipediaLanguageRTL"
	259	[492]	MOVE     	24 5
	260	[492]	CALL     	22 3 2
	261	[492]	SETTABLE 	21 -68 22	; "rtl_lang" -
	262	[493]	GETTABLE 	22 19 -70	; "images"
	263	[493]	SETTABLE 	21 -70 22	; "images" -
	264	[495]	GETGLOBAL	22 -71	; table
	265	[495]	GETTABLE 	22 22 -72	; "insert"
	266	[495]	MOVE     	23 9
	267	[495]	MOVE     	24 21
	268	[495]	CALL     	22 3 1
	269	[476]	TFORLOOP 	15 2
	270	[495]	JMP      	-58	; to 213
	271	[496]	JMP      	40	; to 312
	272	[500]	LOADNIL  	13 13
	273	[501]	TEST     	12 0 0
	274	[501]	JMP      	5	; to 280
	275	[502]	GETUPVAL 	14 2	; _
	276	[502]	LOADK    	15 -73	; "Wikipedia request canceled."
	277	[502]	CALL     	14 2 2
	278	[502]	MOVE     	13 14
	279	[502]	JMP      	10	; to 290
	280	[503]	TEST     	10 0 0
	281	[503]	JMP      	2	; to 284
	282	[504]	MOVE     	13 7
	283	[504]	JMP      	6	; to 290
	284	[506]	MOVE     	13 8
	285	[507]	GETUPVAL 	14 1	; logger
	286	[507]	GETTABLE 	14 14 -6	; "dbg"
	287	[507]	LOADK    	15 -74	; "error:"
	288	[507]	MOVE     	16 11
	289	[507]	CALL     	14 3 1
	290	[509]	NEWTABLE 	14 1 0
	291	[509]	NEWTABLE 	15 0 5
	292	[511]	GETUPVAL 	16 5	; T
	293	[511]	GETUPVAL 	17 2	; _
	294	[511]	LOADK    	18 -65	; "Wikipedia %1"
	295	[511]	CALL     	17 2 2
	296	[511]	SELF     	18 5 -37	; "upper"
	297	[511]	CALL     	18 2 0
	298	[511]	CALL     	16 0 2
	299	[511]	SETTABLE 	15 -64 16	; "dict" -
	300	[512]	SETTABLE 	15 -30 1	; "word" -
	301	[513]	SETTABLE 	15 -66 13	; "definition" -
	302	[514]	SETTABLE 	15 -67 3	; "is_fullpage" -
	303	[515]	SETTABLE 	15 -31 5	; "lang" -
	304	[517]	SETLIST  	14 1 1	; 1
	305	[517]	MOVE     	9 14
	306	[518]	GETUPVAL 	14 1	; logger
	307	[518]	GETTABLE 	14 14 -6	; "dbg"
	308	[518]	LOADK    	15 -75	; "dummy result table:"
	309	[518]	MOVE     	16 1
	310	[518]	MOVE     	17 9
	311	[518]	CALL     	14 4 1
	312	[520]	SELF     	13 0 -76	; "showDict"
	313	[520]	MOVE     	15 1
	314	[520]	MOVE     	16 9
	315	[520]	MOVE     	17 2
	316	[520]	CALL     	13 5 1
	317	[521]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:524,525> (1 instruction, 4 bytes at 0x7fae1dc0bbd0)
1 param, 2 slots, 0 upvalues, 1 local, 0 constants, 0 functions
	1	[525]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerwikipedia.lua:527,534> (14 instructions, 56 bytes at 0x7fae1dc0f430)
1 param, 3 slots, 1 upvalue, 1 local, 3 constants, 0 functions
	1	[528]	GETUPVAL 	1 0	; NetworkMgr
	2	[528]	SELF     	1 1 -1	; "isOnline"
	3	[528]	CALL     	1 2 2
	4	[528]	TEST     	1 0 0
	5	[528]	JMP      	3	; to 9
	6	[529]	SELF     	1 0 -2	; "lookupInput"
	7	[529]	CALL     	1 2 1
	8	[529]	JMP      	3	; to 12
	9	[531]	GETUPVAL 	1 0	; NetworkMgr
	10	[531]	SELF     	1 1 -3	; "promptWifiOn"
	11	[531]	CALL     	1 2 1
	12	[533]	LOADBOOL 	1 1 0
	13	[533]	RETURN   	1 2
	14	[534]	RETURN   	0 1
