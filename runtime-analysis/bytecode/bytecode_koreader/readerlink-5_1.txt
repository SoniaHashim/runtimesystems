
main <./frontend/apps/reader/modules/readerlink.lua:0,0> (157 instructions, 628 bytes at 0x7fa8a64068f0)
0+ params, 27 slots, 0 upvalues, 26 locals, 35 constants, 25 functions
	1	[5]	GETGLOBAL	0 -1	; require
	2	[5]	LOADK    	1 -2	; "ui/bidi"
	3	[5]	CALL     	0 2 2
	4	[6]	GETGLOBAL	1 -1	; require
	5	[6]	LOADK    	2 -3	; "ui/widget/buttondialogtitle"
	6	[6]	CALL     	1 2 2
	7	[7]	GETGLOBAL	2 -1	; require
	8	[7]	LOADK    	3 -4	; "ui/widget/confirmbox"
	9	[7]	CALL     	2 2 2
	10	[8]	GETGLOBAL	3 -1	; require
	11	[8]	LOADK    	4 -5	; "device"
	12	[8]	CALL     	3 2 2
	13	[9]	GETGLOBAL	4 -1	; require
	14	[9]	LOADK    	5 -6	; "ui/event"
	15	[9]	CALL     	4 2 2
	16	[10]	GETGLOBAL	5 -1	; require
	17	[10]	LOADK    	6 -7	; "ui/widget/infomessage"
	18	[10]	CALL     	5 2 2
	19	[11]	GETGLOBAL	6 -1	; require
	20	[11]	LOADK    	7 -8	; "ui/widget/container/inputcontainer"
	21	[11]	CALL     	6 2 2
	22	[12]	GETGLOBAL	7 -1	; require
	23	[12]	LOADK    	8 -9	; "ui/widget/linkbox"
	24	[12]	CALL     	7 2 2
	25	[13]	GETGLOBAL	8 -1	; require
	26	[13]	LOADK    	9 -10	; "ui/widget/notification"
	27	[13]	CALL     	8 2 2
	28	[14]	GETGLOBAL	9 -1	; require
	29	[14]	LOADK    	10 -11	; "ui/uimanager"
	30	[14]	CALL     	9 2 2
	31	[15]	GETGLOBAL	10 -1	; require
	32	[15]	LOADK    	11 -12	; "ffi/util"
	33	[15]	CALL     	10 2 2
	34	[16]	GETGLOBAL	11 -1	; require
	35	[16]	LOADK    	12 -13	; "logger"
	36	[16]	CALL     	11 2 2
	37	[17]	GETGLOBAL	12 -1	; require
	38	[17]	LOADK    	13 -14	; "util"
	39	[17]	CALL     	12 2 2
	40	[18]	GETGLOBAL	13 -1	; require
	41	[18]	LOADK    	14 -15	; "gettext"
	42	[18]	CALL     	13 2 2
	43	[19]	GETTABLE 	14 3 -16	; "screen"
	44	[20]	GETTABLE 	15 10 -17	; "template"
	45	[22]	SELF     	16 6 -18	; "new"
	46	[22]	NEWTABLE 	18 0 1
	47	[23]	NEWTABLE 	19 0 0
	48	[23]	SETTABLE 	18 -19 19	; "location_stack" -
	49	[22]	CALL     	16 3 2
	50	[80]	CLOSURE  	17 0	; 0x7fa8a6407040
	51	[80]	MOVE     	0 3
	52	[80]	MOVE     	0 13
	53	[80]	MOVE     	0 12
	54	[26]	SETTABLE 	16 -20 17	; "init" -
	55	[85]	CLOSURE  	17 1	; 0x7fa8a6408310
	56	[82]	SETTABLE 	16 -21 17	; "onReadSettings" -
	57	[89]	CLOSURE  	17 2	; 0x7fa8a6407ea0
	58	[93]	CLOSURE  	18 3	; 0x7fa8a6407f20
	59	[97]	CLOSURE  	19 4	; 0x7fa8a6408b80
	60	[101]	CLOSURE  	20 5	; 0x7fa8a6409090
	61	[105]	CLOSURE  	21 6	; 0x7fa8a64091a0
	62	[109]	CLOSURE  	22 7	; 0x7fa8a6409440
	63	[113]	CLOSURE  	23 8	; 0x7fa8a6409900
	64	[117]	CLOSURE  	24 9	; 0x7fa8a6409c30
	65	[121]	CLOSURE  	25 10	; 0x7fa8a6409d70
	66	[291]	CLOSURE  	26 11	; 0x7fa8a640a090
	67	[291]	MOVE     	0 13
	68	[291]	MOVE     	0 17
	69	[291]	MOVE     	0 19
	70	[291]	MOVE     	0 22
	71	[291]	MOVE     	0 23
	72	[291]	MOVE     	0 24
	73	[291]	MOVE     	0 25
	74	[291]	MOVE     	0 18
	75	[291]	MOVE     	0 20
	76	[291]	MOVE     	0 21
	77	[291]	MOVE     	0 9
	78	[291]	MOVE     	0 14
	79	[291]	MOVE     	0 2
	80	[123]	SETTABLE 	16 -22 26	; "addToMainMenu" -
	81	[312]	CLOSURE  	26 12	; 0x7fa8a640cd20
	82	[312]	MOVE     	0 11
	83	[294]	SETTABLE 	16 -23 26	; "isXpointerCoherent" -
	84	[364]	CLOSURE  	26 13	; 0x7fa8a6408d40
	85	[364]	MOVE     	0 11
	86	[317]	SETTABLE 	16 -24 26	; "getLinkFromGes" -
	87	[385]	CLOSURE  	26 14	; 0x7fa8a640afe0
	88	[385]	MOVE     	0 9
	89	[385]	MOVE     	0 7
	90	[367]	SETTABLE 	16 -25 26	; "showLinkBox" -
	91	[431]	CLOSURE  	26 15	; 0x7fa8a640e5b0
	92	[431]	MOVE     	0 17
	93	[431]	MOVE     	0 19
	94	[431]	MOVE     	0 20
	95	[431]	MOVE     	0 18
	96	[431]	MOVE     	0 14
	97	[387]	SETTABLE 	16 -26 26	; "onTap" -
	98	[442]	CLOSURE  	26 16	; 0x7fa8a640e2d0
	99	[434]	SETTABLE 	16 -27 26	; "addCurrentLocationToStack" -
	100	[453]	CLOSURE  	26 17	; 0x7fa8a6409a10
	101	[453]	MOVE     	0 9
	102	[453]	MOVE     	0 8
	103	[453]	MOVE     	0 13
	104	[444]	SETTABLE 	16 -28 26	; "onClearLocationStack" -
	105	[569]	CLOSURE  	26 18	; 0x7fa8a640f820
	106	[569]	MOVE     	0 11
	107	[569]	MOVE     	0 4
	108	[569]	MOVE     	0 10
	109	[569]	MOVE     	0 9
	110	[569]	MOVE     	0 2
	111	[569]	MOVE     	0 15
	112	[569]	MOVE     	0 13
	113	[569]	MOVE     	0 0
	114	[569]	MOVE     	0 5
	115	[458]	SETTABLE 	16 -29 26	; "onGotoLink" -
	116	[685]	CLOSURE  	26 19	; 0x7fa8a6410130
	117	[685]	MOVE     	0 13
	118	[685]	MOVE     	0 9
	119	[685]	MOVE     	0 4
	120	[685]	MOVE     	0 3
	121	[685]	MOVE     	0 11
	122	[685]	MOVE     	0 12
	123	[685]	MOVE     	0 15
	124	[685]	MOVE     	0 0
	125	[685]	MOVE     	0 1
	126	[571]	SETTABLE 	16 -30 26	; "onGoToExternalLink" -
	127	[700]	CLOSURE  	26 20	; 0x7fa8a64092c0
	128	[700]	MOVE     	0 11
	129	[700]	MOVE     	0 4
	130	[700]	MOVE     	0 9
	131	[700]	MOVE     	0 8
	132	[700]	MOVE     	0 13
	133	[688]	SETTABLE 	16 -31 26	; "onGoBackLink" -
	134	[736]	CLOSURE  	26 21	; 0x7fa8a6411d30
	135	[736]	MOVE     	0 0
	136	[736]	MOVE     	0 22
	137	[736]	MOVE     	0 9
	138	[736]	MOVE     	0 8
	139	[736]	MOVE     	0 13
	140	[736]	MOVE     	0 23
	141	[736]	MOVE     	0 24
	142	[736]	MOVE     	0 20
	143	[736]	MOVE     	0 25
	144	[702]	SETTABLE 	16 -32 26	; "onSwipe" -
	145	[934]	CLOSURE  	26 22	; 0x7fa8a64124f0
	146	[934]	MOVE     	0 11
	147	[739]	SETTABLE 	16 -33 26	; "onGoToPageLink" -
	148	[963]	CLOSURE  	26 23	; 0x7fa8a64121d0
	149	[936]	SETTABLE 	16 -34 26	; "onGoToLatestBookmark" -
	150	[1171]	CLOSURE  	26 24	; 0x7fa8a6412c20
	151	[1171]	MOVE     	0 21
	152	[1171]	MOVE     	0 11
	153	[1171]	MOVE     	0 9
	154	[1171]	MOVE     	0 14
	155	[965]	SETTABLE 	16 -35 26	; "showAsFootnotePopup" -
	156	[1173]	RETURN   	16 2
	157	[1173]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:26,80> (94 instructions, 376 bytes at 0x7fa8a6407040)
1 param, 16 slots, 3 upvalues, 3 locals, 41 constants, 3 functions
	1	[27]	GETUPVAL 	1 0	; Device
	2	[27]	SELF     	1 1 -1	; "isTouchDevice"
	3	[27]	CALL     	1 2 2
	4	[27]	TEST     	1 0 0
	5	[27]	JMP      	49	; to 55
	6	[28]	GETTABLE 	1 0 -2	; "ui"
	7	[28]	SELF     	1 1 -3	; "registerTouchZones"
	8	[28]	NEWTABLE 	3 2 0
	9	[28]	NEWTABLE 	4 0 5
	10	[30]	SETTABLE 	4 -4 -5	; "id" "tap_link"
	11	[31]	SETTABLE 	4 -6 -7	; "ges" "tap"
	12	[32]	NEWTABLE 	5 0 4
	13	[33]	SETTABLE 	5 -9 -10	; "ratio_x" 0
	14	[33]	SETTABLE 	5 -11 -10	; "ratio_y" 0
	15	[34]	SETTABLE 	5 -12 -13	; "ratio_w" 1
	16	[34]	SETTABLE 	5 -14 -13	; "ratio_h" 1
	17	[35]	SETTABLE 	4 -8 5	; "screen_zone" -
	18	[36]	NEWTABLE 	5 10 0
	19	[39]	LOADK    	6 -16	; "tap_forward"
	20	[40]	LOADK    	7 -17	; "tap_backward"
	21	[41]	LOADK    	8 -18	; "readermenu_tap"
	22	[42]	LOADK    	9 -19	; "readerconfigmenu_tap"
	23	[43]	LOADK    	10 -20	; "readerhighlight_tap"
	24	[44]	LOADK    	11 -21	; "readerfooter_tap"
	25	[45]	LOADK    	12 -22	; "tap_top_left_corner"
	26	[46]	LOADK    	13 -23	; "tap_top_right_corner"
	27	[47]	LOADK    	14 -24	; "tap_left_bottom_corner"
	28	[49]	LOADK    	15 -25	; "tap_right_bottom_corner"
	29	[49]	SETLIST  	5 10 1	; 1
	30	[49]	SETTABLE 	4 -15 5	; "overrides" -
	31	[50]	CLOSURE  	5 0	; 0x7fa8a6407c60
	32	[50]	MOVE     	0 0
	33	[50]	GETUPVAL 	0 1	; _
	34	[50]	SETTABLE 	4 -26 5	; "handler" -
	35	[51]	NEWTABLE 	5 0 5
	36	[53]	SETTABLE 	5 -4 -27	; "id" "swipe_link"
	37	[54]	SETTABLE 	5 -6 -28	; "ges" "swipe"
	38	[55]	NEWTABLE 	6 0 4
	39	[56]	SETTABLE 	6 -9 -10	; "ratio_x" 0
	40	[56]	SETTABLE 	6 -11 -10	; "ratio_y" 0
	41	[57]	SETTABLE 	6 -12 -13	; "ratio_w" 1
	42	[57]	SETTABLE 	6 -14 -13	; "ratio_h" 1
	43	[58]	SETTABLE 	5 -8 6	; "screen_zone" -
	44	[59]	NEWTABLE 	6 2 0
	45	[60]	LOADK    	7 -29	; "paging_swipe"
	46	[62]	LOADK    	8 -30	; "rolling_swipe"
	47	[62]	SETLIST  	6 2 1	; 1
	48	[62]	SETTABLE 	5 -15 6	; "overrides" -
	49	[63]	CLOSURE  	6 1	; 0x7fa8a6407b90
	50	[63]	MOVE     	0 0
	51	[63]	GETUPVAL 	0 1	; _
	52	[63]	SETTABLE 	5 -26 6	; "handler" -
	53	[65]	SETLIST  	3 2 1	; 1
	54	[28]	CALL     	1 3 1
	55	[67]	GETTABLE 	1 0 -2	; "ui"
	56	[67]	SELF     	1 1 -31	; "registerPostInitCallback"
	57	[69]	CLOSURE  	3 2	; 0x7fa8a6408460
	58	[69]	MOVE     	0 0
	59	[67]	CALL     	1 3 1
	60	[71]	GETUPVAL 	1 2	; util
	61	[71]	GETTABLE 	1 1 -32	; "splitFilePathName"
	62	[71]	GETTABLE 	2 0 -2	; "ui"
	63	[71]	GETTABLE 	2 2 -33	; "document"
	64	[71]	GETTABLE 	2 2 -34	; "file"
	65	[71]	CALL     	1 2 3
	66	[72]	SETTABLE 	0 -35 1	; "document_dir" -
	67	[74]	GETGLOBAL	3 -36	; G_reader_settings
	68	[74]	SELF     	3 3 -37	; "isTrue"
	69	[74]	LOADK    	5 -38	; "tap_link_footnote_popup"
	70	[74]	CALL     	3 3 2
	71	[75]	TEST     	3 0 1
	72	[75]	JMP      	6	; to 79
	73	[75]	GETGLOBAL	3 -36	; G_reader_settings
	74	[75]	SELF     	3 3 -37	; "isTrue"
	75	[75]	LOADK    	5 -39	; "swipe_link_footnote_popup"
	76	[75]	CALL     	3 3 2
	77	[75]	TEST     	3 0 0
	78	[75]	JMP      	15	; to 94
	79	[76]	GETGLOBAL	3 -36	; G_reader_settings
	80	[76]	SELF     	3 3 -40	; "saveSetting"
	81	[76]	LOADK    	5 -38	; "tap_link_footnote_popup"
	82	[76]	LOADNIL  	6 6
	83	[76]	CALL     	3 4 1
	84	[77]	GETGLOBAL	3 -36	; G_reader_settings
	85	[77]	SELF     	3 3 -40	; "saveSetting"
	86	[77]	LOADK    	5 -39	; "swipe_link_footnote_popup"
	87	[77]	LOADNIL  	6 6
	88	[77]	CALL     	3 4 1
	89	[78]	GETGLOBAL	3 -36	; G_reader_settings
	90	[78]	SELF     	3 3 -40	; "saveSetting"
	91	[78]	LOADK    	5 -41	; "footnote_link_in_popup"
	92	[78]	LOADBOOL 	6 1 0
	93	[78]	CALL     	3 4 1
	94	[80]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:50,50> (7 instructions, 28 bytes at 0x7fa8a6407c60)
1 param, 5 slots, 2 upvalues, 1 local, 1 constant, 0 functions
	1	[50]	GETUPVAL 	1 0	; self
	2	[50]	SELF     	1 1 -1	; "onTap"
	3	[50]	GETUPVAL 	3 1	; _
	4	[50]	MOVE     	4 0
	5	[50]	TAILCALL 	1 4 0
	6	[50]	RETURN   	1 0
	7	[50]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:63,63> (7 instructions, 28 bytes at 0x7fa8a6407b90)
1 param, 5 slots, 2 upvalues, 1 local, 1 constant, 0 functions
	1	[63]	GETUPVAL 	1 0	; self
	2	[63]	SELF     	1 1 -1	; "onSwipe"
	3	[63]	GETUPVAL 	3 1	; _
	4	[63]	MOVE     	4 0
	5	[63]	TAILCALL 	1 4 0
	6	[63]	RETURN   	1 0
	7	[63]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:67,69> (7 instructions, 28 bytes at 0x7fa8a6408460)
0 params, 3 slots, 1 upvalue, 0 locals, 3 constants, 0 functions
	1	[68]	GETUPVAL 	0 0	; self
	2	[68]	GETTABLE 	0 0 -1	; "ui"
	3	[68]	GETTABLE 	0 0 -2	; "menu"
	4	[68]	SELF     	0 0 -3	; "registerToMainMenu"
	5	[68]	GETUPVAL 	2 0	; self
	6	[68]	CALL     	0 3 1
	7	[69]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:82,85> (3 instructions, 12 bytes at 0x7fa8a6408310)
2 params, 3 slots, 0 upvalues, 2 locals, 1 constant, 0 functions
	1	[84]	NEWTABLE 	2 0 0
	2	[84]	SETTABLE 	0 -1 2	; "location_stack" -
	3	[85]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:87,89> (6 instructions, 24 bytes at 0x7fa8a6407ea0)
0 params, 3 slots, 0 upvalues, 0 locals, 3 constants, 0 functions
	1	[88]	GETGLOBAL	0 -1	; G_reader_settings
	2	[88]	SELF     	0 0 -2	; "nilOrTrue"
	3	[88]	LOADK    	2 -3	; "tap_to_follow_links"
	4	[88]	TAILCALL 	0 3 0
	5	[88]	RETURN   	0 0
	6	[89]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:91,93> (6 instructions, 24 bytes at 0x7fa8a6407f20)
0 params, 3 slots, 0 upvalues, 0 locals, 3 constants, 0 functions
	1	[92]	GETGLOBAL	0 -1	; G_reader_settings
	2	[92]	SELF     	0 0 -2	; "isTrue"
	3	[92]	LOADK    	2 -3	; "larger_tap_area_to_follow_links"
	4	[92]	TAILCALL 	0 3 0
	5	[92]	RETURN   	0 0
	6	[93]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:95,97> (6 instructions, 24 bytes at 0x7fa8a6408b80)
0 params, 3 slots, 0 upvalues, 0 locals, 3 constants, 0 functions
	1	[96]	GETGLOBAL	0 -1	; G_reader_settings
	2	[96]	SELF     	0 0 -2	; "isTrue"
	3	[96]	LOADK    	2 -3	; "tap_ignore_external_links"
	4	[96]	TAILCALL 	0 3 0
	5	[96]	RETURN   	0 0
	6	[97]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:99,101> (6 instructions, 24 bytes at 0x7fa8a6409090)
0 params, 3 slots, 0 upvalues, 0 locals, 3 constants, 0 functions
	1	[100]	GETGLOBAL	0 -1	; G_reader_settings
	2	[100]	SELF     	0 0 -2	; "isTrue"
	3	[100]	LOADK    	2 -3	; "footnote_link_in_popup"
	4	[100]	TAILCALL 	0 3 0
	5	[100]	RETURN   	0 0
	6	[101]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:103,105> (6 instructions, 24 bytes at 0x7fa8a64091a0)
0 params, 3 slots, 0 upvalues, 0 locals, 3 constants, 0 functions
	1	[104]	GETGLOBAL	0 -1	; G_reader_settings
	2	[104]	SELF     	0 0 -2	; "isTrue"
	3	[104]	LOADK    	2 -3	; "link_prefer_footnote"
	4	[104]	TAILCALL 	0 3 0
	5	[104]	RETURN   	0 0
	6	[105]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:107,109> (6 instructions, 24 bytes at 0x7fa8a6409440)
0 params, 3 slots, 0 upvalues, 0 locals, 3 constants, 0 functions
	1	[108]	GETGLOBAL	0 -1	; G_reader_settings
	2	[108]	SELF     	0 0 -2	; "isTrue"
	3	[108]	LOADK    	2 -3	; "swipe_to_go_back"
	4	[108]	TAILCALL 	0 3 0
	5	[108]	RETURN   	0 0
	6	[109]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:111,113> (6 instructions, 24 bytes at 0x7fa8a6409900)
0 params, 3 slots, 0 upvalues, 0 locals, 3 constants, 0 functions
	1	[112]	GETGLOBAL	0 -1	; G_reader_settings
	2	[112]	SELF     	0 0 -2	; "isTrue"
	3	[112]	LOADK    	2 -3	; "swipe_to_follow_nearest_link"
	4	[112]	TAILCALL 	0 3 0
	5	[112]	RETURN   	0 0
	6	[113]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:115,117> (6 instructions, 24 bytes at 0x7fa8a6409c30)
0 params, 3 slots, 0 upvalues, 0 locals, 3 constants, 0 functions
	1	[116]	GETGLOBAL	0 -1	; G_reader_settings
	2	[116]	SELF     	0 0 -2	; "nilOrTrue"
	3	[116]	LOADK    	2 -3	; "swipe_ignore_external_links"
	4	[116]	TAILCALL 	0 3 0
	5	[116]	RETURN   	0 0
	6	[117]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:119,121> (6 instructions, 24 bytes at 0x7fa8a6409d70)
0 params, 3 slots, 0 upvalues, 0 locals, 3 constants, 0 functions
	1	[120]	GETGLOBAL	0 -1	; G_reader_settings
	2	[120]	SELF     	0 0 -2	; "isTrue"
	3	[120]	LOADK    	2 -3	; "swipe_to_jump_to_latest_bookmark"
	4	[120]	TAILCALL 	0 3 0
	5	[120]	RETURN   	0 0
	6	[121]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:123,291> (222 instructions, 888 bytes at 0x7fa8a640a090)
2 params, 12 slots, 13 upvalues, 2 locals, 44 constants, 16 functions
	1	[125]	NEWTABLE 	2 0 2
	2	[126]	GETUPVAL 	3 0	; _
	3	[126]	LOADK    	4 -3	; "Links"
	4	[126]	CALL     	3 2 2
	5	[126]	SETTABLE 	2 -2 3	; "text" -
	6	[127]	NEWTABLE 	3 6 0
	7	[127]	NEWTABLE 	4 0 4
	8	[129]	GETUPVAL 	5 0	; _
	9	[129]	LOADK    	6 -5	; "Tap to follow links"
	10	[129]	CALL     	5 2 2
	11	[129]	SETTABLE 	4 -2 5	; "text" -
	12	[130]	GETUPVAL 	5 1	; isTapToFollowLinksOn
	13	[130]	SETTABLE 	4 -6 5	; "checked_func" -
	14	[134]	CLOSURE  	5 0	; 0x7fa8a640a6e0
	15	[134]	GETUPVAL 	0 1	; isTapToFollowLinksOn
	16	[134]	SETTABLE 	4 -7 5	; "callback" -
	17	[135]	GETUPVAL 	5 0	; _
	18	[135]	LOADK    	6 -9	; "Tap on links to follow them."
	19	[135]	CALL     	5 2 2
	20	[135]	SETTABLE 	4 -8 5	; "help_text" -
	21	[136]	NEWTABLE 	5 0 6
	22	[138]	GETUPVAL 	6 0	; _
	23	[138]	LOADK    	7 -10	; "Ignore external links on tap"
	24	[138]	CALL     	6 2 2
	25	[138]	SETTABLE 	5 -2 6	; "text" -
	26	[139]	GETUPVAL 	6 1	; isTapToFollowLinksOn
	27	[139]	SETTABLE 	5 -11 6	; "enabled_func" -
	28	[140]	GETUPVAL 	6 2	; isTapIgnoreExternalLinksEnabled
	29	[140]	SETTABLE 	5 -6 6	; "checked_func" -
	30	[144]	CLOSURE  	6 1	; 0x7fa8a640a7f0
	31	[144]	GETUPVAL 	0 2	; isTapIgnoreExternalLinksEnabled
	32	[144]	SETTABLE 	5 -7 6	; "callback" -
	33	[145]	GETUPVAL 	6 0	; _
	34	[147]	LOADK    	7 -12	; "Ignore taps on external links. Useful with Wikipedia EPUBs to make page turning easier.\nYou can still follow them from the dictionary window or the selection menu after holding on them."
	35	[145]	CALL     	6 2 2
	36	[147]	SETTABLE 	5 -8 6	; "help_text" -
	37	[148]	SETTABLE 	5 -13 -14	; "separator" true
	38	[149]	NEWTABLE 	6 0 4
	39	[151]	GETUPVAL 	7 0	; _
	40	[151]	LOADK    	8 -15	; "Swipe to go back"
	41	[151]	CALL     	7 2 2
	42	[151]	SETTABLE 	6 -2 7	; "text" -
	43	[152]	GETUPVAL 	7 3	; isSwipeToGoBackEnabled
	44	[152]	SETTABLE 	6 -6 7	; "checked_func" -
	45	[156]	CLOSURE  	7 2	; 0x7fa8a640ada0
	46	[156]	GETUPVAL 	0 3	; isSwipeToGoBackEnabled
	47	[156]	SETTABLE 	6 -7 7	; "callback" -
	48	[157]	GETUPVAL 	7 0	; _
	49	[157]	LOADK    	8 -16	; "Swipe to the right to go back to the previous location after you have followed a link. When the location stack is empty, swiping to the right takes you to the previous page."
	50	[157]	CALL     	7 2 2
	51	[157]	SETTABLE 	6 -8 7	; "help_text" -
	52	[158]	NEWTABLE 	7 0 4
	53	[160]	GETUPVAL 	8 0	; _
	54	[160]	LOADK    	9 -17	; "Swipe to follow nearest link"
	55	[160]	CALL     	8 2 2
	56	[160]	SETTABLE 	7 -2 8	; "text" -
	57	[161]	GETUPVAL 	8 4	; isSwipeToFollowNearestLinkEnabled
	58	[161]	SETTABLE 	7 -6 8	; "checked_func" -
	59	[165]	CLOSURE  	8 3	; 0x7fa8a640ae60
	60	[165]	GETUPVAL 	0 4	; isSwipeToFollowNearestLinkEnabled
	61	[165]	SETTABLE 	7 -7 8	; "callback" -
	62	[166]	GETUPVAL 	8 0	; _
	63	[166]	LOADK    	9 -18	; "Swipe to the left to follow the link nearest to where you started the swipe. This is useful when a small font is used and tapping on small links is tedious."
	64	[166]	CALL     	8 2 2
	65	[166]	SETTABLE 	7 -8 8	; "help_text" -
	66	[167]	NEWTABLE 	8 0 6
	67	[169]	GETUPVAL 	9 0	; _
	68	[169]	LOADK    	10 -19	; "Ignore external links on swipe"
	69	[169]	CALL     	9 2 2
	70	[169]	SETTABLE 	8 -2 9	; "text" -
	71	[170]	GETUPVAL 	9 4	; isSwipeToFollowNearestLinkEnabled
	72	[170]	SETTABLE 	8 -11 9	; "enabled_func" -
	73	[171]	GETUPVAL 	9 5	; isSwipeIgnoreExternalLinksEnabled
	74	[171]	SETTABLE 	8 -6 9	; "checked_func" -
	75	[175]	CLOSURE  	9 4	; 0x7fa8a640b0a0
	76	[175]	GETUPVAL 	0 5	; isSwipeIgnoreExternalLinksEnabled
	77	[175]	SETTABLE 	8 -7 9	; "callback" -
	78	[176]	GETUPVAL 	9 0	; _
	79	[178]	LOADK    	10 -20	; "Ignore external links near swipe. Useful with Wikipedia EPUBs to follow only footnotes with swipe.\nYou can still follow external links from the dictionary window or the selection menu after holding on them."
	80	[176]	CALL     	9 2 2
	81	[178]	SETTABLE 	8 -8 9	; "help_text" -
	82	[179]	SETTABLE 	8 -13 -14	; "separator" true
	83	[180]	NEWTABLE 	9 0 4
	84	[182]	GETUPVAL 	10 0	; _
	85	[182]	LOADK    	11 -21	; "Swipe to jump to latest bookmark"
	86	[182]	CALL     	10 2 2
	87	[182]	SETTABLE 	9 -2 10	; "text" -
	88	[183]	GETUPVAL 	10 6	; isSwipeToJumpToLatestBookmarkEnabled
	89	[183]	SETTABLE 	9 -6 10	; "checked_func" -
	90	[187]	CLOSURE  	10 5	; 0x7fa8a640aa00
	91	[187]	GETUPVAL 	0 6	; isSwipeToJumpToLatestBookmarkEnabled
	92	[187]	SETTABLE 	9 -7 10	; "callback" -
	93	[188]	GETUPVAL 	10 0	; _
	94	[191]	LOADK    	11 -22	; "Swipe to the left to go the most recently bookmarked page.\nThis can be useful to quickly swipe back and forth between what you are reading and some reference page (for example notes, a map or a characters list).\nIf any of the other Swipe to follow link options is enabled, this will work only when the current page contains no link."
	95	[188]	CALL     	10 2 2
	96	[191]	SETTABLE 	9 -8 10	; "help_text" -
	97	[193]	SETLIST  	3 6 1	; 1
	98	[193]	SETTABLE 	2 -4 3	; "sub_item_table" -
	99	[194]	SETTABLE 	1 -1 2	; "follow_links" -
	100	[200]	GETTABLE 	2 0 -23	; "ui"
	101	[200]	GETTABLE 	2 2 -24	; "document"
	102	[200]	GETTABLE 	2 2 -25	; "info"
	103	[200]	GETTABLE 	2 2 -26	; "has_pages"
	104	[200]	TEST     	2 0 1
	105	[200]	JMP      	98	; to 204
	106	[202]	GETGLOBAL	2 -27	; table
	107	[202]	GETTABLE 	2 2 -28	; "insert"
	108	[202]	GETTABLE 	3 1 -1	; "follow_links"
	109	[202]	GETTABLE 	3 3 -4	; "sub_item_table"
	110	[202]	LOADK    	4 -29	; 2
	111	[202]	NEWTABLE 	5 0 5
	112	[203]	GETUPVAL 	6 0	; _
	113	[203]	LOADK    	7 -30	; "Allow larger tap area around links"
	114	[203]	CALL     	6 2 2
	115	[203]	SETTABLE 	5 -2 6	; "text" -
	116	[204]	GETUPVAL 	6 1	; isTapToFollowLinksOn
	117	[204]	SETTABLE 	5 -11 6	; "enabled_func" -
	118	[205]	GETUPVAL 	6 7	; isLargerTapAreaToFollowLinksEnabled
	119	[205]	SETTABLE 	5 -6 6	; "checked_func" -
	120	[209]	CLOSURE  	6 6	; 0x7fa8a640b160
	121	[209]	GETUPVAL 	0 7	; isLargerTapAreaToFollowLinksEnabled
	122	[209]	SETTABLE 	5 -7 6	; "callback" -
	123	[210]	GETUPVAL 	6 0	; _
	124	[210]	LOADK    	7 -31	; "Extends the tap area around internal links. Useful with a small font where tapping on small footnote links may be tedious."
	125	[210]	CALL     	6 2 2
	126	[210]	SETTABLE 	5 -8 6	; "help_text" -
	127	[202]	CALL     	2 4 1
	128	[212]	GETGLOBAL	2 -27	; table
	129	[212]	GETTABLE 	2 2 -28	; "insert"
	130	[212]	GETTABLE 	3 1 -1	; "follow_links"
	131	[212]	GETTABLE 	3 3 -4	; "sub_item_table"
	132	[212]	LOADK    	4 -32	; 4
	133	[212]	NEWTABLE 	5 0 5
	134	[213]	GETUPVAL 	6 0	; _
	135	[213]	LOADK    	7 -33	; "Show footnotes in popup"
	136	[213]	CALL     	6 2 2
	137	[213]	SETTABLE 	5 -2 6	; "text" -
	138	[216]	CLOSURE  	6 7	; 0x7fa8a640b5b0
	139	[216]	GETUPVAL 	0 1	; isTapToFollowLinksOn
	140	[216]	GETUPVAL 	0 4	; isSwipeToFollowNearestLinkEnabled
	141	[216]	SETTABLE 	5 -11 6	; "enabled_func" -
	142	[217]	GETUPVAL 	6 8	; isFootnoteLinkInPopupEnabled
	143	[217]	SETTABLE 	5 -6 6	; "checked_func" -
	144	[221]	CLOSURE  	6 8	; 0x7fa8a640b690
	145	[221]	GETUPVAL 	0 8	; isFootnoteLinkInPopupEnabled
	146	[221]	SETTABLE 	5 -7 6	; "callback" -
	147	[222]	GETUPVAL 	6 0	; _
	148	[228]	LOADK    	7 -34	; "Show internal link target content in a footnote popup when it looks like it might be a footnote, instead of following the link.\n\nNote that depending on the book quality, footnote detection may not always work correctly.\nThe footnote content may be empty, truncated, or include other footnotes.\n\nFrom the footnote popup, you can jump to the footnote location in the book by swiping to the left."
	149	[222]	CALL     	6 2 2
	150	[228]	SETTABLE 	5 -8 6	; "help_text" -
	151	[212]	CALL     	2 4 1
	152	[230]	GETGLOBAL	2 -27	; table
	153	[230]	GETTABLE 	2 2 -28	; "insert"
	154	[230]	GETTABLE 	3 1 -1	; "follow_links"
	155	[230]	GETTABLE 	3 3 -4	; "sub_item_table"
	156	[230]	LOADK    	4 -35	; 5
	157	[230]	NEWTABLE 	5 0 5
	158	[231]	GETUPVAL 	6 0	; _
	159	[231]	LOADK    	7 -36	; "Show more links as footnotes"
	160	[231]	CALL     	6 2 2
	161	[231]	SETTABLE 	5 -2 6	; "text" -
	162	[235]	CLOSURE  	6 9	; 0x7fa8a640bd00
	163	[235]	GETUPVAL 	0 8	; isFootnoteLinkInPopupEnabled
	164	[235]	GETUPVAL 	0 1	; isTapToFollowLinksOn
	165	[235]	GETUPVAL 	0 4	; isSwipeToFollowNearestLinkEnabled
	166	[235]	SETTABLE 	5 -11 6	; "enabled_func" -
	167	[236]	GETUPVAL 	6 9	; isPreferFootnoteEnabled
	168	[236]	SETTABLE 	5 -6 6	; "checked_func" -
	169	[240]	CLOSURE  	6 10	; 0x7fa8a640ce70
	170	[240]	GETUPVAL 	0 9	; isPreferFootnoteEnabled
	171	[240]	SETTABLE 	5 -7 6	; "callback" -
	172	[241]	GETUPVAL 	6 0	; _
	173	[241]	LOADK    	7 -37	; "Loosen footnote detection rules to show more links as footnotes."
	174	[241]	CALL     	6 2 2
	175	[241]	SETTABLE 	5 -8 6	; "help_text" -
	176	[230]	CALL     	2 4 1
	177	[243]	GETGLOBAL	2 -27	; table
	178	[243]	GETTABLE 	2 2 -28	; "insert"
	179	[243]	GETTABLE 	3 1 -1	; "follow_links"
	180	[243]	GETTABLE 	3 3 -4	; "sub_item_table"
	181	[243]	LOADK    	4 -38	; 6
	182	[243]	NEWTABLE 	5 0 6
	183	[244]	GETUPVAL 	6 0	; _
	184	[244]	LOADK    	7 -39	; "Set footnote popup font size"
	185	[244]	CALL     	6 2 2
	186	[244]	SETTABLE 	5 -2 6	; "text" -
	187	[248]	CLOSURE  	6 11	; 0x7fa8a640d190
	188	[248]	GETUPVAL 	0 8	; isFootnoteLinkInPopupEnabled
	189	[248]	GETUPVAL 	0 1	; isTapToFollowLinksOn
	190	[248]	GETUPVAL 	0 4	; isSwipeToFollowNearestLinkEnabled
	191	[248]	SETTABLE 	5 -11 6	; "enabled_func" -
	192	[249]	SETTABLE 	5 -40 -14	; "keep_menu_open" true
	193	[269]	CLOSURE  	6 12	; 0x7fa8a640d470
	194	[269]	GETUPVAL 	0 10	; UIManager
	195	[269]	GETUPVAL 	0 11	; Screen
	196	[269]	GETUPVAL 	0 0	; _
	197	[269]	SETTABLE 	5 -7 6	; "callback" -
	198	[270]	GETUPVAL 	6 0	; _
	199	[272]	LOADK    	7 -41	; "The footnote popup font adjusts to the font size you've set for the document.\nThis allows you to specify how much smaller or larger it should be relative to the document font size."
	200	[270]	CALL     	6 2 2
	201	[272]	SETTABLE 	5 -8 6	; "help_text" -
	202	[273]	SETTABLE 	5 -13 -14	; "separator" true
	203	[243]	CALL     	2 4 1
	204	[276]	NEWTABLE 	2 0 4
	205	[277]	GETUPVAL 	3 0	; _
	206	[277]	LOADK    	4 -43	; "Go back to previous location"
	207	[277]	CALL     	3 2 2
	208	[277]	SETTABLE 	2 -2 3	; "text" -
	209	[278]	CLOSURE  	3 13	; 0x7fa8a64097c0
	210	[278]	MOVE     	0 0
	211	[278]	SETTABLE 	2 -11 3	; "enabled_func" -
	212	[279]	CLOSURE  	3 14	; 0x7fa8a6409b30
	213	[279]	MOVE     	0 0
	214	[279]	SETTABLE 	2 -7 3	; "callback" -
	215	[289]	CLOSURE  	3 15	; 0x7fa8a640b910
	216	[289]	GETUPVAL 	0 10	; UIManager
	217	[289]	GETUPVAL 	0 12	; ConfirmBox
	218	[289]	GETUPVAL 	0 0	; _
	219	[289]	MOVE     	0 0
	220	[289]	SETTABLE 	2 -44 3	; "hold_callback" -
	221	[290]	SETTABLE 	1 -42 2	; "go_to_previous_location" -
	222	[291]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:131,134> (8 instructions, 32 bytes at 0x7fa8a640a6e0)
0 params, 4 slots, 1 upvalue, 0 locals, 3 constants, 0 functions
	1	[132]	GETGLOBAL	0 -1	; G_reader_settings
	2	[132]	SELF     	0 0 -2	; "saveSetting"
	3	[132]	LOADK    	2 -3	; "tap_to_follow_links"
	4	[133]	GETUPVAL 	3 0	; isTapToFollowLinksOn
	5	[133]	CALL     	3 1 2
	6	[133]	NOT      	3 3
	7	[132]	CALL     	0 4 1
	8	[134]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:141,144> (8 instructions, 32 bytes at 0x7fa8a640a7f0)
0 params, 4 slots, 1 upvalue, 0 locals, 3 constants, 0 functions
	1	[142]	GETGLOBAL	0 -1	; G_reader_settings
	2	[142]	SELF     	0 0 -2	; "saveSetting"
	3	[142]	LOADK    	2 -3	; "tap_ignore_external_links"
	4	[143]	GETUPVAL 	3 0	; isTapIgnoreExternalLinksEnabled
	5	[143]	CALL     	3 1 2
	6	[143]	NOT      	3 3
	7	[142]	CALL     	0 4 1
	8	[144]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:153,156> (8 instructions, 32 bytes at 0x7fa8a640ada0)
0 params, 4 slots, 1 upvalue, 0 locals, 3 constants, 0 functions
	1	[154]	GETGLOBAL	0 -1	; G_reader_settings
	2	[154]	SELF     	0 0 -2	; "saveSetting"
	3	[154]	LOADK    	2 -3	; "swipe_to_go_back"
	4	[155]	GETUPVAL 	3 0	; isSwipeToGoBackEnabled
	5	[155]	CALL     	3 1 2
	6	[155]	NOT      	3 3
	7	[154]	CALL     	0 4 1
	8	[156]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:162,165> (8 instructions, 32 bytes at 0x7fa8a640ae60)
0 params, 4 slots, 1 upvalue, 0 locals, 3 constants, 0 functions
	1	[163]	GETGLOBAL	0 -1	; G_reader_settings
	2	[163]	SELF     	0 0 -2	; "saveSetting"
	3	[163]	LOADK    	2 -3	; "swipe_to_follow_nearest_link"
	4	[164]	GETUPVAL 	3 0	; isSwipeToFollowNearestLinkEnabled
	5	[164]	CALL     	3 1 2
	6	[164]	NOT      	3 3
	7	[163]	CALL     	0 4 1
	8	[165]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:172,175> (8 instructions, 32 bytes at 0x7fa8a640b0a0)
0 params, 4 slots, 1 upvalue, 0 locals, 3 constants, 0 functions
	1	[173]	GETGLOBAL	0 -1	; G_reader_settings
	2	[173]	SELF     	0 0 -2	; "saveSetting"
	3	[173]	LOADK    	2 -3	; "swipe_ignore_external_links"
	4	[174]	GETUPVAL 	3 0	; isSwipeIgnoreExternalLinksEnabled
	5	[174]	CALL     	3 1 2
	6	[174]	NOT      	3 3
	7	[173]	CALL     	0 4 1
	8	[175]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:184,187> (8 instructions, 32 bytes at 0x7fa8a640aa00)
0 params, 4 slots, 1 upvalue, 0 locals, 3 constants, 0 functions
	1	[185]	GETGLOBAL	0 -1	; G_reader_settings
	2	[185]	SELF     	0 0 -2	; "saveSetting"
	3	[185]	LOADK    	2 -3	; "swipe_to_jump_to_latest_bookmark"
	4	[186]	GETUPVAL 	3 0	; isSwipeToJumpToLatestBookmarkEnabled
	5	[186]	CALL     	3 1 2
	6	[186]	NOT      	3 3
	7	[185]	CALL     	0 4 1
	8	[187]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:206,209> (8 instructions, 32 bytes at 0x7fa8a640b160)
0 params, 4 slots, 1 upvalue, 0 locals, 3 constants, 0 functions
	1	[207]	GETGLOBAL	0 -1	; G_reader_settings
	2	[207]	SELF     	0 0 -2	; "saveSetting"
	3	[207]	LOADK    	2 -3	; "larger_tap_area_to_follow_links"
	4	[208]	GETUPVAL 	3 0	; isLargerTapAreaToFollowLinksEnabled
	5	[208]	CALL     	3 1 2
	6	[208]	NOT      	3 3
	7	[207]	CALL     	0 4 1
	8	[209]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:214,216> (8 instructions, 32 bytes at 0x7fa8a640b5b0)
0 params, 2 slots, 2 upvalues, 0 locals, 0 constants, 0 functions
	1	[215]	GETUPVAL 	0 0	; isTapToFollowLinksOn
	2	[215]	CALL     	0 1 2
	3	[215]	TEST     	0 0 1
	4	[215]	JMP      	2	; to 7
	5	[215]	GETUPVAL 	0 1	; isSwipeToFollowNearestLinkEnabled
	6	[215]	CALL     	0 1 2
	7	[215]	RETURN   	0 2
	8	[216]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:218,221> (8 instructions, 32 bytes at 0x7fa8a640b690)
0 params, 4 slots, 1 upvalue, 0 locals, 3 constants, 0 functions
	1	[219]	GETGLOBAL	0 -1	; G_reader_settings
	2	[219]	SELF     	0 0 -2	; "saveSetting"
	3	[219]	LOADK    	2 -3	; "footnote_link_in_popup"
	4	[220]	GETUPVAL 	3 0	; isFootnoteLinkInPopupEnabled
	5	[220]	CALL     	3 1 2
	6	[220]	NOT      	3 3
	7	[219]	CALL     	0 4 1
	8	[221]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:232,235> (12 instructions, 48 bytes at 0x7fa8a640bd00)
0 params, 2 slots, 3 upvalues, 0 locals, 0 constants, 0 functions
	1	[233]	GETUPVAL 	0 0	; isFootnoteLinkInPopupEnabled
	2	[233]	CALL     	0 1 2
	3	[233]	TEST     	0 0 0
	4	[233]	JMP      	6	; to 11
	5	[234]	GETUPVAL 	0 1	; isTapToFollowLinksOn
	6	[234]	CALL     	0 1 2
	7	[234]	TEST     	0 0 1
	8	[234]	JMP      	2	; to 11
	9	[234]	GETUPVAL 	0 2	; isSwipeToFollowNearestLinkEnabled
	10	[234]	CALL     	0 1 2
	11	[234]	RETURN   	0 2
	12	[235]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:237,240> (8 instructions, 32 bytes at 0x7fa8a640ce70)
0 params, 4 slots, 1 upvalue, 0 locals, 3 constants, 0 functions
	1	[238]	GETGLOBAL	0 -1	; G_reader_settings
	2	[238]	SELF     	0 0 -2	; "saveSetting"
	3	[238]	LOADK    	2 -3	; "link_prefer_footnote"
	4	[239]	GETUPVAL 	3 0	; isPreferFootnoteEnabled
	5	[239]	CALL     	3 1 2
	6	[239]	NOT      	3 3
	7	[238]	CALL     	0 4 1
	8	[240]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:245,248> (12 instructions, 48 bytes at 0x7fa8a640d190)
0 params, 2 slots, 3 upvalues, 0 locals, 0 constants, 0 functions
	1	[246]	GETUPVAL 	0 0	; isFootnoteLinkInPopupEnabled
	2	[246]	CALL     	0 1 2
	3	[246]	TEST     	0 0 0
	4	[246]	JMP      	6	; to 11
	5	[247]	GETUPVAL 	0 1	; isTapToFollowLinksOn
	6	[247]	CALL     	0 1 2
	7	[247]	TEST     	0 0 1
	8	[247]	JMP      	2	; to 11
	9	[247]	GETUPVAL 	0 2	; isSwipeToFollowNearestLinkEnabled
	10	[247]	CALL     	0 1 2
	11	[247]	RETURN   	0 2
	12	[248]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:250,269> (40 instructions, 160 bytes at 0x7fa8a640d470)
0 params, 9 slots, 3 upvalues, 1 local, 25 constants, 1 function
	1	[251]	GETGLOBAL	0 -1	; require
	2	[251]	LOADK    	1 -2	; "ui/widget/spinwidget"
	3	[251]	CALL     	0 2 2
	4	[252]	GETUPVAL 	1 0	; UIManager
	5	[252]	SELF     	1 1 -3	; "show"
	6	[252]	SELF     	3 0 -4	; "new"
	7	[252]	NEWTABLE 	5 0 9
	8	[253]	GETUPVAL 	6 1	; Screen
	9	[253]	SELF     	6 6 -6	; "getWidth"
	10	[253]	CALL     	6 2 2
	11	[253]	MUL      	6 6 -7	; - 0.75
	12	[253]	SETTABLE 	5 -5 6	; "width" -
	13	[254]	GETGLOBAL	6 -9	; G_reader_settings
	14	[254]	SELF     	6 6 -10	; "readSetting"
	15	[254]	LOADK    	8 -11	; "footnote_popup_relative_font_size"
	16	[254]	CALL     	6 3 2
	17	[254]	TEST     	6 0 1
	18	[254]	JMP      	1	; to 20
	19	[254]	LOADK    	6 -12	; -2
	20	[254]	SETTABLE 	5 -8 6	; "value" -
	21	[255]	SETTABLE 	5 -13 -14	; "value_min" -10
	22	[256]	SETTABLE 	5 -15 -16	; "value_max" 5
	23	[257]	SETTABLE 	5 -17 -18	; "precision" "%+d"
	24	[258]	GETUPVAL 	6 2	; _
	25	[258]	LOADK    	7 -20	; "Set font size"
	26	[258]	CALL     	6 2 2
	27	[258]	SETTABLE 	5 -19 6	; "ok_text" -
	28	[259]	GETUPVAL 	6 2	; _
	29	[259]	LOADK    	7 -22	; "Set footnote popup font size"
	30	[259]	CALL     	6 2 2
	31	[259]	SETTABLE 	5 -21 6	; "title_text" -
	32	[260]	GETUPVAL 	6 2	; _
	33	[264]	LOADK    	7 -24	; "The footnote popup font adjusts to the font size you've set for the document.\nYou can specify here how much smaller or larger it should be relative to the document font size.\nA negative value will make it smaller, while a positive one will make it larger.\nThe recommended value is -2."
	34	[260]	CALL     	6 2 2
	35	[264]	SETTABLE 	5 -23 6	; "info_text" -
	36	[267]	CLOSURE  	6 0	; 0x7fa8a640d650
	37	[267]	SETTABLE 	5 -25 6	; "callback" -
	38	[252]	CALL     	3 3 0
	39	[252]	CALL     	1 0 1
	40	[269]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:265,267> (6 instructions, 24 bytes at 0x7fa8a640d650)
1 param, 5 slots, 0 upvalues, 1 local, 4 constants, 0 functions
	1	[266]	GETGLOBAL	1 -1	; G_reader_settings
	2	[266]	SELF     	1 1 -2	; "saveSetting"
	3	[266]	LOADK    	3 -3	; "footnote_popup_relative_font_size"
	4	[266]	GETTABLE 	4 0 -4	; "value"
	5	[266]	CALL     	1 4 1
	6	[267]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:278,278> (9 instructions, 36 bytes at 0x7fa8a64097c0)
0 params, 2 slots, 1 upvalue, 0 locals, 2 constants, 0 functions
	1	[278]	GETUPVAL 	0 0	; self
	2	[278]	GETTABLE 	0 0 -1	; "location_stack"
	3	[278]	LEN      	0 0
	4	[278]	LT       	1 -2 0	; 0 -
	5	[278]	JMP      	1	; to 7
	6	[278]	LOADBOOL 	0 0 1
	7	[278]	LOADBOOL 	0 1 0
	8	[278]	RETURN   	0 2
	9	[278]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:279,279> (4 instructions, 16 bytes at 0x7fa8a6409b30)
0 params, 2 slots, 1 upvalue, 0 locals, 1 constant, 0 functions
	1	[279]	GETUPVAL 	0 0	; self
	2	[279]	SELF     	0 0 -1	; "onGoBackLink"
	3	[279]	CALL     	0 2 1
	4	[279]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:280,289> (20 instructions, 80 bytes at 0x7fa8a640b910)
1 param, 8 slots, 4 upvalues, 1 local, 7 constants, 1 function
	1	[281]	GETUPVAL 	1 0	; UIManager
	2	[281]	SELF     	1 1 -1	; "show"
	3	[281]	GETUPVAL 	3 1	; ConfirmBox
	4	[281]	SELF     	3 3 -2	; "new"
	5	[281]	NEWTABLE 	5 0 3
	6	[282]	GETUPVAL 	6 2	; _
	7	[282]	LOADK    	7 -4	; "Clear location history?"
	8	[282]	CALL     	6 2 2
	9	[282]	SETTABLE 	5 -3 6	; "text" -
	10	[283]	GETUPVAL 	6 2	; _
	11	[283]	LOADK    	7 -6	; "Clear"
	12	[283]	CALL     	6 2 2
	13	[283]	SETTABLE 	5 -5 6	; "ok_text" -
	14	[287]	CLOSURE  	6 0	; 0x7fa8a640ba80
	15	[287]	GETUPVAL 	0 3	; self
	16	[287]	MOVE     	0 0
	17	[287]	SETTABLE 	5 -7 6	; "ok_callback" -
	18	[281]	CALL     	3 3 0
	19	[281]	CALL     	1 0 1
	20	[289]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:284,287> (7 instructions, 28 bytes at 0x7fa8a640ba80)
0 params, 2 slots, 2 upvalues, 0 locals, 2 constants, 0 functions
	1	[285]	GETUPVAL 	0 0	; self
	2	[285]	SELF     	0 0 -1	; "onClearLocationStack"
	3	[285]	CALL     	0 2 1
	4	[286]	GETUPVAL 	0 1	; touchmenu_instance
	5	[286]	SELF     	0 0 -2	; "closeMenu"
	6	[286]	CALL     	0 2 1
	7	[287]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:294,312> (36 instructions, 144 bytes at 0x7fa8a640cd20)
2 params, 10 slots, 1 upvalue, 6 locals, 9 constants, 0 functions
	1	[296]	GETTABLE 	2 0 -1	; "ui"
	2	[296]	GETTABLE 	2 2 -2	; "document"
	3	[296]	SELF     	2 2 -3	; "getScreenPositionFromXPointer"
	4	[296]	MOVE     	4 1
	5	[296]	CALL     	2 3 3
	6	[298]	GETTABLE 	4 0 -1	; "ui"
	7	[298]	GETTABLE 	4 4 -2	; "document"
	8	[298]	SELF     	4 4 -4	; "getLinkFromPosition"
	9	[298]	NEWTABLE 	6 0 2
	10	[298]	SETTABLE 	6 -5 3	; "x" -
	11	[298]	SETTABLE 	6 -6 2	; "y" -
	12	[298]	CALL     	4 3 3
	13	[301]	EQ       	1 5 1
	14	[301]	JMP      	19	; to 34
	15	[305]	GETTABLE 	6 0 -1	; "ui"
	16	[305]	GETTABLE 	6 6 -2	; "document"
	17	[305]	SELF     	6 6 -4	; "getLinkFromPosition"
	18	[305]	NEWTABLE 	8 0 2
	19	[305]	ADD      	9 3 -7	; - 1
	20	[305]	SETTABLE 	8 -5 9	; "x" -
	21	[305]	SETTABLE 	8 -6 2	; "y" -
	22	[305]	CALL     	6 3 3
	23	[305]	MOVE     	5 7
	24	[305]	MOVE     	4 6
	25	[306]	EQ       	1 5 1
	26	[306]	JMP      	7	; to 34
	27	[307]	GETUPVAL 	6 0	; logger
	28	[307]	GETTABLE 	6 6 -8	; "info"
	29	[307]	LOADK    	7 -9	; "not coherent a_xpointer:"
	30	[307]	MOVE     	8 1
	31	[307]	CALL     	6 3 1
	32	[308]	LOADBOOL 	6 0 0
	33	[308]	RETURN   	6 2
	34	[311]	LOADBOOL 	6 1 0
	35	[311]	RETURN   	6 2
	36	[312]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:317,364> (64 instructions, 256 bytes at 0x7fa8a6408d40)
2 params, 8 slots, 1 upvalue, 8 locals, 22 constants, 0 functions
	1	[318]	GETTABLE 	2 0 -1	; "ui"
	2	[318]	GETTABLE 	2 2 -2	; "document"
	3	[318]	GETTABLE 	2 2 -3	; "info"
	4	[318]	GETTABLE 	2 2 -4	; "has_pages"
	5	[318]	TEST     	2 0 0
	6	[318]	JMP      	22	; to 29
	7	[319]	GETTABLE 	2 0 -5	; "view"
	8	[319]	SELF     	2 2 -6	; "screenToPageTransform"
	9	[319]	GETTABLE 	4 1 -7	; "pos"
	10	[319]	CALL     	2 3 2
	11	[320]	TEST     	2 0 0
	12	[320]	JMP      	51	; to 64
	13	[322]	GETTABLE 	3 0 -1	; "ui"
	14	[322]	GETTABLE 	3 3 -2	; "document"
	15	[322]	SELF     	3 3 -8	; "getLinkFromPosition"
	16	[322]	GETTABLE 	5 2 -9	; "page"
	17	[322]	MOVE     	6 2
	18	[322]	CALL     	3 4 3
	19	[323]	TEST     	3 0 0
	20	[323]	JMP      	43	; to 64
	21	[323]	TEST     	4 0 0
	22	[323]	JMP      	41	; to 64
	23	[324]	NEWTABLE 	5 0 3
	24	[325]	SETTABLE 	5 -10 3	; "link" -
	25	[326]	SETTABLE 	5 -11 4	; "lbox" -
	26	[327]	SETTABLE 	5 -7 2	; "pos" -
	27	[328]	RETURN   	5 2
	28	[330]	JMP      	35	; to 64
	29	[332]	GETTABLE 	2 0 -1	; "ui"
	30	[332]	GETTABLE 	2 2 -2	; "document"
	31	[332]	SELF     	2 2 -8	; "getLinkFromPosition"
	32	[332]	GETTABLE 	4 1 -7	; "pos"
	33	[332]	CALL     	2 3 3
	34	[333]	GETUPVAL 	4 0	; logger
	35	[333]	GETTABLE 	4 4 -12	; "dbg"
	36	[333]	LOADK    	5 -13	; "getLinkFromPosition link_xpointer:"
	37	[333]	MOVE     	6 2
	38	[333]	CALL     	4 3 1
	39	[334]	GETUPVAL 	4 0	; logger
	40	[334]	GETTABLE 	4 4 -12	; "dbg"
	41	[334]	LOADK    	5 -14	; "getLinkFromPosition a_xpointer:"
	42	[334]	MOVE     	6 3
	43	[334]	CALL     	4 3 1
	44	[341]	LOADNIL  	4 4
	45	[342]	TEST     	3 0 0
	46	[342]	JMP      	6	; to 53
	47	[342]	SELF     	5 0 -15	; "isXpointerCoherent"
	48	[342]	MOVE     	7 3
	49	[342]	CALL     	5 3 2
	50	[342]	TEST     	5 0 0
	51	[342]	JMP      	1	; to 53
	52	[343]	MOVE     	4 3
	53	[346]	EQ       	1 2 -16	; - ""
	54	[346]	JMP      	9	; to 64
	55	[352]	NEWTABLE 	5 0 5
	56	[353]	SETTABLE 	5 -17 2	; "xpointer" -
	57	[354]	SETTABLE 	5 -18 2	; "marker_xpointer" -
	58	[355]	SETTABLE 	5 -19 4	; "from_xpointer" -
	59	[356]	SETTABLE 	5 -20 3	; "a_xpointer" -
	60	[360]	GETTABLE 	6 1 -7	; "pos"
	61	[360]	GETTABLE 	6 6 -22	; "y"
	62	[360]	SETTABLE 	5 -21 6	; "link_y" -
	63	[361]	RETURN   	5 2
	64	[364]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:367,385> (49 instructions, 196 bytes at 0x7fa8a640afe0)
3 params, 10 slots, 2 upvalues, 4 locals, 17 constants, 1 function
	1	[368]	TEST     	1 0 0
	2	[368]	JMP      	35	; to 38
	3	[368]	GETTABLE 	3 1 -1	; "lbox"
	4	[368]	TEST     	3 0 0
	5	[368]	JMP      	32	; to 38
	6	[370]	GETTABLE 	3 0 -2	; "view"
	7	[370]	SELF     	3 3 -3	; "pageToScreenTransform"
	8	[370]	GETTABLE 	5 1 -4	; "pos"
	9	[370]	GETTABLE 	5 5 -5	; "page"
	10	[371]	GETTABLE 	6 0 -6	; "ui"
	11	[371]	GETTABLE 	6 6 -7	; "document"
	12	[371]	SELF     	6 6 -8	; "nativeToPageRectTransform"
	13	[371]	GETTABLE 	8 1 -4	; "pos"
	14	[371]	GETTABLE 	8 8 -5	; "page"
	15	[371]	GETTABLE 	9 1 -1	; "lbox"
	16	[371]	CALL     	6 4 0
	17	[370]	CALL     	3 0 2
	18	[372]	TEST     	3 0 0
	19	[372]	JMP      	29	; to 49
	20	[373]	GETUPVAL 	4 0	; UIManager
	21	[373]	SELF     	4 4 -9	; "show"
	22	[373]	GETUPVAL 	6 1	; LinkBox
	23	[373]	SELF     	6 6 -10	; "new"
	24	[373]	NEWTABLE 	8 0 3
	25	[374]	SETTABLE 	8 -11 3	; "box" -
	26	[375]	GETGLOBAL	9 -13	; FOLLOW_LINK_TIMEOUT
	27	[375]	SETTABLE 	8 -12 9	; "timeout" -
	28	[378]	CLOSURE  	9 0	; 0x7fa8a640e150
	29	[378]	MOVE     	0 0
	30	[378]	MOVE     	0 1
	31	[378]	MOVE     	0 2
	32	[378]	SETTABLE 	8 -14 9	; "callback" -
	33	[373]	CALL     	6 3 0
	34	[373]	CALL     	4 0 1
	35	[380]	LOADBOOL 	4 1 0
	36	[380]	RETURN   	4 2
	37	[381]	JMP      	11	; to 49
	38	[382]	TEST     	1 0 0
	39	[382]	JMP      	9	; to 49
	40	[382]	GETTABLE 	3 1 -15	; "xpointer"
	41	[382]	EQ       	1 3 -16	; - ""
	42	[382]	JMP      	6	; to 49
	43	[383]	SELF     	3 0 -17	; "onGotoLink"
	44	[383]	MOVE     	5 1
	45	[383]	LOADBOOL 	6 0 0
	46	[383]	MOVE     	7 2
	47	[383]	TAILCALL 	3 5 0
	48	[383]	RETURN   	3 0
	49	[385]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:376,378> (8 instructions, 32 bytes at 0x7fa8a640e150)
0 params, 5 slots, 3 upvalues, 0 locals, 2 constants, 0 functions
	1	[377]	GETUPVAL 	0 0	; self
	2	[377]	SELF     	0 0 -1	; "onGotoLink"
	3	[377]	GETUPVAL 	2 1	; link
	4	[377]	GETTABLE 	2 2 -2	; "link"
	5	[377]	LOADBOOL 	3 0 0
	6	[377]	GETUPVAL 	4 2	; allow_footnote_popup
	7	[377]	CALL     	0 5 1
	8	[378]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:387,431> (76 instructions, 304 bytes at 0x7fa8a640e5b0)
3 params, 11 slots, 5 upvalues, 7 locals, 12 constants, 0 functions
	1	[388]	GETUPVAL 	3 0	; isTapToFollowLinksOn
	2	[388]	CALL     	3 1 2
	3	[388]	TEST     	3 0 1
	4	[388]	JMP      	1	; to 6
	5	[388]	RETURN   	0 1
	6	[389]	GETTABLE 	3 0 -1	; "ui"
	7	[389]	GETTABLE 	3 3 -2	; "document"
	8	[389]	GETTABLE 	3 3 -3	; "info"
	9	[389]	GETTABLE 	3 3 -4	; "has_pages"
	10	[389]	TEST     	3 0 0
	11	[389]	JMP      	22	; to 34
	12	[392]	SELF     	3 0 -5	; "getLinkFromGes"
	13	[392]	MOVE     	5 2
	14	[392]	CALL     	3 3 2
	15	[393]	TEST     	3 0 0
	16	[393]	JMP      	16	; to 33
	17	[394]	GETTABLE 	4 3 -6	; "link"
	18	[394]	TEST     	4 0 0
	19	[394]	JMP      	9	; to 29
	20	[394]	GETTABLE 	4 3 -6	; "link"
	21	[394]	GETTABLE 	4 4 -7	; "uri"
	22	[394]	TEST     	4 0 0
	23	[394]	JMP      	5	; to 29
	24	[394]	GETUPVAL 	4 1	; isTapIgnoreExternalLinksEnabled
	25	[394]	CALL     	4 1 2
	26	[394]	TEST     	4 0 0
	27	[394]	JMP      	1	; to 29
	28	[395]	RETURN   	0 1
	29	[397]	SELF     	4 0 -8	; "showLinkBox"
	30	[397]	MOVE     	6 3
	31	[397]	TAILCALL 	4 3 0
	32	[397]	RETURN   	4 0
	33	[399]	RETURN   	0 1
	34	[402]	GETUPVAL 	3 2	; isFootnoteLinkInPopupEnabled
	35	[402]	CALL     	3 1 2
	36	[406]	GETUPVAL 	4 1	; isTapIgnoreExternalLinksEnabled
	37	[406]	CALL     	4 1 2
	38	[406]	TEST     	4 0 1
	39	[406]	JMP      	10	; to 50
	40	[407]	SELF     	4 0 -5	; "getLinkFromGes"
	41	[407]	MOVE     	6 2
	42	[407]	CALL     	4 3 2
	43	[408]	TEST     	4 0 0
	44	[408]	JMP      	5	; to 50
	45	[409]	SELF     	5 0 -8	; "showLinkBox"
	46	[409]	MOVE     	7 4
	47	[409]	MOVE     	8 3
	48	[409]	TAILCALL 	5 4 0
	49	[409]	RETURN   	5 0
	50	[412]	GETUPVAL 	4 3	; isLargerTapAreaToFollowLinksEnabled
	51	[412]	CALL     	4 1 2
	52	[412]	TEST     	4 0 1
	53	[412]	JMP      	4	; to 58
	54	[412]	GETUPVAL 	4 1	; isTapIgnoreExternalLinksEnabled
	55	[412]	CALL     	4 1 2
	56	[412]	TEST     	4 0 0
	57	[412]	JMP      	18	; to 76
	58	[413]	LOADK    	4 -9	; 0
	59	[414]	GETUPVAL 	5 3	; isLargerTapAreaToFollowLinksEnabled
	60	[414]	CALL     	5 1 2
	61	[414]	TEST     	5 0 0
	62	[414]	JMP      	5	; to 68
	63	[427]	GETUPVAL 	5 4	; Screen
	64	[427]	SELF     	5 5 -10	; "scaleByDPI"
	65	[427]	LOADK    	7 -11	; 30
	66	[427]	CALL     	5 3 2
	67	[427]	MOVE     	4 5
	68	[429]	SELF     	5 0 -12	; "onGoToPageLink"
	69	[429]	MOVE     	7 2
	70	[429]	GETUPVAL 	8 1	; isTapIgnoreExternalLinksEnabled
	71	[429]	CALL     	8 1 2
	72	[429]	MOVE     	9 3
	73	[429]	MOVE     	10 4
	74	[429]	TAILCALL 	5 6 0
	75	[429]	RETURN   	5 0
	76	[431]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:434,442> (26 instructions, 104 bytes at 0x7fa8a640e2d0)
1 param, 6 slots, 0 upvalues, 1 local, 11 constants, 0 functions
	1	[435]	GETTABLE 	1 0 -1	; "ui"
	2	[435]	GETTABLE 	1 1 -2	; "document"
	3	[435]	GETTABLE 	1 1 -3	; "info"
	4	[435]	GETTABLE 	1 1 -4	; "has_pages"
	5	[435]	TEST     	1 0 0
	6	[435]	JMP      	9	; to 16
	7	[436]	GETGLOBAL	1 -5	; table
	8	[436]	GETTABLE 	1 1 -6	; "insert"
	9	[436]	GETTABLE 	2 0 -7	; "location_stack"
	10	[436]	GETTABLE 	3 0 -1	; "ui"
	11	[436]	GETTABLE 	3 3 -8	; "paging"
	12	[436]	SELF     	3 3 -9	; "getBookLocation"
	13	[436]	CALL     	3 2 0
	14	[436]	CALL     	1 0 1
	15	[436]	JMP      	10	; to 26
	16	[438]	GETGLOBAL	1 -5	; table
	17	[438]	GETTABLE 	1 1 -6	; "insert"
	18	[438]	GETTABLE 	2 0 -7	; "location_stack"
	19	[438]	NEWTABLE 	3 0 1
	20	[439]	GETTABLE 	4 0 -1	; "ui"
	21	[439]	GETTABLE 	4 4 -11	; "rolling"
	22	[439]	SELF     	4 4 -9	; "getBookLocation"
	23	[439]	CALL     	4 2 2
	24	[439]	SETTABLE 	3 -10 4	; "xpointer" -
	25	[438]	CALL     	1 3 1
	26	[442]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:444,453> (19 instructions, 76 bytes at 0x7fa8a6409a10)
2 params, 9 slots, 3 upvalues, 2 locals, 7 constants, 0 functions
	1	[445]	NEWTABLE 	2 0 0
	2	[445]	SETTABLE 	0 -1 2	; "location_stack" -
	3	[446]	TEST     	1 0 0
	4	[446]	JMP      	12	; to 17
	5	[447]	GETUPVAL 	2 0	; UIManager
	6	[447]	SELF     	2 2 -2	; "show"
	7	[447]	GETUPVAL 	4 1	; Notification
	8	[447]	SELF     	4 4 -3	; "new"
	9	[447]	NEWTABLE 	6 0 2
	10	[448]	GETUPVAL 	7 2	; _
	11	[448]	LOADK    	8 -5	; "Location history cleared."
	12	[448]	CALL     	7 2 2
	13	[448]	SETTABLE 	6 -4 7	; "text" -
	14	[449]	SETTABLE 	6 -6 -7	; "timeout" 2
	15	[447]	CALL     	4 3 0
	16	[447]	CALL     	2 0 1
	17	[452]	LOADBOOL 	2 1 0
	18	[452]	RETURN   	2 2
	19	[453]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:458,569> (248 instructions, 992 bytes at 0x7fa8a640f820)
4 params, 20 slots, 9 upvalues, 12 locals, 59 constants, 1 function
	1	[459]	GETUPVAL 	4 0	; logger
	2	[459]	GETTABLE 	4 4 -1	; "dbg"
	3	[459]	LOADK    	5 -2	; "onGotoLink:"
	4	[459]	MOVE     	6 1
	5	[459]	CALL     	4 3 1
	6	[460]	LOADNIL  	4 4
	7	[461]	GETTABLE 	5 0 -3	; "ui"
	8	[461]	GETTABLE 	5 5 -4	; "document"
	9	[461]	GETTABLE 	5 5 -5	; "info"
	10	[461]	GETTABLE 	5 5 -6	; "has_pages"
	11	[461]	TEST     	5 0 0
	12	[461]	JMP      	25	; to 38
	13	[463]	GETTABLE 	5 1 -7	; "page"
	14	[463]	TEST     	5 0 0
	15	[463]	JMP      	20	; to 36
	16	[464]	GETUPVAL 	5 0	; logger
	17	[464]	GETTABLE 	5 5 -1	; "dbg"
	18	[464]	LOADK    	6 -8	; "Internal link:"
	19	[464]	MOVE     	7 1
	20	[464]	CALL     	5 3 1
	21	[465]	TEST     	2 0 1
	22	[465]	JMP      	2	; to 25
	23	[466]	SELF     	5 0 -9	; "addCurrentLocationToStack"
	24	[466]	CALL     	5 2 1
	25	[468]	GETTABLE 	5 0 -3	; "ui"
	26	[468]	SELF     	5 5 -10	; "handleEvent"
	27	[468]	GETUPVAL 	7 1	; Event
	28	[468]	SELF     	7 7 -11	; "new"
	29	[468]	LOADK    	9 -12	; "GotoPage"
	30	[468]	GETTABLE 	10 1 -7	; "page"
	31	[468]	ADD      	10 10 -13	; - 1
	32	[468]	CALL     	7 4 0
	33	[468]	CALL     	5 0 1
	34	[469]	LOADBOOL 	5 1 0
	35	[469]	RETURN   	5 2
	36	[471]	GETTABLE 	4 1 -14	; "uri"
	37	[471]	JMP      	68	; to 106
	38	[479]	GETTABLE 	5 0 -3	; "ui"
	39	[479]	GETTABLE 	5 5 -4	; "document"
	40	[479]	SELF     	5 5 -15	; "isXPointerInDocument"
	41	[479]	GETTABLE 	7 1 -16	; "xpointer"
	42	[479]	CALL     	5 3 2
	43	[479]	TEST     	5 0 0
	44	[479]	JMP      	60	; to 105
	45	[480]	GETUPVAL 	5 0	; logger
	46	[480]	GETTABLE 	5 5 -1	; "dbg"
	47	[480]	LOADK    	6 -8	; "Internal link:"
	48	[480]	MOVE     	7 1
	49	[480]	CALL     	5 3 1
	50	[481]	TEST     	3 0 0
	51	[481]	JMP      	8	; to 60
	52	[482]	SELF     	5 0 -17	; "showAsFootnotePopup"
	53	[482]	MOVE     	7 1
	54	[482]	MOVE     	8 2
	55	[482]	CALL     	5 4 2
	56	[482]	TEST     	5 0 0
	57	[482]	JMP      	2	; to 60
	58	[483]	LOADBOOL 	5 1 0
	59	[483]	RETURN   	5 2
	60	[487]	TEST     	2 0 1
	61	[487]	JMP      	32	; to 94
	62	[488]	GETTABLE 	5 1 -18	; "from_xpointer"
	63	[488]	TEST     	5 0 0
	64	[488]	JMP      	27	; to 92
	65	[492]	LOADNIL  	5 5
	66	[493]	GETTABLE 	6 0 -19	; "view"
	67	[493]	GETTABLE 	6 6 -20	; "view_mode"
	68	[493]	EQ       	0 6 -21	; - "scroll"
	69	[493]	JMP      	10	; to 80
	70	[497]	NEWTABLE 	6 0 2
	71	[498]	GETTABLE 	7 0 -3	; "ui"
	72	[498]	GETTABLE 	7 7 -22	; "rolling"
	73	[498]	SELF     	7 7 -23	; "getBookLocation"
	74	[498]	CALL     	7 2 2
	75	[498]	SETTABLE 	6 -16 7	; "xpointer" -
	76	[499]	GETTABLE 	7 1 -18	; "from_xpointer"
	77	[499]	SETTABLE 	6 -24 7	; "marker_xpointer" -
	78	[500]	MOVE     	5 6
	79	[500]	JMP      	6	; to 86
	80	[504]	NEWTABLE 	6 0 2
	81	[505]	GETTABLE 	7 1 -18	; "from_xpointer"
	82	[505]	SETTABLE 	6 -16 7	; "xpointer" -
	83	[506]	GETTABLE 	7 1 -18	; "from_xpointer"
	84	[506]	SETTABLE 	6 -24 7	; "marker_xpointer" -
	85	[507]	MOVE     	5 6
	86	[509]	GETGLOBAL	6 -25	; table
	87	[509]	GETTABLE 	6 6 -26	; "insert"
	88	[509]	GETTABLE 	7 0 -27	; "location_stack"
	89	[509]	MOVE     	8 5
	90	[509]	CALL     	6 3 1
	91	[509]	JMP      	2	; to 94
	92	[511]	SELF     	5 0 -9	; "addCurrentLocationToStack"
	93	[511]	CALL     	5 2 1
	94	[514]	GETTABLE 	5 0 -3	; "ui"
	95	[514]	SELF     	5 5 -10	; "handleEvent"
	96	[514]	GETUPVAL 	7 1	; Event
	97	[514]	SELF     	7 7 -11	; "new"
	98	[514]	LOADK    	9 -28	; "GotoXPointer"
	99	[514]	GETTABLE 	10 1 -16	; "xpointer"
	100	[514]	GETTABLE 	11 1 -24	; "marker_xpointer"
	101	[514]	CALL     	7 5 0
	102	[514]	CALL     	5 0 1
	103	[515]	LOADBOOL 	5 1 0
	104	[515]	RETURN   	5 2
	105	[517]	GETTABLE 	4 1 -16	; "xpointer"
	106	[519]	GETUPVAL 	5 0	; logger
	107	[519]	GETTABLE 	5 5 -1	; "dbg"
	108	[519]	LOADK    	6 -29	; "External link:"
	109	[519]	MOVE     	7 4
	110	[519]	CALL     	5 3 1
	111	[521]	SELF     	5 4 -30	; "find"
	112	[521]	LOADK    	7 -31	; "^https?://"
	113	[521]	CALL     	5 3 2
	114	[521]	EQ       	0 5 -32	; - nil
	115	[521]	JMP      	1	; to 117
	116	[521]	LOADBOOL 	5 0 1
	117	[521]	LOADBOOL 	5 1 0
	118	[522]	TEST     	5 0 0
	119	[522]	JMP      	7	; to 127
	120	[522]	SELF     	6 0 -33	; "onGoToExternalLink"
	121	[522]	MOVE     	8 4
	122	[522]	CALL     	6 3 2
	123	[522]	TEST     	6 0 0
	124	[522]	JMP      	2	; to 127
	125	[523]	LOADBOOL 	6 1 0
	126	[523]	RETURN   	6 2
	127	[527]	SELF     	6 4 -34	; "gsub"
	128	[527]	LOADK    	8 -35	; "^file:(//)?"
	129	[527]	LOADK    	9 -36	; ""
	130	[527]	CALL     	6 4 2
	131	[528]	LOADNIL  	7 7
	132	[529]	SELF     	8 6 -30	; "find"
	133	[529]	LOADK    	10 -37	; "?"
	134	[529]	CALL     	8 3 2
	135	[529]	TEST     	8 0 0
	136	[529]	JMP      	6	; to 143
	137	[530]	SELF     	8 6 -38	; "match"
	138	[530]	LOADK    	10 -39	; "^(.-)(%?.*)$"
	139	[530]	CALL     	8 3 3
	140	[530]	MOVE     	7 9
	141	[530]	MOVE     	6 8
	142	[530]	JMP      	10	; to 153
	143	[531]	SELF     	8 6 -30	; "find"
	144	[531]	LOADK    	10 -40	; "#"
	145	[531]	CALL     	8 3 2
	146	[531]	TEST     	8 0 0
	147	[531]	JMP      	5	; to 153
	148	[532]	SELF     	8 6 -38	; "match"
	149	[532]	LOADK    	10 -41	; "^(.-)(#.*)$"
	150	[532]	CALL     	8 3 3
	151	[532]	MOVE     	7 9
	152	[532]	MOVE     	6 8
	153	[534]	GETUPVAL 	8 2	; ffiutil
	154	[534]	GETTABLE 	8 8 -42	; "joinPath"
	155	[534]	GETTABLE 	9 0 -43	; "document_dir"
	156	[534]	MOVE     	10 6
	157	[534]	CALL     	8 3 2
	158	[534]	MOVE     	6 8
	159	[535]	GETUPVAL 	8 2	; ffiutil
	160	[535]	GETTABLE 	8 8 -44	; "realpath"
	161	[535]	MOVE     	9 6
	162	[535]	CALL     	8 2 2
	163	[535]	MOVE     	6 8
	164	[536]	TEST     	6 0 0
	165	[536]	JMP      	63	; to 229
	166	[536]	GETGLOBAL	8 -45	; lfs
	167	[536]	GETTABLE 	8 8 -46	; "attributes"
	168	[536]	MOVE     	9 6
	169	[536]	LOADK    	10 -47	; "mode"
	170	[536]	CALL     	8 3 2
	171	[536]	EQ       	0 8 -48	; - "file"
	172	[536]	JMP      	56	; to 229
	173	[537]	GETGLOBAL	8 -49	; require
	174	[537]	LOADK    	9 -50	; "document/documentregistry"
	175	[537]	CALL     	8 2 2
	176	[538]	SELF     	9 8 -51	; "getProvider"
	177	[538]	MOVE     	11 6
	178	[538]	CALL     	9 3 2
	179	[539]	TEST     	9 0 0
	180	[539]	JMP      	29	; to 210
	181	[542]	MOVE     	10 6
	182	[543]	TEST     	7 0 0
	183	[543]	JMP      	3	; to 187
	184	[544]	MOVE     	11 10
	185	[544]	MOVE     	12 7
	186	[544]	CONCAT   	10 11 12
	187	[546]	GETUPVAL 	11 3	; UIManager
	188	[546]	SELF     	11 11 -52	; "show"
	189	[546]	GETUPVAL 	13 4	; ConfirmBox
	190	[546]	SELF     	13 13 -11	; "new"
	191	[546]	NEWTABLE 	15 0 2
	192	[547]	GETUPVAL 	16 5	; T
	193	[547]	GETUPVAL 	17 6	; _
	194	[547]	LOADK    	18 -54	; "Would you like to read this local document?\n\n%1\n"
	195	[547]	CALL     	17 2 2
	196	[547]	GETUPVAL 	18 7	; BD
	197	[547]	GETTABLE 	18 18 -55	; "filepath"
	198	[547]	MOVE     	19 10
	199	[547]	CALL     	18 2 0
	200	[547]	CALL     	16 0 2
	201	[547]	SETTABLE 	15 -53 16	; "text" -
	202	[552]	CLOSURE  	16 0	; 0x7fa8a640ff90
	203	[552]	GETUPVAL 	0 3	; UIManager
	204	[552]	MOVE     	0 0
	205	[552]	MOVE     	0 6
	206	[552]	SETTABLE 	15 -56 16	; "ok_callback" -
	207	[546]	CALL     	13 3 0
	208	[546]	CALL     	11 0 1
	209	[553]	JMP      	17	; to 227
	210	[555]	GETUPVAL 	10 3	; UIManager
	211	[555]	SELF     	10 10 -52	; "show"
	212	[555]	GETUPVAL 	12 8	; InfoMessage
	213	[555]	SELF     	12 12 -11	; "new"
	214	[555]	NEWTABLE 	14 0 1
	215	[556]	GETUPVAL 	15 5	; T
	216	[556]	GETUPVAL 	16 6	; _
	217	[556]	LOADK    	17 -57	; "Link to unsupported local file:\n%1"
	218	[556]	CALL     	16 2 2
	219	[556]	GETUPVAL 	17 7	; BD
	220	[556]	GETTABLE 	17 17 -58	; "url"
	221	[556]	MOVE     	18 4
	222	[556]	CALL     	17 2 0
	223	[556]	CALL     	15 0 2
	224	[556]	SETTABLE 	14 -53 15	; "text" -
	225	[555]	CALL     	12 3 0
	226	[555]	CALL     	10 0 1
	227	[559]	LOADBOOL 	10 1 0
	228	[559]	RETURN   	10 2
	229	[563]	GETUPVAL 	8 3	; UIManager
	230	[563]	SELF     	8 8 -52	; "show"
	231	[563]	GETUPVAL 	10 8	; InfoMessage
	232	[563]	SELF     	10 10 -11	; "new"
	233	[563]	NEWTABLE 	12 0 1
	234	[564]	GETUPVAL 	13 5	; T
	235	[564]	GETUPVAL 	14 6	; _
	236	[564]	LOADK    	15 -59	; "Invalid or external link:\n%1"
	237	[564]	CALL     	14 2 2
	238	[564]	GETUPVAL 	15 7	; BD
	239	[564]	GETTABLE 	15 15 -58	; "url"
	240	[564]	MOVE     	16 4
	241	[564]	CALL     	15 2 0
	242	[564]	CALL     	13 0 2
	243	[564]	SETTABLE 	12 -53 13	; "text" -
	244	[563]	CALL     	10 3 0
	245	[563]	CALL     	8 0 1
	246	[568]	LOADBOOL 	8 1 0
	247	[568]	RETURN   	8 2
	248	[569]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:548,552> (8 instructions, 32 bytes at 0x7fa8a640ff90)
0 params, 4 slots, 3 upvalues, 0 locals, 2 constants, 1 function
	1	[549]	GETUPVAL 	0 0	; UIManager
	2	[549]	SELF     	0 0 -1	; "scheduleIn"
	3	[549]	LOADK    	2 -2	; 0.1
	4	[551]	CLOSURE  	3 0	; 0x7fa8a6410220
	5	[551]	GETUPVAL 	0 1	; self
	6	[551]	GETUPVAL 	0 2	; linked_filename
	7	[549]	CALL     	0 4 1
	8	[552]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:549,551> (6 instructions, 24 bytes at 0x7fa8a6410220)
0 params, 3 slots, 2 upvalues, 0 locals, 2 constants, 0 functions
	1	[550]	GETUPVAL 	0 0	; self
	2	[550]	GETTABLE 	0 0 -1	; "ui"
	3	[550]	SELF     	0 0 -2	; "switchDocument"
	4	[550]	GETUPVAL 	2 1	; linked_filename
	5	[550]	CALL     	0 3 1
	6	[551]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:571,685> (229 instructions, 916 bytes at 0x7fa8a6410130)
2 params, 19 slots, 9 upvalues, 21 locals, 48 constants, 6 functions
	1	[574]	NEWTABLE 	4 1 0
	2	[574]	NEWTABLE 	5 1 0
	3	[575]	NEWTABLE 	6 0 2
	4	[577]	GETUPVAL 	7 0	; _
	5	[577]	LOADK    	8 -2	; "Cancel"
	6	[577]	CALL     	7 2 2
	7	[577]	SETTABLE 	6 -1 7	; "text" -
	8	[580]	CLOSURE  	7 0	; 0x7fa8a64107d0
	9	[580]	GETUPVAL 	0 1	; UIManager
	10	[580]	MOVE     	0 3
	11	[580]	SETTABLE 	6 -3 7	; "callback" -
	12	[582]	SETLIST  	5 1 1	; 1
	13	[583]	SETLIST  	4 1 1	; 1
	14	[591]	CLOSURE  	5 1	; 0x7fa8a6410db0
	15	[591]	MOVE     	0 4
	16	[593]	NEWTABLE 	6 0 0
	17	[594]	GETTABLE 	7 0 -4	; "ui"
	18	[594]	GETTABLE 	7 7 -5	; "wallabag"
	19	[594]	TEST     	7 0 0
	20	[594]	JMP      	16	; to 37
	21	[595]	GETGLOBAL	7 -6	; table
	22	[595]	GETTABLE 	7 7 -7	; "insert"
	23	[595]	MOVE     	8 6
	24	[595]	NEWTABLE 	9 0 2
	25	[596]	GETUPVAL 	10 0	; _
	26	[596]	LOADK    	11 -8	; "Add to Wallabag"
	27	[596]	CALL     	10 2 2
	28	[596]	SETTABLE 	9 -1 10	; "text" -
	29	[600]	CLOSURE  	10 2	; 0x7fa8a6410d30
	30	[600]	GETUPVAL 	0 1	; UIManager
	31	[600]	MOVE     	0 3
	32	[600]	MOVE     	0 0
	33	[600]	GETUPVAL 	0 2	; Event
	34	[600]	MOVE     	0 1
	35	[600]	SETTABLE 	9 -3 10	; "callback" -
	36	[595]	CALL     	7 3 1
	37	[603]	GETUPVAL 	7 3	; Device
	38	[603]	SELF     	7 7 -9	; "canOpenLink"
	39	[603]	CALL     	7 2 2
	40	[603]	TEST     	7 0 0
	41	[603]	JMP      	15	; to 57
	42	[604]	GETGLOBAL	7 -6	; table
	43	[604]	GETTABLE 	7 7 -7	; "insert"
	44	[604]	MOVE     	8 6
	45	[604]	NEWTABLE 	9 0 2
	46	[605]	GETUPVAL 	10 0	; _
	47	[605]	LOADK    	11 -10	; "Open in browser"
	48	[605]	CALL     	10 2 2
	49	[605]	SETTABLE 	9 -1 10	; "text" -
	50	[609]	CLOSURE  	10 3	; 0x7fa8a6410c80
	51	[609]	GETUPVAL 	0 1	; UIManager
	52	[609]	MOVE     	0 3
	53	[609]	GETUPVAL 	0 3	; Device
	54	[609]	MOVE     	0 1
	55	[609]	SETTABLE 	9 -3 10	; "callback" -
	56	[604]	CALL     	7 3 1
	57	[614]	SELF     	7 1 -11	; "match"
	58	[614]	LOADK    	9 -12	; "https?://([^%.]+).wikipedia.org/wiki/([^/]+)"
	59	[614]	CALL     	7 3 3
	60	[615]	TEST     	7 0 0
	61	[615]	JMP      	129	; to 191
	62	[615]	TEST     	8 0 0
	63	[615]	JMP      	127	; to 191
	64	[616]	GETUPVAL 	9 4	; logger
	65	[616]	GETTABLE 	9 9 -13	; "dbg"
	66	[616]	LOADK    	10 -14	; "Wikipedia link:"
	67	[616]	MOVE     	11 7
	68	[616]	MOVE     	12 8
	69	[616]	CALL     	9 4 1
	70	[621]	GETUPVAL 	9 5	; util
	71	[621]	GETTABLE 	9 9 -15	; "getSafeFilename"
	72	[621]	SELF     	10 8 -16	; "gsub"
	73	[621]	LOADK    	12 -17	; "_"
	74	[621]	LOADK    	13 -18	; " "
	75	[621]	CALL     	10 4 0
	76	[621]	CALL     	9 0 2
	77	[621]	LOADK    	10 -19	; "."
	78	[621]	GETGLOBAL	11 -20	; string
	79	[621]	GETTABLE 	11 11 -21	; "upper"
	80	[621]	MOVE     	12 7
	81	[621]	CALL     	11 2 2
	82	[621]	LOADK    	12 -22	; ".epub"
	83	[621]	CONCAT   	9 9 12
	84	[622]	LOADNIL  	10 10
	85	[624]	GETGLOBAL	11 -23	; G_reader_settings
	86	[624]	SELF     	11 11 -24	; "readSetting"
	87	[624]	LOADK    	13 -25	; "lastfile"
	88	[624]	CALL     	11 3 2
	89	[625]	TEST     	11 0 0
	90	[625]	JMP      	14	; to 105
	91	[626]	SELF     	12 11 -11	; "match"
	92	[626]	LOADK    	14 -26	; "(.*)/"
	93	[626]	CALL     	12 3 2
	94	[627]	MOVE     	13 12
	95	[627]	LOADK    	14 -27	; "/"
	96	[627]	MOVE     	15 9
	97	[627]	CONCAT   	13 13 15
	98	[628]	GETUPVAL 	14 5	; util
	99	[628]	GETTABLE 	14 14 -28	; "pathExists"
	100	[628]	MOVE     	15 13
	101	[628]	CALL     	14 2 2
	102	[628]	TEST     	14 0 0
	103	[628]	JMP      	1	; to 105
	104	[629]	MOVE     	10 13
	105	[633]	TEST     	10 0 1
	106	[633]	JMP      	32	; to 139
	107	[634]	GETGLOBAL	12 -23	; G_reader_settings
	108	[634]	SELF     	12 12 -24	; "readSetting"
	109	[634]	LOADK    	14 -29	; "wikipedia_save_dir"
	110	[634]	CALL     	12 3 2
	111	[635]	TEST     	12 0 1
	112	[635]	JMP      	5	; to 118
	113	[635]	GETGLOBAL	13 -23	; G_reader_settings
	114	[635]	SELF     	13 13 -24	; "readSetting"
	115	[635]	LOADK    	15 -30	; "home_dir"
	116	[635]	CALL     	13 3 2
	117	[635]	MOVE     	12 13
	118	[636]	TEST     	12 0 1
	119	[636]	JMP      	6	; to 126
	120	[636]	GETGLOBAL	13 -31	; require
	121	[636]	LOADK    	14 -32	; "apps/filemanager/filemanagerutil"
	122	[636]	CALL     	13 2 2
	123	[636]	GETTABLE 	13 13 -33	; "getDefaultDir"
	124	[636]	CALL     	13 1 2
	125	[636]	MOVE     	12 13
	126	[637]	TEST     	12 0 0
	127	[637]	JMP      	11	; to 139
	128	[638]	MOVE     	13 12
	129	[638]	LOADK    	14 -27	; "/"
	130	[638]	MOVE     	15 9
	131	[638]	CONCAT   	13 13 15
	132	[639]	GETUPVAL 	14 5	; util
	133	[639]	GETTABLE 	14 14 -28	; "pathExists"
	134	[639]	MOVE     	15 13
	135	[639]	CALL     	14 2 2
	136	[639]	TEST     	14 0 0
	137	[639]	JMP      	1	; to 139
	138	[640]	MOVE     	10 13
	139	[644]	GETUPVAL 	12 6	; T
	140	[644]	GETUPVAL 	13 0	; _
	141	[644]	LOADK    	14 -34	; "Would you like to read this Wikipedia %1 article?\n\n%2\n"
	142	[644]	CALL     	13 2 2
	143	[644]	SELF     	14 7 -21	; "upper"
	144	[644]	CALL     	14 2 2
	145	[644]	SELF     	15 8 -16	; "gsub"
	146	[644]	LOADK    	17 -17	; "_"
	147	[644]	LOADK    	18 -18	; " "
	148	[644]	CALL     	15 4 0
	149	[644]	CALL     	12 0 2
	150	[644]	MOVE     	2 12
	151	[645]	MOVE     	12 5
	152	[645]	NEWTABLE 	13 0 2
	153	[646]	GETUPVAL 	14 0	; _
	154	[646]	LOADK    	15 -35	; "Read online"
	155	[646]	CALL     	14 2 2
	156	[646]	SETTABLE 	13 -1 14	; "text" -
	157	[652]	CLOSURE  	14 4	; 0x7fa8a640b470
	158	[652]	GETUPVAL 	0 1	; UIManager
	159	[652]	MOVE     	0 3
	160	[652]	MOVE     	0 0
	161	[652]	GETUPVAL 	0 2	; Event
	162	[652]	MOVE     	0 8
	163	[652]	MOVE     	0 7
	164	[652]	SETTABLE 	13 -3 14	; "callback" -
	165	[645]	CALL     	12 2 1
	166	[654]	TEST     	10 0 0
	167	[654]	JMP      	21	; to 189
	168	[655]	GETUPVAL 	12 6	; T
	169	[655]	LOADK    	13 -36	; "%1\n%2"
	170	[655]	MOVE     	14 2
	171	[655]	GETUPVAL 	15 0	; _
	172	[655]	LOADK    	16 -37	; "This article has previously been saved as EPUB. You may wish to read the saved EPUB instead."
	173	[655]	CALL     	15 2 0
	174	[655]	CALL     	12 0 2
	175	[655]	MOVE     	2 12
	176	[656]	MOVE     	12 5
	177	[656]	NEWTABLE 	13 0 2
	178	[657]	GETUPVAL 	14 0	; _
	179	[657]	LOADK    	15 -38	; "Read EPUB"
	180	[657]	CALL     	14 2 2
	181	[657]	SETTABLE 	13 -1 14	; "text" -
	182	[663]	CLOSURE  	14 5	; 0x7fa8a6410fe0
	183	[663]	GETUPVAL 	0 1	; UIManager
	184	[663]	MOVE     	0 3
	185	[663]	MOVE     	0 0
	186	[663]	MOVE     	0 10
	187	[663]	SETTABLE 	13 -3 14	; "callback" -
	188	[656]	CALL     	12 2 1
	189	[665]	CLOSE    	9
	190	[665]	JMP      	15	; to 206
	191	[667]	LEN      	9 6
	192	[667]	EQ       	0 9 -39	; - 0
	193	[667]	JMP      	2	; to 196
	194	[669]	LOADBOOL 	9 0 0
	195	[669]	RETURN   	9 2
	196	[671]	GETUPVAL 	9 6	; T
	197	[671]	GETUPVAL 	10 0	; _
	198	[671]	LOADK    	11 -40	; "External link:\n\n%1"
	199	[671]	CALL     	10 2 2
	200	[671]	GETUPVAL 	11 7	; BD
	201	[671]	GETTABLE 	11 11 -41	; "url"
	202	[671]	MOVE     	12 1
	203	[671]	CALL     	11 2 0
	204	[671]	CALL     	9 0 2
	205	[671]	MOVE     	2 9
	206	[675]	GETGLOBAL	9 -42	; ipairs
	207	[675]	MOVE     	10 6
	208	[675]	CALL     	9 2 4
	209	[675]	JMP      	3	; to 213
	210	[676]	MOVE     	14 5
	211	[676]	MOVE     	15 13
	212	[676]	CALL     	14 2 1
	213	[675]	TFORLOOP 	9 2
	214	[676]	JMP      	-5	; to 210
	215	[678]	GETUPVAL 	9 8	; ButtonDialogTitle
	216	[678]	SELF     	9 9 -43	; "new"
	217	[678]	NEWTABLE 	11 0 3
	218	[679]	SETTABLE 	11 -44 2	; "title" -
	219	[680]	SETTABLE 	11 -45 -46	; "use_info_style" true
	220	[681]	SETTABLE 	11 -47 4	; "buttons" -
	221	[678]	CALL     	9 3 2
	222	[682]	MOVE     	3 9
	223	[683]	GETUPVAL 	9 1	; UIManager
	224	[683]	SELF     	9 9 -48	; "show"
	225	[683]	MOVE     	11 3
	226	[683]	CALL     	9 3 1
	227	[684]	LOADBOOL 	9 1 0
	228	[684]	RETURN   	9 2
	229	[685]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:578,580> (5 instructions, 20 bytes at 0x7fa8a64107d0)
0 params, 3 slots, 2 upvalues, 0 locals, 1 constant, 0 functions
	1	[579]	GETUPVAL 	0 0	; UIManager
	2	[579]	SELF     	0 0 -1	; "close"
	3	[579]	GETUPVAL 	2 1	; dialog
	4	[579]	CALL     	0 3 1
	5	[580]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:584,591> (21 instructions, 84 bytes at 0x7fa8a6410db0)
1 param, 4 slots, 1 upvalue, 1 local, 3 constants, 0 functions
	1	[585]	GETUPVAL 	1 0	; buttons
	2	[585]	GETUPVAL 	2 0	; buttons
	3	[585]	LEN      	2 2
	4	[585]	GETTABLE 	1 1 2
	5	[585]	LEN      	1 1
	6	[585]	LE       	0 -1 1	; 2 -
	7	[585]	JMP      	5	; to 13
	8	[587]	GETGLOBAL	1 -2	; table
	9	[587]	GETTABLE 	1 1 -3	; "insert"
	10	[587]	GETUPVAL 	2 0	; buttons
	11	[587]	NEWTABLE 	3 0 0
	12	[587]	CALL     	1 3 1
	13	[590]	GETGLOBAL	1 -2	; table
	14	[590]	GETTABLE 	1 1 -3	; "insert"
	15	[590]	GETUPVAL 	2 0	; buttons
	16	[590]	GETUPVAL 	3 0	; buttons
	17	[590]	LEN      	3 3
	18	[590]	GETTABLE 	2 2 3
	19	[590]	MOVE     	3 0
	20	[590]	CALL     	1 3 1
	21	[591]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:597,600> (14 instructions, 56 bytes at 0x7fa8a6410d30)
0 params, 6 slots, 5 upvalues, 0 locals, 5 constants, 0 functions
	1	[598]	GETUPVAL 	0 0	; UIManager
	2	[598]	SELF     	0 0 -1	; "close"
	3	[598]	GETUPVAL 	2 1	; dialog
	4	[598]	CALL     	0 3 1
	5	[599]	GETUPVAL 	0 2	; self
	6	[599]	GETTABLE 	0 0 -2	; "ui"
	7	[599]	SELF     	0 0 -3	; "handleEvent"
	8	[599]	GETUPVAL 	2 3	; Event
	9	[599]	SELF     	2 2 -4	; "new"
	10	[599]	LOADK    	4 -5	; "AddWallabagArticle"
	11	[599]	GETUPVAL 	5 4	; link_url
	12	[599]	CALL     	2 4 0
	13	[599]	CALL     	0 0 1
	14	[600]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:606,609> (9 instructions, 36 bytes at 0x7fa8a6410c80)
0 params, 3 slots, 4 upvalues, 0 locals, 2 constants, 0 functions
	1	[607]	GETUPVAL 	0 0	; UIManager
	2	[607]	SELF     	0 0 -1	; "close"
	3	[607]	GETUPVAL 	2 1	; dialog
	4	[607]	CALL     	0 3 1
	5	[608]	GETUPVAL 	0 2	; Device
	6	[608]	SELF     	0 0 -2	; "openLink"
	7	[608]	GETUPVAL 	2 3	; link_url
	8	[608]	CALL     	0 3 1
	9	[609]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:647,652> (11 instructions, 44 bytes at 0x7fa8a640b470)
0 params, 3 slots, 6 upvalues, 0 locals, 1 constant, 1 function
	1	[648]	GETUPVAL 	0 0	; UIManager
	2	[648]	SELF     	0 0 -1	; "nextTick"
	3	[651]	CLOSURE  	2 0	; 0x7fa8a640e6d0
	4	[651]	GETUPVAL 	0 0	; UIManager
	5	[651]	GETUPVAL 	0 1	; dialog
	6	[651]	GETUPVAL 	0 2	; self
	7	[651]	GETUPVAL 	0 3	; Event
	8	[651]	GETUPVAL 	0 4	; wiki_page
	9	[651]	GETUPVAL 	0 5	; wiki_lang
	10	[648]	CALL     	0 3 1
	11	[652]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:648,651> (17 instructions, 68 bytes at 0x7fa8a640e6d0)
0 params, 9 slots, 6 upvalues, 0 locals, 5 constants, 0 functions
	1	[649]	GETUPVAL 	0 0	; UIManager
	2	[649]	SELF     	0 0 -1	; "close"
	3	[649]	GETUPVAL 	2 1	; dialog
	4	[649]	CALL     	0 3 1
	5	[650]	GETUPVAL 	0 2	; self
	6	[650]	GETTABLE 	0 0 -2	; "ui"
	7	[650]	SELF     	0 0 -3	; "handleEvent"
	8	[650]	GETUPVAL 	2 3	; Event
	9	[650]	SELF     	2 2 -4	; "new"
	10	[650]	LOADK    	4 -5	; "LookupWikipedia"
	11	[650]	GETUPVAL 	5 4	; wiki_page
	12	[650]	LOADBOOL 	6 0 0
	13	[650]	LOADBOOL 	7 1 0
	14	[650]	GETUPVAL 	8 5	; wiki_lang
	15	[650]	CALL     	2 7 0
	16	[650]	CALL     	0 0 1
	17	[651]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:658,663> (10 instructions, 40 bytes at 0x7fa8a6410fe0)
0 params, 4 slots, 4 upvalues, 0 locals, 2 constants, 1 function
	1	[659]	GETUPVAL 	0 0	; UIManager
	2	[659]	SELF     	0 0 -1	; "scheduleIn"
	3	[659]	LOADK    	2 -2	; 0.1
	4	[662]	CLOSURE  	3 0	; 0x7fa8a640d900
	5	[662]	GETUPVAL 	0 0	; UIManager
	6	[662]	GETUPVAL 	0 1	; dialog
	7	[662]	GETUPVAL 	0 2	; self
	8	[662]	GETUPVAL 	0 3	; epub_fullpath
	9	[659]	CALL     	0 4 1
	10	[663]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:659,662> (10 instructions, 40 bytes at 0x7fa8a640d900)
0 params, 3 slots, 4 upvalues, 0 locals, 3 constants, 0 functions
	1	[660]	GETUPVAL 	0 0	; UIManager
	2	[660]	SELF     	0 0 -1	; "close"
	3	[660]	GETUPVAL 	2 1	; dialog
	4	[660]	CALL     	0 3 1
	5	[661]	GETUPVAL 	0 2	; self
	6	[661]	GETTABLE 	0 0 -2	; "ui"
	7	[661]	SELF     	0 0 -3	; "switchDocument"
	8	[661]	GETUPVAL 	2 3	; epub_fullpath
	9	[661]	CALL     	0 3 1
	10	[662]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:688,700> (37 instructions, 148 bytes at 0x7fa8a64092c0)
2 params, 10 slots, 5 upvalues, 3 locals, 14 constants, 0 functions
	1	[689]	GETGLOBAL	2 -1	; table
	2	[689]	GETTABLE 	2 2 -2	; "remove"
	3	[689]	GETTABLE 	3 0 -3	; "location_stack"
	4	[689]	CALL     	2 2 2
	5	[690]	TEST     	2 0 0
	6	[690]	JMP      	16	; to 23
	7	[691]	GETUPVAL 	3 0	; logger
	8	[691]	GETTABLE 	3 3 -4	; "dbg"
	9	[691]	LOADK    	4 -5	; "GoBack: restoring:"
	10	[691]	MOVE     	5 2
	11	[691]	CALL     	3 3 1
	12	[692]	GETTABLE 	3 0 -6	; "ui"
	13	[692]	SELF     	3 3 -7	; "handleEvent"
	14	[692]	GETUPVAL 	5 1	; Event
	15	[692]	SELF     	5 5 -8	; "new"
	16	[692]	LOADK    	7 -9	; "RestoreBookLocation"
	17	[692]	MOVE     	8 2
	18	[692]	CALL     	5 4 0
	19	[692]	CALL     	3 0 1
	20	[693]	LOADBOOL 	3 1 0
	21	[693]	RETURN   	3 2
	22	[693]	JMP      	14	; to 37
	23	[694]	TEST     	1 0 0
	24	[694]	JMP      	12	; to 37
	25	[695]	GETUPVAL 	3 2	; UIManager
	26	[695]	SELF     	3 3 -10	; "show"
	27	[695]	GETUPVAL 	5 3	; Notification
	28	[695]	SELF     	5 5 -8	; "new"
	29	[695]	NEWTABLE 	7 0 2
	30	[696]	GETUPVAL 	8 4	; _
	31	[696]	LOADK    	9 -12	; "Location history is empty."
	32	[696]	CALL     	8 2 2
	33	[696]	SETTABLE 	7 -11 8	; "text" -
	34	[697]	SETTABLE 	7 -13 -14	; "timeout" 2
	35	[695]	CALL     	5 3 0
	36	[695]	CALL     	3 0 1
	37	[700]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:702,736> (71 instructions, 284 bytes at 0x7fa8a6411d30)
3 params, 11 slots, 9 upvalues, 5 locals, 18 constants, 0 functions
	1	[703]	GETUPVAL 	3 0	; BD
	2	[703]	GETTABLE 	3 3 -1	; "flipDirectionIfMirroredUILayout"
	3	[703]	GETTABLE 	4 2 -2	; "direction"
	4	[703]	CALL     	3 2 2
	5	[704]	EQ       	0 3 -3	; - "east"
	6	[704]	JMP      	38	; to 45
	7	[705]	GETUPVAL 	4 1	; isSwipeToGoBackEnabled
	8	[705]	CALL     	4 1 2
	9	[705]	TEST     	4 0 0
	10	[705]	JMP      	60	; to 71
	11	[706]	GETTABLE 	4 0 -4	; "location_stack"
	12	[706]	LEN      	4 4
	13	[706]	LT       	0 -5 4	; 0 -
	14	[706]	JMP      	11	; to 26
	15	[711]	GETTABLE 	4 0 -4	; "location_stack"
	16	[711]	LEN      	4 4
	17	[711]	EQ       	1 4 -7	; - 1
	18	[711]	JMP      	1	; to 20
	19	[711]	LOADBOOL 	4 0 1
	20	[711]	LOADBOOL 	4 1 0
	21	[711]	SETTABLE 	0 -6 4	; "swipe_back_resist" -
	22	[712]	SELF     	4 0 -8	; "onGoBackLink"
	23	[712]	TAILCALL 	4 2 0
	24	[712]	RETURN   	4 0
	25	[712]	JMP      	45	; to 71
	26	[713]	GETTABLE 	4 0 -6	; "swipe_back_resist"
	27	[713]	TEST     	4 0 0
	28	[713]	JMP      	42	; to 71
	29	[714]	SETTABLE 	0 -6 -9	; "swipe_back_resist" false
	30	[717]	GETUPVAL 	4 2	; UIManager
	31	[717]	SELF     	4 4 -10	; "show"
	32	[717]	GETUPVAL 	6 3	; Notification
	33	[717]	SELF     	6 6 -11	; "new"
	34	[717]	NEWTABLE 	8 0 2
	35	[718]	GETUPVAL 	9 4	; _
	36	[718]	LOADK    	10 -13	; "Location history is empty."
	37	[718]	CALL     	9 2 2
	38	[718]	SETTABLE 	8 -12 9	; "text" -
	39	[719]	SETTABLE 	8 -14 -15	; "timeout" 2
	40	[717]	CALL     	6 3 0
	41	[717]	CALL     	4 0 1
	42	[721]	LOADBOOL 	4 1 0
	43	[721]	RETURN   	4 2
	44	[723]	JMP      	26	; to 71
	45	[724]	EQ       	0 3 -16	; - "west"
	46	[724]	JMP      	24	; to 71
	47	[725]	LOADBOOL 	4 0 0
	48	[726]	GETUPVAL 	5 5	; isSwipeToFollowNearestLinkEnabled
	49	[726]	CALL     	5 1 2
	50	[726]	TEST     	5 0 0
	51	[726]	JMP      	8	; to 60
	52	[727]	SELF     	5 0 -17	; "onGoToPageLink"
	53	[727]	MOVE     	7 2
	54	[727]	GETUPVAL 	8 6	; isSwipeIgnoreExternalLinksEnabled
	55	[727]	CALL     	8 1 2
	56	[727]	GETUPVAL 	9 7	; isFootnoteLinkInPopupEnabled
	57	[727]	CALL     	9 1 0
	58	[727]	CALL     	5 0 2
	59	[727]	MOVE     	4 5
	60	[731]	TEST     	4 0 1
	61	[731]	JMP      	8	; to 70
	62	[731]	GETUPVAL 	5 8	; isSwipeToJumpToLatestBookmarkEnabled
	63	[731]	CALL     	5 1 2
	64	[731]	TEST     	5 0 0
	65	[731]	JMP      	4	; to 70
	66	[732]	SELF     	5 0 -18	; "onGoToLatestBookmark"
	67	[732]	MOVE     	7 2
	68	[732]	CALL     	5 3 2
	69	[732]	MOVE     	4 5
	70	[734]	RETURN   	4 2
	71	[736]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:739,934> (280 instructions, 1120 bytes at 0x7fa8a64124f0)
5 params, 28 slots, 1 upvalue, 42 locals, 42 constants, 0 functions
	1	[744]	GETTABLE 	7 0 -1	; "ui"
	2	[744]	GETTABLE 	7 7 -2	; "document"
	3	[744]	GETTABLE 	7 7 -3	; "info"
	4	[744]	GETTABLE 	7 7 -4	; "has_pages"
	5	[744]	TEST     	7 0 0
	6	[744]	JMP      	73	; to 80
	7	[745]	GETTABLE 	7 0 -5	; "view"
	8	[745]	SELF     	7 7 -6	; "screenToPageTransform"
	9	[745]	GETTABLE 	9 1 -7	; "pos"
	10	[745]	CALL     	7 3 2
	11	[746]	TEST     	7 0 1
	12	[746]	JMP      	1	; to 14
	13	[747]	RETURN   	0 1
	14	[749]	GETTABLE 	8 0 -1	; "ui"
	15	[749]	GETTABLE 	8 8 -2	; "document"
	16	[749]	SELF     	8 8 -8	; "getPageLinks"
	17	[749]	GETTABLE 	10 7 -9	; "page"
	18	[749]	CALL     	8 3 2
	19	[750]	TEST     	8 0 0
	20	[750]	JMP      	3	; to 24
	21	[750]	LEN      	9 8
	22	[750]	EQ       	0 9 -10	; - 0
	23	[750]	JMP      	1	; to 25
	24	[751]	RETURN   	0 1
	25	[764]	GETTABLE 	9 7 -11	; "x"
	26	[764]	GETTABLE 	10 7 -12	; "y"
	27	[765]	LOADNIL  	11 11
	28	[766]	GETGLOBAL	12 -13	; ipairs
	29	[766]	MOVE     	13 8
	30	[766]	CALL     	12 2 4
	31	[766]	JMP      	42	; to 74
	32	[767]	TEST     	2 0 0
	33	[767]	JMP      	3	; to 37
	34	[767]	GETTABLE 	17 16 -9	; "page"
	35	[767]	TEST     	17 0 0
	36	[767]	JMP      	37	; to 74
	37	[768]	GETGLOBAL	17 -14	; math
	38	[768]	GETTABLE 	17 17 -15	; "pow"
	39	[768]	GETTABLE 	18 16 -16	; "x0"
	40	[768]	SUB      	18 18 9
	41	[768]	LOADK    	19 -17	; 2
	42	[768]	CALL     	17 3 2
	43	[768]	GETGLOBAL	18 -14	; math
	44	[768]	GETTABLE 	18 18 -15	; "pow"
	45	[768]	GETTABLE 	19 16 -18	; "y0"
	46	[768]	SUB      	19 19 10
	47	[768]	LOADK    	20 -17	; 2
	48	[768]	CALL     	18 3 2
	49	[768]	ADD      	17 17 18
	50	[769]	GETGLOBAL	18 -14	; math
	51	[769]	GETTABLE 	18 18 -15	; "pow"
	52	[769]	GETTABLE 	19 16 -19	; "x1"
	53	[769]	SUB      	19 19 9
	54	[769]	LOADK    	20 -17	; 2
	55	[769]	CALL     	18 3 2
	56	[769]	GETGLOBAL	19 -14	; math
	57	[769]	GETTABLE 	19 19 -15	; "pow"
	58	[769]	GETTABLE 	20 16 -20	; "y1"
	59	[769]	SUB      	20 20 10
	60	[769]	LOADK    	21 -17	; 2
	61	[769]	CALL     	19 3 2
	62	[769]	ADD      	18 18 19
	63	[770]	GETGLOBAL	19 -14	; math
	64	[770]	GETTABLE 	19 19 -21	; "min"
	65	[770]	MOVE     	20 17
	66	[770]	MOVE     	21 18
	67	[770]	CALL     	19 3 2
	68	[771]	EQ       	1 11 -22	; - nil
	69	[771]	JMP      	2	; to 72
	70	[771]	LT       	0 19 11
	71	[771]	JMP      	2	; to 74
	72	[774]	MOVE     	5 16
	73	[775]	MOVE     	11 19
	74	[766]	TFORLOOP 	12 2
	75	[777]	JMP      	-44	; to 32
	76	[779]	TEST     	11 0 0
	77	[779]	JMP      	178	; to 256
	78	[780]	MOVE     	6 11
	79	[781]	JMP      	176	; to 256
	80	[790]	GETTABLE 	7 0 -1	; "ui"
	81	[790]	GETTABLE 	7 7 -2	; "document"
	82	[790]	SELF     	7 7 -8	; "getPageLinks"
	83	[790]	MOVE     	9 2
	84	[790]	CALL     	7 3 2
	85	[791]	TEST     	7 0 0
	86	[791]	JMP      	3	; to 90
	87	[791]	LEN      	8 7
	88	[791]	EQ       	0 8 -10	; - 0
	89	[791]	JMP      	1	; to 91
	90	[792]	RETURN   	0 1
	91	[839]	GETTABLE 	8 1 -7	; "pos"
	92	[839]	GETTABLE 	8 8 -11	; "x"
	93	[839]	GETTABLE 	9 1 -7	; "pos"
	94	[839]	GETTABLE 	9 9 -12	; "y"
	95	[840]	LOADNIL  	10 10
	96	[841]	GETGLOBAL	11 -13	; ipairs
	97	[841]	MOVE     	12 7
	98	[841]	CALL     	11 2 4
	99	[841]	JMP      	120	; to 220
	100	[843]	GETTABLE 	16 15 -23	; "section"
	101	[843]	TEST     	16 0 1
	102	[843]	JMP      	6	; to 109
	103	[843]	GETTABLE 	16 15 -24	; "uri"
	104	[843]	TEST     	16 0 0
	105	[843]	JMP      	114	; to 220
	106	[843]	GETTABLE 	16 15 -24	; "uri"
	107	[843]	EQ       	1 16 -25	; - ""
	108	[843]	JMP      	111	; to 220
	109	[844]	GETTABLE 	16 15 -26	; "segments"
	110	[844]	TEST     	16 0 0
	111	[844]	JMP      	69	; to 181
	112	[848]	LOADK    	16 -27	; -1
	113	[849]	LOADBOOL 	17 0 0
	114	[850]	GETTABLE 	18 15 -26	; "segments"
	115	[851]	LOADK    	19 -28	; 1
	116	[851]	LEN      	20 18
	117	[851]	LOADK    	21 -28	; 1
	118	[851]	FORPREP  	19 57	; to 176
	119	[852]	GETTABLE 	23 18 22
	120	[853]	LOADNIL  	24 24
	121	[857]	GETTABLE 	25 23 -18	; "y0"
	122	[857]	LT       	0 9 25
	123	[857]	JMP      	8	; to 132
	124	[858]	GETGLOBAL	25 -14	; math
	125	[858]	GETTABLE 	25 25 -15	; "pow"
	126	[858]	GETTABLE 	26 23 -18	; "y0"
	127	[858]	SUB      	26 26 9
	128	[858]	LOADK    	27 -17	; 2
	129	[858]	CALL     	25 3 2
	130	[858]	MOVE     	24 25
	131	[858]	JMP      	12	; to 144
	132	[859]	GETTABLE 	25 23 -20	; "y1"
	133	[859]	LT       	0 25 9
	134	[859]	JMP      	8	; to 143
	135	[860]	GETGLOBAL	25 -14	; math
	136	[860]	GETTABLE 	25 25 -15	; "pow"
	137	[860]	GETTABLE 	26 23 -20	; "y1"
	138	[860]	SUB      	26 9 26
	139	[860]	LOADK    	27 -17	; 2
	140	[860]	CALL     	25 3 2
	141	[860]	MOVE     	24 25
	142	[860]	JMP      	1	; to 144
	143	[862]	LOADK    	24 -10	; 0
	144	[865]	GETTABLE 	25 23 -16	; "x0"
	145	[865]	LT       	0 8 25
	146	[865]	JMP      	8	; to 155
	147	[866]	GETGLOBAL	25 -14	; math
	148	[866]	GETTABLE 	25 25 -15	; "pow"
	149	[866]	GETTABLE 	26 23 -16	; "x0"
	150	[866]	SUB      	26 26 8
	151	[866]	LOADK    	27 -17	; 2
	152	[866]	CALL     	25 3 2
	153	[866]	ADD      	24 24 25
	154	[866]	JMP      	10	; to 165
	155	[867]	GETTABLE 	25 23 -19	; "x1"
	156	[867]	LT       	0 25 8
	157	[867]	JMP      	7	; to 165
	158	[868]	GETGLOBAL	25 -14	; math
	159	[868]	GETTABLE 	25 25 -15	; "pow"
	160	[868]	GETTABLE 	26 23 -19	; "x1"
	161	[868]	SUB      	26 8 26
	162	[868]	LOADK    	27 -17	; 2
	163	[868]	CALL     	25 3 2
	164	[868]	ADD      	24 24 25
	165	[871]	EQ       	1 10 -22	; - nil
	166	[871]	JMP      	2	; to 169
	167	[871]	LT       	0 24 10
	168	[871]	JMP      	3	; to 172
	169	[872]	MOVE     	5 15
	170	[873]	MOVE     	10 24
	171	[874]	LOADBOOL 	17 1 0
	172	[876]	GETTABLE 	25 23 -20	; "y1"
	173	[876]	LT       	0 16 25
	174	[876]	JMP      	1	; to 176
	175	[877]	GETTABLE 	16 23 -20	; "y1"
	176	[851]	FORLOOP  	19 -58	; to 119
	177	[880]	TEST     	17 0 0
	178	[880]	JMP      	41	; to 220
	179	[882]	SETTABLE 	5 -29 16	; "link_y" -
	180	[883]	JMP      	39	; to 220
	181	[891]	GETGLOBAL	16 -14	; math
	182	[891]	GETTABLE 	16 16 -15	; "pow"
	183	[891]	GETTABLE 	17 15 -30	; "start_x"
	184	[891]	SUB      	17 17 8
	185	[891]	LOADK    	18 -17	; 2
	186	[891]	CALL     	16 3 2
	187	[891]	GETGLOBAL	17 -14	; math
	188	[891]	GETTABLE 	17 17 -15	; "pow"
	189	[891]	GETTABLE 	18 15 -31	; "start_y"
	190	[891]	SUB      	18 18 9
	191	[891]	LOADK    	19 -17	; 2
	192	[891]	CALL     	17 3 2
	193	[891]	ADD      	16 16 17
	194	[892]	GETGLOBAL	17 -14	; math
	195	[892]	GETTABLE 	17 17 -15	; "pow"
	196	[892]	GETTABLE 	18 15 -32	; "end_x"
	197	[892]	SUB      	18 18 8
	198	[892]	LOADK    	19 -17	; 2
	199	[892]	CALL     	17 3 2
	200	[892]	GETGLOBAL	18 -14	; math
	201	[892]	GETTABLE 	18 18 -15	; "pow"
	202	[892]	GETTABLE 	19 15 -33	; "end_y"
	203	[892]	SUB      	19 19 9
	204	[892]	LOADK    	20 -17	; 2
	205	[892]	CALL     	18 3 2
	206	[892]	ADD      	17 17 18
	207	[893]	GETGLOBAL	18 -14	; math
	208	[893]	GETTABLE 	18 18 -21	; "min"
	209	[893]	MOVE     	19 16
	210	[893]	MOVE     	20 17
	211	[893]	CALL     	18 3 2
	212	[894]	EQ       	1 10 -22	; - nil
	213	[894]	JMP      	2	; to 216
	214	[894]	LT       	0 18 10
	215	[894]	JMP      	4	; to 220
	216	[895]	MOVE     	5 15
	217	[896]	GETTABLE 	19 15 -33	; "end_y"
	218	[896]	SETTABLE 	5 -29 19	; "link_y" -
	219	[897]	MOVE     	10 18
	220	[841]	TFORLOOP 	11 2
	221	[900]	JMP      	-122	; to 100
	222	[902]	TEST     	10 0 0
	223	[902]	JMP      	1	; to 225
	224	[903]	MOVE     	6 10
	225	[906]	TEST     	5 0 0
	226	[906]	JMP      	29	; to 256
	227	[907]	GETUPVAL 	11 0	; logger
	228	[907]	GETTABLE 	11 11 -34	; "dbg"
	229	[907]	LOADK    	12 -35	; "nearest selected_link"
	230	[907]	MOVE     	13 5
	231	[907]	CALL     	11 3 1
	232	[909]	LOADNIL  	11 11
	233	[910]	GETTABLE 	12 5 -36	; "a_xpointer"
	234	[910]	TEST     	12 0 0
	235	[910]	JMP      	6	; to 242
	236	[910]	SELF     	12 0 -37	; "isXpointerCoherent"
	237	[910]	GETTABLE 	14 5 -36	; "a_xpointer"
	238	[910]	CALL     	12 3 2
	239	[910]	TEST     	12 0 0
	240	[910]	JMP      	1	; to 242
	241	[911]	GETTABLE 	11 5 -36	; "a_xpointer"
	242	[914]	NEWTABLE 	12 0 5
	243	[915]	GETTABLE 	13 5 -23	; "section"
	244	[915]	TEST     	13 0 1
	245	[915]	JMP      	1	; to 247
	246	[915]	GETTABLE 	13 5 -24	; "uri"
	247	[915]	SETTABLE 	12 -38 13	; "xpointer" -
	248	[916]	GETTABLE 	13 5 -23	; "section"
	249	[916]	SETTABLE 	12 -39 13	; "marker_xpointer" -
	250	[917]	SETTABLE 	12 -40 11	; "from_xpointer" -
	251	[920]	GETTABLE 	13 5 -36	; "a_xpointer"
	252	[920]	SETTABLE 	12 -36 13	; "a_xpointer" -
	253	[923]	GETTABLE 	13 5 -29	; "link_y"
	254	[923]	SETTABLE 	12 -29 13	; "link_y" -
	255	[924]	MOVE     	5 12
	256	[927]	TEST     	5 0 0
	257	[927]	JMP      	22	; to 280
	258	[928]	TEST     	4 0 0
	259	[928]	JMP      	14	; to 274
	260	[928]	TEST     	6 0 0
	261	[928]	JMP      	12	; to 274
	262	[928]	GETGLOBAL	7 -14	; math
	263	[928]	GETTABLE 	7 7 -15	; "pow"
	264	[928]	MOVE     	8 4
	265	[928]	LOADK    	9 -17	; 2
	266	[928]	CALL     	7 3 2
	267	[928]	LT       	0 7 6
	268	[928]	JMP      	5	; to 274
	269	[929]	GETUPVAL 	7 0	; logger
	270	[929]	GETTABLE 	7 7 -34	; "dbg"
	271	[929]	LOADK    	8 -41	; "nearest link is further than max distance, ignoring it"
	272	[929]	CALL     	7 2 1
	273	[929]	JMP      	6	; to 280
	274	[931]	SELF     	7 0 -42	; "onGotoLink"
	275	[931]	MOVE     	9 5
	276	[931]	LOADBOOL 	10 0 0
	277	[931]	MOVE     	11 3
	278	[931]	TAILCALL 	7 5 0
	279	[931]	RETURN   	7 0
	280	[934]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:936,963> (41 instructions, 164 bytes at 0x7fa8a64121d0)
2 params, 7 slots, 0 upvalues, 5 locals, 12 constants, 0 functions
	1	[937]	GETTABLE 	2 0 -1	; "ui"
	2	[937]	GETTABLE 	2 2 -2	; "bookmark"
	3	[937]	SELF     	2 2 -3	; "getLatestBookmark"
	4	[937]	CALL     	2 2 2
	5	[938]	TEST     	2 0 0
	6	[938]	JMP      	34	; to 41
	7	[939]	GETTABLE 	3 0 -1	; "ui"
	8	[939]	GETTABLE 	3 3 -4	; "document"
	9	[939]	GETTABLE 	3 3 -5	; "info"
	10	[939]	GETTABLE 	3 3 -6	; "has_pages"
	11	[939]	TEST     	3 0 0
	12	[939]	JMP      	9	; to 22
	13	[944]	NEWTABLE 	3 0 0
	14	[945]	GETTABLE 	4 2 -7	; "page"
	15	[945]	SUB      	4 4 -8	; - 1
	16	[945]	SETTABLE 	3 -7 4	; "page" -
	17	[946]	SELF     	4 0 -9	; "onGotoLink"
	18	[946]	MOVE     	6 3
	19	[946]	TAILCALL 	4 3 0
	20	[946]	RETURN   	4 0
	21	[946]	JMP      	19	; to 41
	22	[949]	LOADNIL  	3 3
	23	[950]	GETTABLE 	4 2 -10	; "pos0"
	24	[950]	TEST     	4 0 0
	25	[950]	JMP      	7	; to 33
	26	[951]	NEWTABLE 	4 0 2
	27	[952]	GETTABLE 	5 2 -10	; "pos0"
	28	[952]	SETTABLE 	4 -11 5	; "xpointer" -
	29	[953]	GETTABLE 	5 2 -10	; "pos0"
	30	[953]	SETTABLE 	4 -12 5	; "marker_xpointer" -
	31	[954]	MOVE     	3 4
	32	[954]	JMP      	4	; to 37
	33	[956]	NEWTABLE 	4 0 1
	34	[957]	GETTABLE 	5 2 -7	; "page"
	35	[957]	SETTABLE 	4 -11 5	; "xpointer" -
	36	[958]	MOVE     	3 4
	37	[960]	SELF     	4 0 -9	; "onGotoLink"
	38	[960]	MOVE     	6 3
	39	[960]	TAILCALL 	4 3 0
	40	[960]	RETURN   	4 0
	41	[963]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:965,1171> (197 instructions, 788 bytes at 0x7fa8a6412c20)
3 params, 23 slots, 4 upvalues, 17 locals, 54 constants, 3 functions
	1	[966]	GETTABLE 	3 0 -1	; "ui"
	2	[966]	GETTABLE 	3 3 -2	; "document"
	3	[966]	GETTABLE 	3 3 -3	; "info"
	4	[966]	GETTABLE 	3 3 -4	; "has_pages"
	5	[966]	TEST     	3 0 0
	6	[966]	JMP      	2	; to 9
	7	[967]	LOADBOOL 	3 0 0
	8	[967]	RETURN   	3 2
	9	[970]	GETTABLE 	3 1 -5	; "from_xpointer"
	10	[970]	TEST     	3 0 1
	11	[970]	JMP      	1	; to 13
	12	[970]	GETTABLE 	3 1 -6	; "a_xpointer"
	13	[971]	GETTABLE 	4 1 -7	; "xpointer"
	14	[972]	TEST     	3 0 0
	15	[972]	JMP      	2	; to 18
	16	[972]	TEST     	4 0 1
	17	[972]	JMP      	2	; to 20
	18	[973]	LOADBOOL 	5 0 0
	19	[973]	RETURN   	5 2
	20	[975]	GETTABLE 	5 1 -5	; "from_xpointer"
	21	[975]	EQ       	0 5 -8	; - nil
	22	[975]	JMP      	1	; to 24
	23	[975]	LOADBOOL 	5 0 1
	24	[975]	LOADBOOL 	5 1 0
	25	[991]	LOADK    	6 -9	; 0
	26	[994]	GETUPVAL 	7 0	; isPreferFootnoteEnabled
	27	[994]	CALL     	7 1 2
	28	[994]	TEST     	7 0 0
	29	[994]	JMP      	1	; to 31
	30	[995]	ADD      	6 6 -10	; - 1
	31	[998]	TEST     	5 0 0
	32	[998]	JMP      	1	; to 34
	33	[1001]	ADD      	6 6 -11	; - 2
	34	[1008]	ADD      	6 6 -12	; - 4
	35	[1011]	ADD      	6 6 -13	; - 8
	36	[1015]	ADD      	6 6 -14	; - 16
	37	[1019]	GETUPVAL 	7 0	; isPreferFootnoteEnabled
	38	[1019]	CALL     	7 1 2
	39	[1019]	TEST     	7 0 1
	40	[1019]	JMP      	1	; to 42
	41	[1020]	ADD      	6 6 -15	; - 32
	42	[1023]	ADD      	6 6 -16	; - 64
	43	[1029]	ADD      	6 6 -17	; - 256
	44	[1036]	ADD      	6 6 -18	; - 512
	45	[1039]	ADD      	6 6 -19	; - 1024
	46	[1042]	ADD      	6 6 -20	; - 2048
	47	[1046]	ADD      	6 6 -21	; - 4096
	48	[1049]	ADD      	6 6 -22	; - 16384
	49	[1052]	ADD      	6 6 -23	; - 32768
	50	[1053]	LOADK    	7 -24	; 10000
	51	[1055]	GETUPVAL 	8 1	; logger
	52	[1055]	GETTABLE 	8 8 -25	; "dbg"
	53	[1055]	LOADK    	9 -26	; "Checking if link is to a footnote:"
	54	[1055]	MOVE     	10 6
	55	[1055]	MOVE     	11 3
	56	[1055]	MOVE     	12 4
	57	[1055]	CALL     	8 5 1
	58	[1057]	GETTABLE 	8 0 -1	; "ui"
	59	[1057]	GETTABLE 	8 8 -2	; "document"
	60	[1057]	SELF     	8 8 -27	; "isLinkToFootnote"
	61	[1057]	MOVE     	10 3
	62	[1057]	MOVE     	11 4
	63	[1057]	MOVE     	12 6
	64	[1057]	MOVE     	13 7
	65	[1057]	CALL     	8 6 6
	66	[1058]	TEST     	8 0 1
	67	[1058]	JMP      	7	; to 75
	68	[1059]	GETUPVAL 	13 1	; logger
	69	[1059]	GETTABLE 	13 13 -3	; "info"
	70	[1059]	LOADK    	14 -28	; "not a footnote:"
	71	[1059]	MOVE     	15 9
	72	[1059]	CALL     	13 3 1
	73	[1060]	LOADBOOL 	13 0 0
	74	[1060]	RETURN   	13 2
	75	[1062]	GETUPVAL 	13 1	; logger
	76	[1062]	GETTABLE 	13 13 -3	; "info"
	77	[1062]	LOADK    	14 -29	; "is a footnote:"
	78	[1062]	MOVE     	15 9
	79	[1062]	CALL     	13 3 1
	80	[1063]	TEST     	11 0 0
	81	[1063]	JMP      	14	; to 96
	82	[1064]	GETUPVAL 	13 1	; logger
	83	[1064]	GETTABLE 	13 13 -3	; "info"
	84	[1064]	LOADK    	14 -30	; "  extended until:"
	85	[1064]	MOVE     	15 10
	86	[1064]	CALL     	13 3 1
	87	[1065]	GETUPVAL 	13 1	; logger
	88	[1065]	GETTABLE 	13 13 -3	; "info"
	89	[1065]	MOVE     	14 11
	90	[1065]	CALL     	13 2 1
	91	[1066]	GETUPVAL 	13 1	; logger
	92	[1066]	GETTABLE 	13 13 -3	; "info"
	93	[1066]	MOVE     	14 12
	94	[1066]	CALL     	13 2 1
	95	[1066]	JMP      	5	; to 101
	96	[1068]	GETUPVAL 	13 1	; logger
	97	[1068]	GETTABLE 	13 13 -3	; "info"
	98	[1068]	LOADK    	14 -31	; "  not extended because:"
	99	[1068]	MOVE     	15 10
	100	[1068]	CALL     	13 3 1
	101	[1083]	LOADNIL  	13 13
	102	[1084]	TEST     	11 0 0
	103	[1084]	JMP      	11	; to 115
	104	[1084]	TEST     	12 0 0
	105	[1084]	JMP      	9	; to 115
	106	[1085]	GETTABLE 	14 0 -1	; "ui"
	107	[1085]	GETTABLE 	14 14 -2	; "document"
	108	[1085]	SELF     	14 14 -32	; "getHTMLFromXPointers"
	109	[1085]	MOVE     	16 11
	110	[1085]	MOVE     	17 12
	111	[1085]	LOADK    	18 -33	; 4097
	112	[1085]	CALL     	14 5 2
	113	[1085]	MOVE     	13 14
	114	[1085]	JMP      	8	; to 123
	115	[1087]	GETTABLE 	14 0 -1	; "ui"
	116	[1087]	GETTABLE 	14 14 -2	; "document"
	117	[1087]	SELF     	14 14 -34	; "getHTMLFromXPointer"
	118	[1087]	MOVE     	16 4
	119	[1087]	LOADK    	17 -33	; 4097
	120	[1087]	LOADBOOL 	18 1 0
	121	[1087]	CALL     	14 5 2
	122	[1087]	MOVE     	13 14
	123	[1090]	TEST     	13 0 1
	124	[1090]	JMP      	7	; to 132
	125	[1091]	GETUPVAL 	14 1	; logger
	126	[1091]	GETTABLE 	14 14 -3	; "info"
	127	[1091]	LOADK    	15 -35	; "failed getting HTML for xpointer:"
	128	[1091]	MOVE     	16 4
	129	[1091]	CALL     	14 3 1
	130	[1092]	LOADBOOL 	14 0 0
	131	[1092]	RETURN   	14 2
	132	[1102]	LOADNIL  	14 14
	133	[1103]	GETTABLE 	15 1 -5	; "from_xpointer"
	134	[1103]	TEST     	15 0 0
	135	[1103]	JMP      	20	; to 156
	136	[1104]	GETTABLE 	15 0 -1	; "ui"
	137	[1104]	GETTABLE 	15 15 -2	; "document"
	138	[1104]	SELF     	15 15 -36	; "highlightXPointer"
	139	[1104]	CALL     	15 2 1
	140	[1105]	GETTABLE 	15 0 -1	; "ui"
	141	[1105]	GETTABLE 	15 15 -2	; "document"
	142	[1105]	SELF     	15 15 -36	; "highlightXPointer"
	143	[1105]	GETTABLE 	17 1 -5	; "from_xpointer"
	144	[1105]	CALL     	15 3 1
	145	[1107]	SETTABLE 	0 -37 -38	; "_footnote_popup_discard_previous_close_callback" true
	146	[1108]	GETUPVAL 	15 2	; UIManager
	147	[1108]	SELF     	15 15 -39	; "setDirty"
	148	[1108]	GETTABLE 	17 0 -40	; "dialog"
	149	[1108]	LOADK    	18 -1	; "ui"
	150	[1108]	CALL     	15 4 1
	151	[1134]	CLOSURE  	14 0	; 0x7fa8a6412fe0
	152	[1134]	MOVE     	0 0
	153	[1134]	GETUPVAL 	0 2	; UIManager
	154	[1134]	GETUPVAL 	0 3	; Screen
	155	[1134]	MOVE     	0 1
	156	[1141]	GETGLOBAL	15 -41	; require
	157	[1141]	LOADK    	16 -42	; "ui/widget/footnotewidget"
	158	[1141]	CALL     	15 2 2
	159	[1142]	LOADNIL  	16 16
	160	[1143]	SELF     	17 15 -43	; "new"
	161	[1143]	NEWTABLE 	19 0 7
	162	[1144]	SETTABLE 	19 -44 13	; "html" -
	163	[1145]	GETUPVAL 	20 3	; Screen
	164	[1145]	SELF     	20 20 -46	; "scaleBySize"
	165	[1145]	GETTABLE 	22 0 -1	; "ui"
	166	[1145]	GETTABLE 	22 22 -47	; "font"
	167	[1145]	GETTABLE 	22 22 -48	; "font_size"
	168	[1145]	CALL     	20 3 2
	169	[1145]	SETTABLE 	19 -45 20	; "doc_font_size" -
	170	[1146]	GETTABLE 	20 0 -1	; "ui"
	171	[1146]	GETTABLE 	20 20 -2	; "document"
	172	[1146]	SELF     	20 20 -50	; "getPageMargins"
	173	[1146]	CALL     	20 2 2
	174	[1146]	SETTABLE 	19 -49 20	; "doc_margins" -
	175	[1147]	SETTABLE 	19 -51 14	; "close_callback" -
	176	[1151]	CLOSURE  	20 1	; 0x7fa8a64131c0
	177	[1151]	GETUPVAL 	0 2	; UIManager
	178	[1151]	MOVE     	0 16
	179	[1151]	MOVE     	0 0
	180	[1151]	MOVE     	0 1
	181	[1151]	MOVE     	0 2
	182	[1151]	SETTABLE 	19 -52 20	; "follow_callback" -
	183	[1166]	CLOSURE  	20 2	; 0x7fa8a6414440
	184	[1166]	MOVE     	0 0
	185	[1166]	MOVE     	0 14
	186	[1166]	SETTABLE 	19 -53 20	; "on_tap_close_callback" -
	187	[1167]	GETTABLE 	20 0 -40	; "dialog"
	188	[1167]	SETTABLE 	19 -40 20	; "dialog" -
	189	[1143]	CALL     	17 3 2
	190	[1168]	MOVE     	16 17
	191	[1169]	GETUPVAL 	17 2	; UIManager
	192	[1169]	SELF     	17 17 -54	; "show"
	193	[1169]	MOVE     	19 16
	194	[1169]	CALL     	17 3 1
	195	[1170]	LOADBOOL 	17 1 0
	196	[1170]	RETURN   	17 2
	197	[1171]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:1109,1134> (31 instructions, 124 bytes at 0x7fa8a6412fe0)
1 param, 8 slots, 4 upvalues, 4 locals, 7 constants, 1 function
	1	[1111]	GETUPVAL 	1 0	; self
	2	[1111]	GETTABLE 	1 1 -1	; "ui"
	3	[1111]	GETTABLE 	1 1 -2	; "document"
	4	[1111]	SELF     	1 1 -3	; "getCurrentPage"
	5	[1111]	CALL     	1 2 2
	6	[1120]	CLOSURE  	2 0	; 0x7fa8a6413b30
	7	[1120]	GETUPVAL 	0 0	; self
	8	[1120]	MOVE     	0 1
	9	[1120]	GETUPVAL 	0 1	; UIManager
	10	[1121]	TEST     	0 0 0
	11	[1121]	JMP      	17	; to 29
	12	[1125]	GETUPVAL 	3 2	; Screen
	13	[1125]	SELF     	3 3 -4	; "getHeight"
	14	[1125]	CALL     	3 2 2
	15	[1125]	SUB      	3 3 0
	16	[1126]	GETUPVAL 	4 3	; link
	17	[1126]	GETTABLE 	4 4 -5	; "link_y"
	18	[1126]	LT       	0 3 4
	19	[1126]	JMP      	6	; to 26
	20	[1127]	GETUPVAL 	4 1	; UIManager
	21	[1127]	SELF     	4 4 -6	; "scheduleIn"
	22	[1127]	LOADK    	6 -7	; 0.5
	23	[1127]	MOVE     	7 2
	24	[1127]	CALL     	4 4 1
	25	[1127]	JMP      	5	; to 31
	26	[1129]	MOVE     	4 2
	27	[1129]	CALL     	4 1 1
	28	[1130]	JMP      	2	; to 31
	29	[1132]	MOVE     	3 2
	30	[1132]	CALL     	3 1 1
	31	[1134]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:1112,1120> (20 instructions, 80 bytes at 0x7fa8a6413b30)
0 params, 4 slots, 3 upvalues, 0 locals, 6 constants, 0 functions
	1	[1113]	GETUPVAL 	0 0	; self
	2	[1113]	GETTABLE 	0 0 -1	; "ui"
	3	[1113]	GETTABLE 	0 0 -2	; "document"
	4	[1113]	SELF     	0 0 -3	; "highlightXPointer"
	5	[1113]	CALL     	0 2 1
	6	[1117]	GETUPVAL 	0 0	; self
	7	[1117]	GETTABLE 	0 0 -1	; "ui"
	8	[1117]	GETTABLE 	0 0 -2	; "document"
	9	[1117]	SELF     	0 0 -4	; "getCurrentPage"
	10	[1117]	CALL     	0 2 2
	11	[1117]	GETUPVAL 	1 1	; highlight_page
	12	[1117]	EQ       	0 0 1
	13	[1117]	JMP      	6	; to 20
	14	[1118]	GETUPVAL 	0 2	; UIManager
	15	[1118]	SELF     	0 0 -5	; "setDirty"
	16	[1118]	GETUPVAL 	2 0	; self
	17	[1118]	GETTABLE 	2 2 -6	; "dialog"
	18	[1118]	LOADK    	3 -1	; "ui"
	19	[1118]	CALL     	0 4 1
	20	[1120]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:1148,1151> (10 instructions, 40 bytes at 0x7fa8a64131c0)
0 params, 4 slots, 5 upvalues, 0 locals, 2 constants, 0 functions
	1	[1149]	GETUPVAL 	0 0	; UIManager
	2	[1149]	SELF     	0 0 -1	; "close"
	3	[1149]	GETUPVAL 	2 1	; popup
	4	[1149]	CALL     	0 3 1
	5	[1150]	GETUPVAL 	0 2	; self
	6	[1150]	SELF     	0 0 -2	; "onGotoLink"
	7	[1150]	GETUPVAL 	2 3	; link
	8	[1150]	GETUPVAL 	3 4	; neglect_current_location
	9	[1150]	CALL     	0 4 1
	10	[1151]	RETURN   	0 1

function <./frontend/apps/reader/modules/readerlink.lua:1152,1166> (20 instructions, 80 bytes at 0x7fa8a6414440)
3 params, 7 slots, 2 upvalues, 3 locals, 3 constants, 0 functions
	1	[1153]	GETUPVAL 	3 0	; self
	2	[1153]	SETTABLE 	3 -1 -2	; "_footnote_popup_discard_previous_close_callback" nil
	3	[1156]	GETUPVAL 	3 0	; self
	4	[1156]	SELF     	3 3 -3	; "onTap"
	5	[1156]	MOVE     	5 0
	6	[1156]	MOVE     	6 1
	7	[1156]	CALL     	3 4 1
	8	[1160]	GETUPVAL 	3 0	; self
	9	[1160]	GETTABLE 	3 3 -1	; "_footnote_popup_discard_previous_close_callback"
	10	[1160]	TEST     	3 0 1
	11	[1160]	JMP      	6	; to 18
	12	[1161]	GETUPVAL 	3 1	; close_callback
	13	[1161]	TEST     	3 0 0
	14	[1161]	JMP      	3	; to 18
	15	[1162]	GETUPVAL 	3 1	; close_callback
	16	[1162]	MOVE     	4 2
	17	[1162]	CALL     	3 2 1
	18	[1165]	GETUPVAL 	3 0	; self
	19	[1165]	SETTABLE 	3 -1 -2	; "_footnote_popup_discard_previous_close_callback" nil
	20	[1166]	RETURN   	0 1
