-- BYTECODE -- readerfooter_spec.lua:17-47
0001    TGETS    2   0   0  ; "status_bar"
0002    ISF          2
0003    JMP      3 => 0058
0004    GGET     3   1      ; "ipairs"
0005    TGETS    4   2   2  ; "sub_item_table"
0006    CALL     3   4   2
0007    JMP      6 => 0050
0008 => TGETS    8   7   3  ; "text_func"
0009    ISF          8
0010    JMP      9 => 0018
0011    TGETS    8   7   3  ; "text_func"
0012    CALL     8   2   1
0013    ISNEV    8   1
0014    JMP      8 => 0018
0015    TGETS    8   7   4  ; "callback"
0016    CALL     8   1   1
0017    RET0     0   1
0018 => TGETS    8   7   5  ; "text"
0019    ISNEV    8   1
0020    JMP      8 => 0024
0021    TGETS    8   7   4  ; "callback"
0022    CALL     8   1   1
0023    RET0     0   1
0024 => TGETS    8   7   2  ; "sub_item_table"
0025    ISF          8
0026    JMP      9 => 0050
0027    TGETS    8   7   2  ; "sub_item_table"
0028    GGET     9   1      ; "ipairs"
0029    MOV     10   8
0030    CALL     9   4   2
0031    JMP     12 => 0048
0032 => TGETS   14  13   3  ; "text_func"
0033    ISF         14
0034    JMP     15 => 0042
0035    TGETS   14  13   3  ; "text_func"
0036    CALL    14   2   1
0037    ISNEV   14   1
0038    JMP     14 => 0042
0039    TGETS   14  13   4  ; "callback"
0040    CALL    14   1   1
0041    RET0     0   1
0042 => TGETS   14  13   5  ; "text"
0043    ISNEV   14   1
0044    JMP     14 => 0048
0045    TGETS   14  13   4  ; "callback"
0046    CALL    14   1   1
0047    RET0     0   1
0048 => ITERC   12   3   3
0049    ITERL   12 => 0032
0050 => ITERC    6   3   3
0051    ITERL    6 => 0008
0052    GGET     3   6      ; "error"
0053    KSTR     4   7      ; "Menu item not found: ""
0054    MOV      5   1
0055    KSTR     6   8      ; ""!"
0056    CAT      4   4   6
0057    CALL     3   1   2
0058 => GGET     3   6      ; "error"
0059    KSTR     4   9      ; "Menu item not found: "Status bar"!"
0060    CALL     3   1   2
0061    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:6-48
0001    GGET     0   0      ; "require"
0002    KSTR     1   1      ; "commonrequire"
0003    CALL     0   1   2
0004    GGET     0   2      ; "package"
0005    TGETS    0   0   3  ; "unloadAll"
0006    CALL     0   1   1
0007    GGET     0   0      ; "require"
0008    KSTR     1   4      ; "document/canvascontext"
0009    CALL     0   2   2
0010    MOV      1   0
0011    TGETS    0   0   5  ; "init"
0012    GGET     2   0      ; "require"
0013    KSTR     3   6      ; "device"
0014    CALL     2   0   2
0015    CALLM    0   1   1
0016    GGET     0   0      ; "require"
0017    KSTR     1   7      ; "document/documentregistry"
0018    CALL     0   2   2
0019    USETV    0   0      ; DocumentRegistry
0020    GGET     0   0      ; "require"
0021    KSTR     1   8      ; "docsettings"
0022    CALL     0   2   2
0023    USETV    1   0      ; DocSettings
0024    GGET     0   0      ; "require"
0025    KSTR     1   9      ; "apps/reader/readerui"
0026    CALL     0   2   2
0027    USETV    2   0      ; ReaderUI
0028    GGET     0   0      ; "require"
0029    KSTR     1  10      ; "ui/uimanager"
0030    CALL     0   2   2
0031    USETV    3   0      ; UIManager
0032    GGET     0   0      ; "require"
0033    KSTR     1  11      ; "ffi/util"
0034    CALL     0   2   2
0035    TGETS    0   0  12  ; "purgeDir"
0036    USETV    4   0      ; purgeDir
0037    GGET     0   0      ; "require"
0038    KSTR     1   6      ; "device"
0039    CALL     0   2   2
0040    TGETS    0   0  13  ; "screen"
0041    USETV    5   0      ; Screen
0042    FNEW     0  14      ; readerfooter_spec.lua:17
0043    USETV    6   0      ; tapFooterMenu
0044    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:50-64
0001    GGET     0   0      ; "G_reader_settings"
0002    MOV      1   0
0003    TGETS    0   0   1  ; "saveSetting"
0004    KSTR     2   2      ; "footer"
0005    TDUP     3   3
0006    CALL     0   1   4
0007    UGET     0   0      ; UIManager
0008    MOV      1   0
0009    TGETS    0   0   4  ; "run"
0010    CALL     0   1   2
0011    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:66-77
0001    GGET     0   0      ; "G_reader_settings"
0002    MOV      1   0
0003    TGETS    0   0   1  ; "saveSetting"
0004    KSTR     2   2      ; "reader_footer_mode"
0005    KSHORT   3   1
0006    CALL     0   1   4
0007    KSTR     0   3      ; "spec/front/unit/data/2col.pdf"
0008    UGET     1   0      ; purgeDir
0009    UGET     2   1      ; DocSettings
0010    MOV      3   2
0011    TGETS    2   2   4  ; "getSidecarDir"
0012    MOV      4   0
0013    CALL     2   0   3
0014    CALLM    1   1   0
0015    GGET     1   5      ; "os"
0016    TGETS    1   1   6  ; "remove"
0017    UGET     2   1      ; DocSettings
0018    MOV      3   2
0019    TGETS    2   2   7  ; "getHistoryPath"
0020    MOV      4   0
0021    CALL     2   0   3
0022    CALLM    1   1   0
0023    UGET     1   2      ; ReaderUI
0024    MOV      2   1
0025    TGETS    1   1   8  ; "new"
0026    TDUP     3  10
0027    UGET     4   3      ; DocumentRegistry
0028    MOV      5   4
0029    TGETS    4   4   9  ; "openDocument"
0030    MOV      6   0
0031    CALL     4   2   3
0032    TSETS    4   3  11  ; "document"
0033    CALL     1   2   3
0034    GGET     2  12      ; "assert"
0035    TGETS    2   2  13  ; "is"
0036    TGETS    2   2  14  ; "same"
0037    KPRI     3   2
0038    TGETS    4   1  15  ; "view"
0039    TGETS    4   4  16  ; "footer_visible"
0040    CALL     2   1   3
0041    GGET     2   0      ; "G_reader_settings"
0042    MOV      3   2
0043    TGETS    2   2  17  ; "delSetting"
0044    KSTR     4   2      ; "reader_footer_mode"
0045    CALL     2   1   3
0046    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:79-103
0001    GGET     0   0      ; "G_reader_settings"
0002    MOV      1   0
0003    TGETS    0   0   1  ; "saveSetting"
0004    KSTR     2   2      ; "footer"
0005    TDUP     3   3
0006    CALL     0   1   4
0007    GGET     0   0      ; "G_reader_settings"
0008    MOV      1   0
0009    TGETS    0   0   1  ; "saveSetting"
0010    KSTR     2   4      ; "reader_footer_mode"
0011    KSHORT   3   1
0012    CALL     0   1   4
0013    KSTR     0   5      ; "spec/front/unit/data/2col.pdf"
0014    UGET     1   0      ; purgeDir
0015    UGET     2   1      ; DocSettings
0016    MOV      3   2
0017    TGETS    2   2   6  ; "getSidecarDir"
0018    MOV      4   0
0019    CALL     2   0   3
0020    CALLM    1   1   0
0021    GGET     1   7      ; "os"
0022    TGETS    1   1   8  ; "remove"
0023    UGET     2   1      ; DocSettings
0024    MOV      3   2
0025    TGETS    2   2   9  ; "getHistoryPath"
0026    MOV      4   0
0027    CALL     2   0   3
0028    CALLM    1   1   0
0029    UGET     1   2      ; ReaderUI
0030    MOV      2   1
0031    TGETS    1   1  10  ; "new"
0032    TDUP     3  12
0033    UGET     4   3      ; DocumentRegistry
0034    MOV      5   4
0035    TGETS    4   4  11  ; "openDocument"
0036    MOV      6   0
0037    CALL     4   2   3
0038    TSETS    4   3  13  ; "document"
0039    CALL     1   2   3
0040    GGET     2  14      ; "assert"
0041    TGETS    2   2  15  ; "is"
0042    TGETS    2   2  16  ; "same"
0043    KPRI     3   2
0044    TGETS    4   1  17  ; "view"
0045    TGETS    4   4  18  ; "footer_visible"
0046    CALL     2   1   3
0047    GGET     2  14      ; "assert"
0048    TGETS    2   2  15  ; "is"
0049    TGETS    2   2  16  ; "same"
0050    KSHORT   3   1
0051    TGETS    4   1  17  ; "view"
0052    TGETS    4   4   2  ; "footer"
0053    TGETS    4   4  19  ; "mode"
0054    KSHORT   5   1
0055    CALL     2   1   4
0056    GGET     2   0      ; "G_reader_settings"
0057    MOV      3   2
0058    TGETS    2   2  20  ; "delSetting"
0059    KSTR     4   4      ; "reader_footer_mode"
0060    CALL     2   1   3
0061    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:105-119
0001    GGET     0   0      ; "G_reader_settings"
0002    MOV      1   0
0003    TGETS    0   0   1  ; "saveSetting"
0004    KSTR     2   2      ; "reader_footer_mode"
0005    KSHORT   3   1
0006    CALL     0   1   4
0007    KSTR     0   3      ; "spec/front/unit/data/2col.pdf"
0008    UGET     1   0      ; purgeDir
0009    UGET     2   1      ; DocSettings
0010    MOV      3   2
0011    TGETS    2   2   4  ; "getSidecarDir"
0012    MOV      4   0
0013    CALL     2   0   3
0014    CALLM    1   1   0
0015    GGET     1   5      ; "os"
0016    TGETS    1   1   6  ; "remove"
0017    UGET     2   1      ; DocSettings
0018    MOV      3   2
0019    TGETS    2   2   7  ; "getHistoryPath"
0020    MOV      4   0
0021    CALL     2   0   3
0022    CALLM    1   1   0
0023    UGET     1   1      ; DocSettings
0024    MOV      2   1
0025    TGETS    1   1   8  ; "open"
0026    MOV      3   0
0027    CALL     1   2   3
0028    MOV      3   1
0029    TGETS    2   1   1  ; "saveSetting"
0030    KSTR     4   9      ; "kopt_full_screen"
0031    KSHORT   5   0
0032    CALL     2   1   4
0033    MOV      3   1
0034    TGETS    2   1  10  ; "flush"
0035    CALL     2   1   2
0036    UGET     2   2      ; ReaderUI
0037    MOV      3   2
0038    TGETS    2   2  11  ; "new"
0039    TDUP     4  13
0040    UGET     5   3      ; DocumentRegistry
0041    MOV      6   5
0042    TGETS    5   5  12  ; "openDocument"
0043    MOV      7   0
0044    CALL     5   2   3
0045    TSETS    5   4  14  ; "document"
0046    CALL     2   2   3
0047    GGET     3  15      ; "assert"
0048    TGETS    3   3  16  ; "is"
0049    TGETS    3   3  17  ; "same"
0050    KPRI     4   1
0051    TGETS    5   2  18  ; "view"
0052    TGETS    5   5  19  ; "footer_visible"
0053    CALL     3   1   3
0054    GGET     3   0      ; "G_reader_settings"
0055    MOV      4   3
0056    TGETS    3   3  20  ; "delSetting"
0057    KSTR     5   2      ; "reader_footer_mode"
0058    CALL     3   1   3
0059    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:121-135
0001    GGET     0   0      ; "G_reader_settings"
0002    MOV      1   0
0003    TGETS    0   0   1  ; "saveSetting"
0004    KSTR     2   2      ; "reader_footer_mode"
0005    KSHORT   3   1
0006    CALL     0   1   4
0007    KSTR     0   3      ; "spec/front/unit/data/2col.pdf"
0008    UGET     1   0      ; purgeDir
0009    UGET     2   1      ; DocSettings
0010    MOV      3   2
0011    TGETS    2   2   4  ; "getSidecarDir"
0012    MOV      4   0
0013    CALL     2   0   3
0014    CALLM    1   1   0
0015    GGET     1   5      ; "os"
0016    TGETS    1   1   6  ; "remove"
0017    UGET     2   1      ; DocSettings
0018    MOV      3   2
0019    TGETS    2   2   7  ; "getHistoryPath"
0020    MOV      4   0
0021    CALL     2   0   3
0022    CALLM    1   1   0
0023    UGET     1   1      ; DocSettings
0024    MOV      2   1
0025    TGETS    1   1   8  ; "open"
0026    MOV      3   0
0027    CALL     1   2   3
0028    MOV      3   1
0029    TGETS    2   1   1  ; "saveSetting"
0030    KSTR     4   9      ; "kopt_full_screen"
0031    KSHORT   5   0
0032    CALL     2   1   4
0033    MOV      3   1
0034    TGETS    2   1  10  ; "flush"
0035    CALL     2   1   2
0036    UGET     2   2      ; ReaderUI
0037    MOV      3   2
0038    TGETS    2   2  11  ; "new"
0039    TDUP     4  13
0040    UGET     5   3      ; DocumentRegistry
0041    MOV      6   5
0042    TGETS    5   5  12  ; "openDocument"
0043    MOV      7   0
0044    CALL     5   2   3
0045    TSETS    5   4  14  ; "document"
0046    CALL     2   2   3
0047    GGET     3  15      ; "assert"
0048    TGETS    3   3  16  ; "is"
0049    TGETS    3   3  17  ; "same"
0050    KPRI     4   1
0051    TGETS    5   2  18  ; "view"
0052    TGETS    5   5  19  ; "footer_visible"
0053    CALL     3   1   3
0054    GGET     3   0      ; "G_reader_settings"
0055    MOV      4   3
0056    TGETS    3   3  20  ; "delSetting"
0057    KSTR     5   2      ; "reader_footer_mode"
0058    CALL     3   1   3
0059    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:137-151
0001    GGET     0   0      ; "G_reader_settings"
0002    MOV      1   0
0003    TGETS    0   0   1  ; "saveSetting"
0004    KSTR     2   2      ; "reader_footer_mode"
0005    KSHORT   3   1
0006    CALL     0   1   4
0007    KSTR     0   3      ; "spec/front/unit/data/juliet.epub"
0008    UGET     1   0      ; purgeDir
0009    UGET     2   1      ; DocSettings
0010    MOV      3   2
0011    TGETS    2   2   4  ; "getSidecarDir"
0012    MOV      4   0
0013    CALL     2   0   3
0014    CALLM    1   1   0
0015    GGET     1   5      ; "os"
0016    TGETS    1   1   6  ; "remove"
0017    UGET     2   1      ; DocSettings
0018    MOV      3   2
0019    TGETS    2   2   7  ; "getHistoryPath"
0020    MOV      4   0
0021    CALL     2   0   3
0022    CALLM    1   1   0
0023    UGET     1   1      ; DocSettings
0024    MOV      2   1
0025    TGETS    1   1   8  ; "open"
0026    MOV      3   0
0027    CALL     1   2   3
0028    MOV      3   1
0029    TGETS    2   1   1  ; "saveSetting"
0030    KSTR     4   9      ; "copt_status_line"
0031    KSHORT   5   1
0032    CALL     2   1   4
0033    MOV      3   1
0034    TGETS    2   1  10  ; "flush"
0035    CALL     2   1   2
0036    UGET     2   2      ; ReaderUI
0037    MOV      3   2
0038    TGETS    2   2  11  ; "new"
0039    TDUP     4  13
0040    UGET     5   3      ; DocumentRegistry
0041    MOV      6   5
0042    TGETS    5   5  12  ; "openDocument"
0043    MOV      7   0
0044    CALL     5   2   3
0045    TSETS    5   4  14  ; "document"
0046    CALL     2   2   3
0047    GGET     3  15      ; "assert"
0048    TGETS    3   3  16  ; "is"
0049    TGETS    3   3  17  ; "same"
0050    KPRI     4   2
0051    TGETS    5   2  18  ; "view"
0052    TGETS    5   5  19  ; "footer_visible"
0053    CALL     3   1   3
0054    GGET     3   0      ; "G_reader_settings"
0055    MOV      4   3
0056    TGETS    3   3  20  ; "delSetting"
0057    KSTR     5   2      ; "reader_footer_mode"
0058    CALL     3   1   3
0059    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:153-169
0001    KSTR     0   0      ; "spec/front/unit/data/juliet.epub"
0002    UGET     1   0      ; purgeDir
0003    UGET     2   1      ; DocSettings
0004    MOV      3   2
0005    TGETS    2   2   1  ; "getSidecarDir"
0006    MOV      4   0
0007    CALL     2   0   3
0008    CALLM    1   1   0
0009    GGET     1   2      ; "os"
0010    TGETS    1   1   3  ; "remove"
0011    UGET     2   1      ; DocSettings
0012    MOV      3   2
0013    TGETS    2   2   4  ; "getHistoryPath"
0014    MOV      4   0
0015    CALL     2   0   3
0016    CALLM    1   1   0
0017    UGET     1   2      ; ReaderUI
0018    MOV      2   1
0019    TGETS    1   1   5  ; "new"
0020    TDUP     3   7
0021    UGET     4   3      ; DocumentRegistry
0022    MOV      5   4
0023    TGETS    4   4   6  ; "openDocument"
0024    MOV      6   0
0025    CALL     4   2   3
0026    TSETS    4   3   8  ; "document"
0027    CALL     1   2   3
0028    TGETS    2   1   9  ; "view"
0029    TGETS    2   2  10  ; "footer"
0030    MOV      4   2
0031    TGETS    3   2  11  ; "onPageUpdate"
0032    KSHORT   5   1
0033    CALL     3   1   3
0034    MOV      4   2
0035    TGETS    3   2  12  ; "updateFooter"
0036    CALL     3   1   2
0037    TGETS    3   2  13  ; "textGeneratorMap"
0038    TGETS    3   3  14  ; "time"
0039    MOV      4   2
0040    CALL     3   2   2
0041    TGETS    4   1   8  ; "document"
0042    MOV      5   4
0043    TGETS    4   4  15  ; "getPageCount"
0044    CALL     4   2   2
0045    GGET     5  16      ; "assert"
0046    TGETS    5   5  17  ; "are"
0047    TGETS    5   5  18  ; "same"
0048    KSTR     6  19      ; "1 / "
0049    MOV      7   4
0050    KSTR     8  20      ; " | "
0051    MOV      9   3
0052    KSTR    10  21      ; " | â‡’ 0 | îž‚0% | â¤  0% | â³ na | â¤»"~
0053    CAT      6   6  10
0054    TGETS    7   2  22  ; "footer_text"
0055    TGETS    7   7  23  ; "text"
0056    CALL     5   1   3
0057    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:171-184
0001    KSTR     0   0      ; "spec/front/unit/data/2col.pdf"
0002    UGET     1   0      ; purgeDir
0003    UGET     2   1      ; DocSettings
0004    MOV      3   2
0005    TGETS    2   2   1  ; "getSidecarDir"
0006    MOV      4   0
0007    CALL     2   0   3
0008    CALLM    1   1   0
0009    GGET     1   2      ; "os"
0010    TGETS    1   1   3  ; "remove"
0011    UGET     2   1      ; DocSettings
0012    MOV      3   2
0013    TGETS    2   2   4  ; "getHistoryPath"
0014    MOV      4   0
0015    CALL     2   0   3
0016    CALLM    1   1   0
0017    UGET     1   2      ; ReaderUI
0018    MOV      2   1
0019    TGETS    1   1   5  ; "new"
0020    TDUP     3   7
0021    UGET     4   3      ; DocumentRegistry
0022    MOV      5   4
0023    TGETS    4   4   6  ; "openDocument"
0024    MOV      6   0
0025    CALL     4   2   3
0026    TSETS    4   3   8  ; "document"
0027    CALL     1   2   3
0028    TGETS    2   1   9  ; "view"
0029    TGETS    2   2  10  ; "footer"
0030    TGETS    3   1   9  ; "view"
0031    TGETS    3   3  10  ; "footer"
0032    MOV      4   3
0033    TGETS    3   3  11  ; "updateFooter"
0034    CALL     3   1   2
0035    TGETS    3   1   9  ; "view"
0036    TGETS    3   3  10  ; "footer"
0037    TGETS    3   3  12  ; "textGeneratorMap"
0038    TGETS    3   3  13  ; "time"
0039    MOV      4   2
0040    CALL     3   2   2
0041    GGET     4  14      ; "assert"
0042    TGETS    4   4  15  ; "are"
0043    TGETS    4   4  16  ; "same"
0044    KSTR     5  17      ; "1 / 2 | "
0045    MOV      6   3
0046    KSTR     7  18      ; " | â‡’ 1 | îž‚0% | â¤  50% | â³ na | â¤"~
0047    CAT      5   5   7
0048    TGETS    6   1   9  ; "view"
0049    TGETS    6   6  10  ; "footer"
0050    TGETS    6   6  19  ; "footer_text"
0051    TGETS    6   6  20  ; "text"
0052    CALL     4   1   3
0053    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:186-238
0001    KSTR     0   0      ; "spec/front/unit/data/2col.pdf"
0002    UGET     1   0      ; purgeDir
0003    UGET     2   1      ; DocSettings
0004    MOV      3   2
0005    TGETS    2   2   1  ; "getSidecarDir"
0006    MOV      4   0
0007    CALL     2   0   3
0008    CALLM    1   1   0
0009    GGET     1   2      ; "os"
0010    TGETS    1   1   3  ; "remove"
0011    UGET     2   1      ; DocSettings
0012    MOV      3   2
0013    TGETS    2   2   4  ; "getHistoryPath"
0014    MOV      4   0
0015    CALL     2   0   3
0016    CALLM    1   1   0
0017    UGET     1   2      ; ReaderUI
0018    MOV      2   1
0019    TGETS    1   1   5  ; "new"
0020    TDUP     3   7
0021    UGET     4   3      ; DocumentRegistry
0022    MOV      5   4
0023    TGETS    4   4   6  ; "openDocument"
0024    MOV      6   0
0025    CALL     4   2   3
0026    TSETS    4   3   8  ; "document"
0027    CALL     1   2   3
0028    TDUP     2   9
0029    TNEW     3   0
0030    TSETS    3   2  10  ; "setting"
0031    TGETS    3   1  11  ; "view"
0032    TGETS    3   3  12  ; "footer"
0033    MOV      5   3
0034    TGETS    4   3  13  ; "addToMainMenu"
0035    MOV      6   2
0036    CALL     4   1   3
0037    MOV      5   3
0038    TGETS    4   3  14  ; "resetLayout"
0039    CALL     4   1   2
0040    MOV      5   3
0041    TGETS    4   3  15  ; "updateFooter"
0042    CALL     4   1   2
0043    TGETS    4   3  16  ; "textGeneratorMap"
0044    TGETS    4   4  17  ; "time"
0045    MOV      5   3
0046    CALL     4   2   2
0047    GGET     5  18      ; "assert"
0048    TGETS    5   5  19  ; "are"
0049    TGETS    5   5  20  ; "same"
0050    KSTR     6  21      ; "1 / 2 | "
0051    MOV      7   4
0052    KSTR     8  22      ; " | â‡’ 1 | îž‚0% | â¤  50% | â³ na | â¤"~
0053    CAT      6   6   8
0054    TGETS    7   3  23  ; "footer_text"
0055    TGETS    7   7  24  ; "text"
0056    CALL     5   1   3
0057    UGET     5   4      ; tapFooterMenu
0058    MOV      6   2
0059    KSTR     7  25      ; "Show all at once"
0060    CALL     5   1   3
0061    GGET     5  18      ; "assert"
0062    TGETS    5   5  19  ; "are"
0063    TGETS    5   5  20  ; "same"
0064    KSTR     6  26      ; "1 / 2"
0065    TGETS    7   3  23  ; "footer_text"
0066    TGETS    7   7  24  ; "text"
0067    CALL     5   1   3
0068    UGET     5   4      ; tapFooterMenu
0069    MOV      6   2
0070    KSTR     7  27      ; "Current page"
0071    KSTR     8  28      ; " (/)"
0072    CAT      7   7   8
0073    CALL     5   1   3
0074    GGET     5  18      ; "assert"
0075    TGETS    5   5  19  ; "are"
0076    TGETS    5   5  20  ; "same"
0077    MOV      6   4
0078    TGETS    7   3  23  ; "footer_text"
0079    TGETS    7   7  24  ; "text"
0080    CALL     5   1   3
0081    UGET     5   4      ; tapFooterMenu
0082    MOV      6   2
0083    KSTR     7  29      ; "Current time"
0084    KSTR     8  30      ; " (âŒš)"
0085    CAT      7   7   8
0086    CALL     5   1   3
0087    GGET     5  18      ; "assert"
0088    TGETS    5   5  19  ; "are"
0089    TGETS    5   5  20  ; "same"
0090    KSTR     6  31      ; "â‡’ 1"
0091    TGETS    7   3  23  ; "footer_text"
0092    TGETS    7   7  24  ; "text"
0093    CALL     5   1   3
0094    UGET     5   4      ; tapFooterMenu
0095    MOV      6   2
0096    KSTR     7  32      ; "Pages left in chapter"
0097    KSTR     8  33      ; " (â‡’)"
0098    CAT      7   7   8
0099    CALL     5   1   3
0100    GGET     5  18      ; "assert"
0101    TGETS    5   5  19  ; "are"
0102    TGETS    5   5  20  ; "same"
0103    KSTR     6  34      ; "îž‚0%"
0104    TGETS    7   3  23  ; "footer_text"
0105    TGETS    7   7  24  ; "text"
0106    CALL     5   1   3
0107    UGET     5   4      ; tapFooterMenu
0108    MOV      6   2
0109    KSTR     7  35      ; "Battery status"
0110    KSTR     8  36      ; " (îž)"
0111    CAT      7   7   8
0112    CALL     5   1   3
0113    GGET     5  18      ; "assert"
0114    TGETS    5   5  19  ; "are"
0115    TGETS    5   5  20  ; "same"
0116    KSTR     6  37      ; "â¤  50%"
0117    TGETS    7   3  23  ; "footer_text"
0118    TGETS    7   7  24  ; "text"
0119    CALL     5   1   3
0120    UGET     5   4      ; tapFooterMenu
0121    MOV      6   2
0122    KSTR     7  38      ; "Progress percentage"
0123    KSTR     8  39      ; " (â¤ )"
0124    CAT      7   7   8
0125    CALL     5   1   3
0126    GGET     5  18      ; "assert"
0127    TGETS    5   5  19  ; "are"
0128    TGETS    5   5  20  ; "same"
0129    KSTR     6  40      ; "â³ na"
0130    TGETS    7   3  23  ; "footer_text"
0131    TGETS    7   7  24  ; "text"
0132    CALL     5   1   3
0133    UGET     5   4      ; tapFooterMenu
0134    MOV      6   2
0135    KSTR     7  41      ; "Book time to read"
0136    KSTR     8  42      ; " (â³)"
0137    CAT      7   7   8
0138    CALL     5   1   3
0139    GGET     5  18      ; "assert"
0140    TGETS    5   5  19  ; "are"
0141    TGETS    5   5  20  ; "same"
0142    KSTR     6  43      ; "â¤» na"
0143    TGETS    7   3  23  ; "footer_text"
0144    TGETS    7   7  24  ; "text"
0145    CALL     5   1   3
0146    UGET     5   4      ; tapFooterMenu
0147    MOV      6   2
0148    KSTR     7  44      ; "Chapter time to read"
0149    KSTR     8  45      ; " (â¤»)"
0150    CAT      7   7   8
0151    CALL     5   1   3
0152    GGET     5  18      ; "assert"
0153    TGETS    5   5  19  ; "are"
0154    TGETS    5   5  20  ; "same"
0155    KSTR     6  46      ; ""
0156    TGETS    7   3  23  ; "footer_text"
0157    TGETS    7   7  24  ; "text"
0158    CALL     5   1   3
0159    UGET     5   4      ; tapFooterMenu
0160    MOV      6   2
0161    KSTR     7  44      ; "Chapter time to read"
0162    KSTR     8  45      ; " (â¤»)"
0163    CAT      7   7   8
0164    CALL     5   1   3
0165    GGET     5  18      ; "assert"
0166    TGETS    5   5  19  ; "are"
0167    TGETS    5   5  20  ; "same"
0168    KSTR     6  43      ; "â¤» na"
0169    TGETS    7   3  23  ; "footer_text"
0170    TGETS    7   7  24  ; "text"
0171    CALL     5   1   3
0172    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:240-276
0001    KSTR     0   0      ; "spec/front/unit/data/2col.pdf"
0002    UGET     1   0      ; ReaderUI
0003    MOV      2   1
0004    TGETS    1   1   1  ; "new"
0005    TDUP     3   3
0006    UGET     4   1      ; DocumentRegistry
0007    MOV      5   4
0008    TGETS    4   4   2  ; "openDocument"
0009    MOV      6   0
0010    CALL     4   2   3
0011    TSETS    4   3   4  ; "document"
0012    CALL     1   2   3
0013    TGETS    2   1   5  ; "view"
0014    TGETS    2   2   6  ; "footer"
0015    TGETS    3   2   7  ; "settings"
0016    KPRI     4   1
0017    TSETS    4   3   8  ; "all_at_once"
0018    KSHORT   3   0
0019    TSETS    3   2   9  ; "mode"
0020    MOV      4   2
0021    TGETS    3   2  10  ; "onTapFooter"
0022    CALL     3   1   2
0023    GGET     3  11      ; "assert"
0024    TGETS    3   3  12  ; "is"
0025    TGETS    3   3  13  ; "same"
0026    KSHORT   4   1
0027    TGETS    5   2   9  ; "mode"
0028    CALL     3   1   3
0029    MOV      4   2
0030    TGETS    3   2  10  ; "onTapFooter"
0031    CALL     3   1   2
0032    GGET     3  11      ; "assert"
0033    TGETS    3   3  12  ; "is"
0034    TGETS    3   3  13  ; "same"
0035    KSHORT   4   2
0036    TGETS    5   2   9  ; "mode"
0037    CALL     3   1   3
0038    MOV      4   2
0039    TGETS    3   2  10  ; "onTapFooter"
0040    CALL     3   1   2
0041    GGET     3  11      ; "assert"
0042    TGETS    3   3  12  ; "is"
0043    TGETS    3   3  13  ; "same"
0044    KSHORT   4   3
0045    TGETS    5   2   9  ; "mode"
0046    CALL     3   1   3
0047    MOV      4   2
0048    TGETS    3   2  10  ; "onTapFooter"
0049    CALL     3   1   2
0050    GGET     3  11      ; "assert"
0051    TGETS    3   3  12  ; "is"
0052    TGETS    3   3  13  ; "same"
0053    KSHORT   4   4
0054    TGETS    5   2   9  ; "mode"
0055    CALL     3   1   3
0056    MOV      4   2
0057    TGETS    3   2  10  ; "onTapFooter"
0058    CALL     3   1   2
0059    GGET     3  11      ; "assert"
0060    TGETS    3   3  12  ; "is"
0061    TGETS    3   3  13  ; "same"
0062    KSHORT   4   5
0063    TGETS    5   2   9  ; "mode"
0064    CALL     3   1   3
0065    MOV      4   2
0066    TGETS    3   2  10  ; "onTapFooter"
0067    CALL     3   1   2
0068    GGET     3  11      ; "assert"
0069    TGETS    3   3  12  ; "is"
0070    TGETS    3   3  13  ; "same"
0071    KSHORT   4   6
0072    TGETS    5   2   9  ; "mode"
0073    CALL     3   1   3
0074    MOV      4   2
0075    TGETS    3   2  10  ; "onTapFooter"
0076    CALL     3   1   2
0077    GGET     3  11      ; "assert"
0078    TGETS    3   3  12  ; "is"
0079    TGETS    3   3  13  ; "same"
0080    KSHORT   4   7
0081    TGETS    5   2   9  ; "mode"
0082    CALL     3   1   3
0083    MOV      4   2
0084    TGETS    3   2  10  ; "onTapFooter"
0085    CALL     3   1   2
0086    GGET     3  11      ; "assert"
0087    TGETS    3   3  12  ; "is"
0088    TGETS    3   3  13  ; "same"
0089    KSHORT   4   0
0090    TGETS    5   2   9  ; "mode"
0091    CALL     3   1   3
0092    TGETS    3   2   7  ; "settings"
0093    KPRI     4   2
0094    TSETS    4   3   8  ; "all_at_once"
0095    KSHORT   3   5
0096    TSETS    3   2   9  ; "mode"
0097    MOV      4   2
0098    TGETS    3   2  10  ; "onTapFooter"
0099    CALL     3   1   2
0100    GGET     3  11      ; "assert"
0101    TGETS    3   3  12  ; "is"
0102    TGETS    3   3  13  ; "same"
0103    KSHORT   4   0
0104    TGETS    5   2   9  ; "mode"
0105    CALL     3   1   3
0106    MOV      4   2
0107    TGETS    3   2  10  ; "onTapFooter"
0108    CALL     3   1   2
0109    GGET     3  11      ; "assert"
0110    TGETS    3   3  12  ; "is"
0111    TGETS    3   3  13  ; "same"
0112    KSHORT   4   1
0113    TGETS    5   2   9  ; "mode"
0114    CALL     3   1   3
0115    MOV      4   2
0116    TGETS    3   2  10  ; "onTapFooter"
0117    CALL     3   1   2
0118    GGET     3  11      ; "assert"
0119    TGETS    3   3  12  ; "is"
0120    TGETS    3   3  13  ; "same"
0121    KSHORT   4   0
0122    TGETS    5   2   9  ; "mode"
0123    CALL     3   1   3
0124    MOV      4   2
0125    TGETS    3   2  10  ; "onTapFooter"
0126    CALL     3   1   2
0127    GGET     3  11      ; "assert"
0128    TGETS    3   3  12  ; "is"
0129    TGETS    3   3  13  ; "same"
0130    KSHORT   4   1
0131    TGETS    5   2   9  ; "mode"
0132    CALL     3   1   3
0133    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:296-296
0001    KSHORT   0 900
0002    RET1     0   2

-- BYTECODE -- readerfooter_spec.lua:278-304
0001    KSTR     0   0      ; "spec/front/unit/data/2col.pdf"
0002    UGET     1   0      ; purgeDir
0003    UGET     2   1      ; DocSettings
0004    MOV      3   2
0005    TGETS    2   2   1  ; "getSidecarDir"
0006    MOV      4   0
0007    CALL     2   0   3
0008    CALLM    1   1   0
0009    GGET     1   2      ; "os"
0010    TGETS    1   1   3  ; "remove"
0011    UGET     2   1      ; DocSettings
0012    MOV      3   2
0013    TGETS    2   2   4  ; "getHistoryPath"
0014    MOV      4   0
0015    CALL     2   0   3
0016    CALLM    1   1   0
0017    UGET     1   2      ; ReaderUI
0018    MOV      2   1
0019    TGETS    1   1   5  ; "new"
0020    TDUP     3   7
0021    UGET     4   3      ; DocumentRegistry
0022    MOV      5   4
0023    TGETS    4   4   6  ; "openDocument"
0024    MOV      6   0
0025    CALL     4   2   3
0026    TSETS    4   3   8  ; "document"
0027    CALL     1   2   3
0028    TGETS    2   1   9  ; "view"
0029    TGETS    2   2  10  ; "footer"
0030    UGET     3   4      ; Screen
0031    MOV      4   3
0032    TGETS    3   3  11  ; "scaleBySize"
0033    KSHORT   5  10
0034    CALL     3   2   3
0035    MULVN    3   3   0  ; 2
0036    MOV      5   2
0037    TGETS    4   2  12  ; "updateFooter"
0038    CALL     4   1   2
0039    GGET     4  13      ; "assert"
0040    TGETS    4   4  14  ; "is"
0041    TGETS    4   4  15  ; "same"
0042    KSHORT   5 354
0043    TGETS    6   2  16  ; "text_width"
0044    CALL     4   1   3
0045    GGET     4  13      ; "assert"
0046    TGETS    4   4  14  ; "is"
0047    TGETS    4   4  15  ; "same"
0048    KSHORT   5 600
0049    TGETS    6   2  17  ; "progress_bar"
0050    TGETS    6   6  18  ; "width"
0051    TGETS    7   2  16  ; "text_width"
0052    ADDVV    6   6   7
0053    ADDVV    6   6   3
0054    CALL     4   1   3
0055    GGET     4  13      ; "assert"
0056    TGETS    4   4  14  ; "is"
0057    TGETS    4   4  15  ; "same"
0058    KSHORT   5 226
0059    TGETS    6   2  17  ; "progress_bar"
0060    TGETS    6   6  18  ; "width"
0061    CALL     4   1   3
0062    UGET     4   4      ; Screen
0063    TGETS    4   4  19  ; "getWidth"
0064    UGET     5   4      ; Screen
0065    FNEW     6  20      ; readerfooter_spec.lua:296
0066    TSETS    6   5  19  ; "getWidth"
0067    MOV      6   2
0068    TGETS    5   2  21  ; "resetLayout"
0069    CALL     5   1   2
0070    GGET     5  13      ; "assert"
0071    TGETS    5   5  14  ; "is"
0072    TGETS    5   5  15  ; "same"
0073    KSHORT   6 354
0074    TGETS    7   2  16  ; "text_width"
0075    CALL     5   1   3
0076    GGET     5  13      ; "assert"
0077    TGETS    5   5  14  ; "is"
0078    TGETS    5   5  15  ; "same"
0079    KSHORT   6 900
0080    TGETS    7   2  17  ; "progress_bar"
0081    TGETS    7   7  18  ; "width"
0082    TGETS    8   2  16  ; "text_width"
0083    ADDVV    7   7   8
0084    ADDVV    7   7   3
0085    CALL     5   1   3
0086    GGET     5  13      ; "assert"
0087    TGETS    5   5  14  ; "is"
0088    TGETS    5   5  15  ; "same"
0089    KSHORT   6 526
0090    TGETS    7   2  17  ; "progress_bar"
0091    TGETS    7   7  18  ; "width"
0092    CALL     5   1   3
0093    UGET     5   4      ; Screen
0094    TSETS    4   5  19  ; "getWidth"
0095    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:306-322
0001    KSTR     0   0      ; "spec/front/unit/data/juliet.epub"
0002    UGET     1   0      ; purgeDir
0003    UGET     2   1      ; DocSettings
0004    MOV      3   2
0005    TGETS    2   2   1  ; "getSidecarDir"
0006    MOV      4   0
0007    CALL     2   0   3
0008    CALLM    1   1   0
0009    GGET     1   2      ; "os"
0010    TGETS    1   1   3  ; "remove"
0011    UGET     2   1      ; DocSettings
0012    MOV      3   2
0013    TGETS    2   2   4  ; "getHistoryPath"
0014    MOV      4   0
0015    CALL     2   0   3
0016    CALLM    1   1   0
0017    UGET     1   2      ; ReaderUI
0018    MOV      2   1
0019    TGETS    1   1   5  ; "new"
0020    TDUP     3   7
0021    UGET     4   3      ; DocumentRegistry
0022    MOV      5   4
0023    TGETS    4   4   6  ; "openDocument"
0024    MOV      6   0
0025    CALL     4   2   3
0026    TSETS    4   3   8  ; "document"
0027    CALL     1   2   3
0028    TGETS    2   1   9  ; "view"
0029    TGETS    2   2  10  ; "footer"
0030    MOV      4   2
0031    TGETS    3   2  11  ; "onPageUpdate"
0032    KSHORT   5   1
0033    CALL     3   1   3
0034    GGET     3  12      ; "assert"
0035    TGETS    3   3  13  ; "are"
0036    TGETS    3   3  14  ; "same"
0037    KSHORT   4 218
0038    TGETS    5   2  15  ; "progress_bar"
0039    TGETS    5   5  16  ; "width"
0040    CALL     3   1   3
0041    GGET     3  12      ; "assert"
0042    TGETS    3   3  13  ; "are"
0043    TGETS    3   3  14  ; "same"
0044    KSHORT   4 362
0045    TGETS    5   2  17  ; "text_width"
0046    CALL     3   1   3
0047    MOV      4   2
0048    TGETS    3   2  11  ; "onPageUpdate"
0049    KSHORT   5 100
0050    CALL     3   1   3
0051    GGET     3  12      ; "assert"
0052    TGETS    3   3  13  ; "are"
0053    TGETS    3   3  14  ; "same"
0054    KSHORT   4 194
0055    TGETS    5   2  15  ; "progress_bar"
0056    TGETS    5   5  16  ; "width"
0057    CALL     3   1   3
0058    GGET     3  12      ; "assert"
0059    TGETS    3   3  13  ; "are"
0060    TGETS    3   3  14  ; "same"
0061    KSHORT   4 386
0062    TGETS    5   2  17  ; "text_width"
0063    CALL     3   1   3
0064    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:324-346
0001    KSTR     0   0      ; "spec/front/unit/data/juliet.epub"
0002    UGET     1   0      ; purgeDir
0003    UGET     2   1      ; DocSettings
0004    MOV      3   2
0005    TGETS    2   2   1  ; "getSidecarDir"
0006    MOV      4   0
0007    CALL     2   0   3
0008    CALLM    1   1   0
0009    GGET     1   2      ; "os"
0010    TGETS    1   1   3  ; "remove"
0011    UGET     2   1      ; DocSettings
0012    MOV      3   2
0013    TGETS    2   2   4  ; "getHistoryPath"
0014    MOV      4   0
0015    CALL     2   0   3
0016    CALLM    1   1   0
0017    GGET     1   5      ; "G_reader_settings"
0018    MOV      2   1
0019    TGETS    1   1   6  ; "saveSetting"
0020    KSTR     3   7      ; "footer"
0021    TDUP     4   8
0022    CALL     1   1   4
0023    UGET     1   2      ; ReaderUI
0024    MOV      2   1
0025    TGETS    1   1   9  ; "new"
0026    TDUP     3  11
0027    UGET     4   3      ; DocumentRegistry
0028    MOV      5   4
0029    TGETS    4   4  10  ; "openDocument"
0030    MOV      6   0
0031    CALL     4   2   3
0032    TSETS    4   3  12  ; "document"
0033    CALL     1   2   3
0034    TGETS    2   1  13  ; "view"
0035    TGETS    2   2   7  ; "footer"
0036    MOV      4   2
0037    TGETS    3   2  14  ; "onPageUpdate"
0038    KSHORT   5   1
0039    CALL     3   1   3
0040    TGETS    3   1  12  ; "document"
0041    MOV      4   3
0042    TGETS    3   3  15  ; "getPageCount"
0043    CALL     3   2   2
0044    GGET     4  16      ; "assert"
0045    TGETS    4   4  17  ; "are"
0046    TGETS    4   4  18  ; "same"
0047    KSHORT   5  28
0048    TGETS    6   2  19  ; "progress_bar"
0049    TGETS    6   6  20  ; "ticks"
0050    LEN      6   6
0051    CALL     4   1   3
0052    GGET     4  16      ; "assert"
0053    TGETS    4   4  17  ; "are"
0054    TGETS    4   4  18  ; "same"
0055    MOV      5   3
0056    TGETS    6   2  19  ; "progress_bar"
0057    TGETS    6   6  21  ; "last"
0058    CALL     4   1   3
0059    TGETS    4   2  22  ; "settings"
0060    KPRI     5   1
0061    TSETS    5   4  23  ; "toc_markers"
0062    MOV      5   2
0063    TGETS    4   2  24  ; "setTocMarkers"
0064    CALL     4   1   2
0065    GGET     4  16      ; "assert"
0066    TGETS    4   4  17  ; "are"
0067    TGETS    4   4  18  ; "same"
0068    KPRI     5   0
0069    TGETS    6   2  19  ; "progress_bar"
0070    TGETS    6   6  20  ; "ticks"
0071    CALL     4   1   3
0072    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:348-379
0001    KSTR     0   0      ; "spec/front/unit/data/juliet.epub"
0002    UGET     1   0      ; purgeDir
0003    UGET     2   1      ; DocSettings
0004    MOV      3   2
0005    TGETS    2   2   1  ; "getSidecarDir"
0006    MOV      4   0
0007    CALL     2   0   3
0008    CALLM    1   1   0
0009    GGET     1   2      ; "os"
0010    TGETS    1   1   3  ; "remove"
0011    UGET     2   1      ; DocSettings
0012    MOV      3   2
0013    TGETS    2   2   4  ; "getHistoryPath"
0014    MOV      4   0
0015    CALL     2   0   3
0016    CALLM    1   1   0
0017    UGET     1   2      ; UIManager
0018    MOV      2   1
0019    TGETS    1   1   5  ; "quit"
0020    CALL     1   1   2
0021    GGET     1   6      ; "assert"
0022    TGETS    1   1   7  ; "are"
0023    TGETS    1   1   8  ; "same"
0024    TNEW     2   0
0025    UGET     3   2      ; UIManager
0026    TGETS    3   3   9  ; "_task_queue"
0027    CALL     1   1   3
0028    GGET     1  10      ; "G_reader_settings"
0029    MOV      2   1
0030    TGETS    1   1  11  ; "saveSetting"
0031    KSTR     3  12      ; "footer"
0032    TDUP     4  13
0033    CALL     1   1   4
0034    UGET     1   3      ; ReaderUI
0035    MOV      2   1
0036    TGETS    1   1  14  ; "new"
0037    TDUP     3  16
0038    UGET     4   4      ; DocumentRegistry
0039    MOV      5   4
0040    TGETS    4   4  15  ; "openDocument"
0041    MOV      6   0
0042    CALL     4   2   3
0043    TSETS    4   3  17  ; "document"
0044    CALL     1   2   3
0045    TGETS    2   1  18  ; "view"
0046    TGETS    2   2  12  ; "footer"
0047    KSHORT   3   0
0048    GGET     4  19      ; "ipairs"
0049    UGET     5   2      ; UIManager
0050    TGETS    5   5   9  ; "_task_queue"
0051    CALL     4   4   2
0052    JMP      7 => 0058
0053 => TGETS    9   8  20  ; "action"
0054    TGETS   10   2  21  ; "autoRefreshTime"
0055    ISNEV    9  10
0056    JMP      9 => 0058
0057    ADDVN    3   3   0  ; 1
0058 => ITERC    7   3   3
0059    ITERL    7 => 0053
0060    GGET     4   6      ; "assert"
0061    TGETS    4   4  22  ; "is"
0062    TGETS    4   4   8  ; "same"
0063    KSHORT   5   1
0064    MOV      6   3
0065    CALL     4   1   3
0066    MOV      5   2
0067    TGETS    4   2  23  ; "onCloseDocument"
0068    CALL     4   1   2
0069    KSHORT   3   0
0070    GGET     4  19      ; "ipairs"
0071    UGET     5   2      ; UIManager
0072    TGETS    5   5   9  ; "_task_queue"
0073    CALL     4   4   2
0074    JMP      7 => 0080
0075 => TGETS    9   8  20  ; "action"
0076    TGETS   10   2  21  ; "autoRefreshTime"
0077    ISNEV    9  10
0078    JMP      9 => 0080
0079    ADDVN    3   3   0  ; 1
0080 => ITERC    7   3   3
0081    ITERL    7 => 0075
0082    GGET     4   6      ; "assert"
0083    TGETS    4   4  22  ; "is"
0084    TGETS    4   4   8  ; "same"
0085    KSHORT   5   0
0086    MOV      6   3
0087    CALL     4   1   3
0088    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:381-404
0001    KSTR     0   0      ; "spec/front/unit/data/juliet.epub"
0002    UGET     1   0      ; purgeDir
0003    UGET     2   1      ; DocSettings
0004    MOV      3   2
0005    TGETS    2   2   1  ; "getSidecarDir"
0006    MOV      4   0
0007    CALL     2   0   3
0008    CALLM    1   1   0
0009    GGET     1   2      ; "os"
0010    TGETS    1   1   3  ; "remove"
0011    UGET     2   1      ; DocSettings
0012    MOV      3   2
0013    TGETS    2   2   4  ; "getHistoryPath"
0014    MOV      4   0
0015    CALL     2   0   3
0016    CALLM    1   1   0
0017    UGET     1   2      ; UIManager
0018    MOV      2   1
0019    TGETS    1   1   5  ; "quit"
0020    CALL     1   1   2
0021    GGET     1   6      ; "assert"
0022    TGETS    1   1   7  ; "are"
0023    TGETS    1   1   8  ; "same"
0024    TNEW     2   0
0025    UGET     3   2      ; UIManager
0026    TGETS    3   3   9  ; "_task_queue"
0027    CALL     1   1   3
0028    GGET     1  10      ; "G_reader_settings"
0029    MOV      2   1
0030    TGETS    1   1  11  ; "saveSetting"
0031    KSTR     3  12      ; "footer"
0032    TDUP     4  13
0033    CALL     1   1   4
0034    UGET     1   3      ; ReaderUI
0035    MOV      2   1
0036    TGETS    1   1  14  ; "new"
0037    TDUP     3  16
0038    UGET     4   4      ; DocumentRegistry
0039    MOV      5   4
0040    TGETS    4   4  15  ; "openDocument"
0041    MOV      6   0
0042    CALL     4   2   3
0043    TSETS    4   3  17  ; "document"
0044    CALL     1   2   3
0045    TGETS    2   1  18  ; "view"
0046    TGETS    2   2  12  ; "footer"
0047    KSHORT   3   0
0048    GGET     4  19      ; "ipairs"
0049    UGET     5   2      ; UIManager
0050    TGETS    5   5   9  ; "_task_queue"
0051    CALL     4   4   2
0052    JMP      7 => 0058
0053 => TGETS    9   8  20  ; "action"
0054    TGETS   10   2  21  ; "autoRefreshTime"
0055    ISNEV    9  10
0056    JMP      9 => 0058
0057    ADDVN    3   3   0  ; 1
0058 => ITERC    7   3   3
0059    ITERL    7 => 0053
0060    GGET     4   6      ; "assert"
0061    TGETS    4   4  22  ; "is"
0062    TGETS    4   4   8  ; "same"
0063    KSHORT   5   0
0064    MOV      6   3
0065    CALL     4   1   3
0066    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:406-452
0001    KSTR     0   0      ; "spec/front/unit/data/2col.pdf"
0002    UGET     1   0      ; purgeDir
0003    UGET     2   1      ; DocSettings
0004    MOV      3   2
0005    TGETS    2   2   1  ; "getSidecarDir"
0006    MOV      4   0
0007    CALL     2   0   3
0008    CALLM    1   1   0
0009    GGET     1   2      ; "os"
0010    TGETS    1   1   3  ; "remove"
0011    UGET     2   1      ; DocSettings
0012    MOV      3   2
0013    TGETS    2   2   4  ; "getHistoryPath"
0014    MOV      4   0
0015    CALL     2   0   3
0016    CALLM    1   1   0
0017    UGET     1   2      ; UIManager
0018    MOV      2   1
0019    TGETS    1   1   5  ; "quit"
0020    CALL     1   1   2
0021    GGET     1   6      ; "assert"
0022    TGETS    1   1   7  ; "are"
0023    TGETS    1   1   8  ; "same"
0024    TNEW     2   0
0025    UGET     3   2      ; UIManager
0026    TGETS    3   3   9  ; "_task_queue"
0027    CALL     1   1   3
0028    GGET     1  10      ; "G_reader_settings"
0029    MOV      2   1
0030    TGETS    1   1  11  ; "saveSetting"
0031    KSTR     3  12      ; "footer"
0032    TDUP     4  13
0033    CALL     1   1   4
0034    UGET     1   3      ; ReaderUI
0035    MOV      2   1
0036    TGETS    1   1  14  ; "new"
0037    TDUP     3  16
0038    UGET     4   4      ; DocumentRegistry
0039    MOV      5   4
0040    TGETS    4   4  15  ; "openDocument"
0041    MOV      6   0
0042    CALL     4   2   3
0043    TSETS    4   3  17  ; "document"
0044    CALL     1   2   3
0045    TGETS    2   1  18  ; "view"
0046    TGETS    2   2  12  ; "footer"
0047    TDUP     3  19
0048    TNEW     4   0
0049    TSETS    4   3  20  ; "setting"
0050    MOV      5   2
0051    TGETS    4   2  21  ; "addToMainMenu"
0052    MOV      6   3
0053    CALL     4   1   3
0054    KSHORT   4   0
0055    GGET     5  22      ; "ipairs"
0056    UGET     6   2      ; UIManager
0057    TGETS    6   6   9  ; "_task_queue"
0058    CALL     5   4   2
0059    JMP      8 => 0065
0060 => TGETS   10   9  23  ; "action"
0061    TGETS   11   2  24  ; "autoRefreshTime"
0062    ISNEV   10  11
0063    JMP     10 => 0065
0064    ADDVN    4   4   0  ; 1
0065 => ITERC    8   3   3
0066    ITERL    8 => 0060
0067    GGET     5   6      ; "assert"
0068    TGETS    5   5  25  ; "is"
0069    TGETS    5   5   8  ; "same"
0070    KSHORT   6   1
0071    MOV      7   4
0072    CALL     5   1   3
0073    UGET     5   5      ; tapFooterMenu
0074    MOV      6   3
0075    KSTR     7  26      ; "Auto refresh time"
0076    CALL     5   1   3
0077    KSHORT   4   0
0078    GGET     5  22      ; "ipairs"
0079    UGET     6   2      ; UIManager
0080    TGETS    6   6   9  ; "_task_queue"
0081    CALL     5   4   2
0082    JMP      8 => 0088
0083 => TGETS   10   9  23  ; "action"
0084    TGETS   11   2  24  ; "autoRefreshTime"
0085    ISNEV   10  11
0086    JMP     10 => 0088
0087    ADDVN    4   4   0  ; 1
0088 => ITERC    8   3   3
0089    ITERL    8 => 0083
0090    GGET     5   6      ; "assert"
0091    TGETS    5   5  25  ; "is"
0092    TGETS    5   5   8  ; "same"
0093    KSHORT   6   0
0094    MOV      7   4
0095    CALL     5   1   3
0096    UGET     5   5      ; tapFooterMenu
0097    MOV      6   3
0098    KSTR     7  26      ; "Auto refresh time"
0099    CALL     5   1   3
0100    KSHORT   4   0
0101    GGET     5  22      ; "ipairs"
0102    UGET     6   2      ; UIManager
0103    TGETS    6   6   9  ; "_task_queue"
0104    CALL     5   4   2
0105    JMP      8 => 0111
0106 => TGETS   10   9  23  ; "action"
0107    TGETS   11   2  24  ; "autoRefreshTime"
0108    ISNEV   10  11
0109    JMP     10 => 0111
0110    ADDVN    4   4   0  ; 1
0111 => ITERC    8   3   3
0112    ITERL    8 => 0106
0113    GGET     5   6      ; "assert"
0114    TGETS    5   5  25  ; "is"
0115    TGETS    5   5   8  ; "same"
0116    KSHORT   6   1
0117    MOV      7   4
0118    CALL     5   1   3
0119    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:454-496
0001    GGET     0   0      ; "DTAP_ZONE_MINIBAR"
0002    GGET     1   0      ; "DTAP_ZONE_MINIBAR"
0003    KSHORT   2   0
0004    TSETS    2   1   1  ; "w"
0005    GGET     1   0      ; "DTAP_ZONE_MINIBAR"
0006    KSHORT   2   0
0007    TSETS    2   1   2  ; "h"
0008    KSTR     1   3      ; "spec/front/unit/data/2col.pdf"
0009    UGET     2   0      ; purgeDir
0010    UGET     3   1      ; DocSettings
0011    MOV      4   3
0012    TGETS    3   3   4  ; "getSidecarDir"
0013    MOV      5   1
0014    CALL     3   0   3
0015    CALLM    2   1   0
0016    GGET     2   5      ; "os"
0017    TGETS    2   2   6  ; "remove"
0018    UGET     3   1      ; DocSettings
0019    MOV      4   3
0020    TGETS    3   3   7  ; "getHistoryPath"
0021    MOV      5   1
0022    CALL     3   0   3
0023    CALLM    2   1   0
0024    UGET     2   2      ; UIManager
0025    MOV      3   2
0026    TGETS    2   2   8  ; "quit"
0027    CALL     2   1   2
0028    GGET     2   9      ; "assert"
0029    TGETS    2   2  10  ; "are"
0030    TGETS    2   2  11  ; "same"
0031    TNEW     3   0
0032    UGET     4   2      ; UIManager
0033    TGETS    4   4  12  ; "_task_queue"
0034    CALL     2   1   3
0035    GGET     2  13      ; "G_reader_settings"
0036    MOV      3   2
0037    TGETS    2   2  14  ; "saveSetting"
0038    KSTR     4  15      ; "reader_footer_mode"
0039    KSHORT   5   1
0040    CALL     2   1   4
0041    GGET     2  13      ; "G_reader_settings"
0042    MOV      3   2
0043    TGETS    2   2  14  ; "saveSetting"
0044    KSTR     4  16      ; "footer"
0045    TDUP     5  17
0046    CALL     2   1   4
0047    UGET     2   3      ; ReaderUI
0048    MOV      3   2
0049    TGETS    2   2  18  ; "new"
0050    TDUP     4  20
0051    UGET     5   4      ; DocumentRegistry
0052    MOV      6   5
0053    TGETS    5   5  19  ; "openDocument"
0054    MOV      7   1
0055    CALL     5   2   3
0056    TSETS    5   4  21  ; "document"
0057    CALL     2   2   3
0058    TGETS    3   2  22  ; "view"
0059    TGETS    3   3  16  ; "footer"
0060    TDUP     4  23
0061    TNEW     5   0
0062    TSETS    5   4  24  ; "setting"
0063    MOV      6   3
0064    TGETS    5   3  25  ; "addToMainMenu"
0065    MOV      7   4
0066    CALL     5   1   3
0067    KPRI     5   1
0068    TGETS    6   4  26  ; "status_bar"
0069    ISF          6
0070    JMP      7 => 0083
0071    GGET     6  27      ; "ipairs"
0072    TGETS    7   4  26  ; "status_bar"
0073    TGETS    7   7  28  ; "sub_item_table"
0074    CALL     6   4   2
0075    JMP      9 => 0081
0076 => TGETS   11  10  29  ; "text"
0077    ISNES   11  30      ; "Toggle mode"
0078    JMP     11 => 0081
0079    KPRI     5   2
0080    JMP      6 => 0083
0081 => ITERC    9   3   3
0082    ITERL    9 => 0076
0083 => GGET     6   9      ; "assert"
0084    TGETS    6   6  31  ; "is"
0085    TGETS    6   6  32  ; "truthy"
0086    MOV      7   5
0087    CALL     6   1   2
0088    GGET     6   9      ; "assert"
0089    TGETS    6   6  31  ; "is"
0090    TGETS    6   6  11  ; "same"
0091    KSHORT   7   1
0092    TGETS    8   3  33  ; "mode"
0093    CALL     6   1   3
0094    UGET     6   5      ; tapFooterMenu
0095    MOV      7   4
0096    KSTR     8  30      ; "Toggle mode"
0097    CALL     6   1   3
0098    GGET     6   9      ; "assert"
0099    TGETS    6   6  31  ; "is"
0100    TGETS    6   6  11  ; "same"
0101    KSHORT   7   2
0102    TGETS    8   3  33  ; "mode"
0103    CALL     6   1   3
0104    GSET     0   0      ; "DTAP_ZONE_MINIBAR"
0105    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:498-526
0001    KSTR     0   0      ; "spec/front/unit/data/2col.pdf"
0002    UGET     1   0      ; purgeDir
0003    UGET     2   1      ; DocSettings
0004    MOV      3   2
0005    TGETS    2   2   1  ; "getSidecarDir"
0006    MOV      4   0
0007    CALL     2   0   3
0008    CALLM    1   1   0
0009    GGET     1   2      ; "os"
0010    TGETS    1   1   3  ; "remove"
0011    UGET     2   1      ; DocSettings
0012    MOV      3   2
0013    TGETS    2   2   4  ; "getHistoryPath"
0014    MOV      4   0
0015    CALL     2   0   3
0016    CALLM    1   1   0
0017    UGET     1   2      ; UIManager
0018    MOV      2   1
0019    TGETS    1   1   5  ; "quit"
0020    CALL     1   1   2
0021    GGET     1   6      ; "assert"
0022    TGETS    1   1   7  ; "are"
0023    TGETS    1   1   8  ; "same"
0024    TNEW     2   0
0025    UGET     3   2      ; UIManager
0026    TGETS    3   3   9  ; "_task_queue"
0027    CALL     1   1   3
0028    GGET     1  10      ; "G_reader_settings"
0029    MOV      2   1
0030    TGETS    1   1  11  ; "saveSetting"
0031    KSTR     3  12      ; "footer"
0032    TDUP     4  13
0033    CALL     1   1   4
0034    UGET     1   3      ; ReaderUI
0035    MOV      2   1
0036    TGETS    1   1  14  ; "new"
0037    TDUP     3  16
0038    UGET     4   4      ; DocumentRegistry
0039    MOV      5   4
0040    TGETS    4   4  15  ; "openDocument"
0041    MOV      6   0
0042    CALL     4   2   3
0043    TSETS    4   3  17  ; "document"
0044    CALL     1   2   3
0045    TGETS    2   1  18  ; "view"
0046    TGETS    2   2  12  ; "footer"
0047    TDUP     3  19
0048    TNEW     4   0
0049    TSETS    4   3  20  ; "setting"
0050    MOV      5   2
0051    TGETS    4   2  21  ; "addToMainMenu"
0052    MOV      6   3
0053    CALL     4   1   3
0054    GGET     4   6      ; "assert"
0055    TGETS    4   4   7  ; "are"
0056    TGETS    4   4   8  ; "same"
0057    KSTR     5  22      ; "1 / 2 | â‡’ 1"
0058    TGETS    6   2  23  ; "footer_text"
0059    TGETS    6   6  24  ; "text"
0060    CALL     4   1   3
0061    UGET     4   5      ; tapFooterMenu
0062    MOV      5   3
0063    KSTR     6  25      ; "Pages left in chapter"
0064    KSTR     7  26      ; " (â‡’)"
0065    CAT      6   6   7
0066    CALL     4   1   3
0067    GGET     4   6      ; "assert"
0068    TGETS    4   4   7  ; "are"
0069    TGETS    4   4   8  ; "same"
0070    KSTR     5  27      ; "1 / 2"
0071    TGETS    6   2  23  ; "footer_text"
0072    TGETS    6   6  24  ; "text"
0073    CALL     4   1   3
0074    UGET     4   5      ; tapFooterMenu
0075    MOV      5   3
0076    KSTR     6  28      ; "Progress percentage"
0077    KSTR     7  29      ; " (â¤ )"
0078    CAT      6   6   7
0079    CALL     4   1   3
0080    GGET     4   6      ; "assert"
0081    TGETS    4   4   7  ; "are"
0082    TGETS    4   4   8  ; "same"
0083    KSTR     5  30      ; "1 / 2 | â¤  50%"
0084    TGETS    6   2  23  ; "footer_text"
0085    TGETS    6   6  24  ; "text"
0086    CALL     4   1   3
0087    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:528-549
0001    KSTR     0   0      ; "spec/front/unit/data/2col.pdf"
0002    UGET     1   0      ; purgeDir
0003    UGET     2   1      ; DocSettings
0004    MOV      3   2
0005    TGETS    2   2   1  ; "getSidecarDir"
0006    MOV      4   0
0007    CALL     2   0   3
0008    CALLM    1   1   0
0009    GGET     1   2      ; "os"
0010    TGETS    1   1   3  ; "remove"
0011    UGET     2   1      ; DocSettings
0012    MOV      3   2
0013    TGETS    2   2   4  ; "getHistoryPath"
0014    MOV      4   0
0015    CALL     2   0   3
0016    CALLM    1   1   0
0017    UGET     1   2      ; UIManager
0018    MOV      2   1
0019    TGETS    1   1   5  ; "quit"
0020    CALL     1   1   2
0021    GGET     1   6      ; "assert"
0022    TGETS    1   1   7  ; "are"
0023    TGETS    1   1   8  ; "same"
0024    TNEW     2   0
0025    UGET     3   2      ; UIManager
0026    TGETS    3   3   9  ; "_task_queue"
0027    CALL     1   1   3
0028    GGET     1  10      ; "G_reader_settings"
0029    MOV      2   1
0030    TGETS    1   1  11  ; "saveSetting"
0031    KSTR     3  12      ; "reader_footer_mode"
0032    KSHORT   4   0
0033    CALL     1   1   4
0034    GGET     1  10      ; "G_reader_settings"
0035    MOV      2   1
0036    TGETS    1   1  11  ; "saveSetting"
0037    KSTR     3  13      ; "footer"
0038    TDUP     4  14
0039    CALL     1   1   4
0040    UGET     1   3      ; ReaderUI
0041    MOV      2   1
0042    TGETS    1   1  15  ; "new"
0043    TDUP     3  17
0044    UGET     4   4      ; DocumentRegistry
0045    MOV      5   4
0046    TGETS    4   4  16  ; "openDocument"
0047    MOV      6   0
0048    CALL     4   2   3
0049    TSETS    4   3  18  ; "document"
0050    CALL     1   2   3
0051    TGETS    2   1  19  ; "view"
0052    TGETS    2   2  13  ; "footer"
0053    GGET     3   6      ; "assert"
0054    TGETS    3   3  20  ; "is"
0055    TGETS    3   3  21  ; "truthy"
0056    TGETS    4   2  22  ; "settings"
0057    TGETS    4   4  23  ; "all_at_once"
0058    CALL     3   1   2
0059    GGET     3   6      ; "assert"
0060    TGETS    3   3  20  ; "is"
0061    TGETS    3   3  21  ; "truthy"
0062    KSHORT   4   0
0063    TGETS    5   2  24  ; "mode"
0064    CALL     3   1   3
0065    GGET     3   6      ; "assert"
0066    TGETS    3   3  20  ; "is"
0067    TGETS    3   3  25  ; "falsy"
0068    TGETS    4   1  19  ; "view"
0069    TGETS    4   4  26  ; "footer_visible"
0070    CALL     3   1   2
0071    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:551-585
0001    KSTR     0   0      ; "spec/front/unit/data/juliet.epub"
0002    UGET     1   0      ; purgeDir
0003    UGET     2   1      ; DocSettings
0004    MOV      3   2
0005    TGETS    2   2   1  ; "getSidecarDir"
0006    MOV      4   0
0007    CALL     2   0   3
0008    CALLM    1   1   0
0009    GGET     1   2      ; "os"
0010    TGETS    1   1   3  ; "remove"
0011    UGET     2   1      ; DocSettings
0012    MOV      3   2
0013    TGETS    2   2   4  ; "getHistoryPath"
0014    MOV      4   0
0015    CALL     2   0   3
0016    CALLM    1   1   0
0017    UGET     1   2      ; UIManager
0018    MOV      2   1
0019    TGETS    1   1   5  ; "quit"
0020    CALL     1   1   2
0021    GGET     1   6      ; "assert"
0022    TGETS    1   1   7  ; "are"
0023    TGETS    1   1   8  ; "same"
0024    TNEW     2   0
0025    UGET     3   2      ; UIManager
0026    TGETS    3   3   9  ; "_task_queue"
0027    CALL     1   1   3
0028    GGET     1  10      ; "G_reader_settings"
0029    MOV      2   1
0030    TGETS    1   1  11  ; "saveSetting"
0031    KSTR     3  12      ; "footer"
0032    TNEW     4   0
0033    CALL     1   1   4
0034    UGET     1   3      ; ReaderUI
0035    MOV      2   1
0036    TGETS    1   1  13  ; "new"
0037    TDUP     3  15
0038    UGET     4   4      ; DocumentRegistry
0039    MOV      5   4
0040    TGETS    4   4  14  ; "openDocument"
0041    MOV      6   0
0042    CALL     4   2   3
0043    TSETS    4   3  16  ; "document"
0044    CALL     1   2   3
0045    TGETS    2   1  17  ; "view"
0046    TGETS    2   2  12  ; "footer"
0047    TDUP     3  18
0048    TNEW     4   0
0049    TSETS    4   3  19  ; "setting"
0050    MOV      5   2
0051    TGETS    4   2  20  ; "addToMainMenu"
0052    MOV      6   3
0053    CALL     4   1   3
0054    GGET     4   6      ; "assert"
0055    TGETS    4   4  21  ; "is"
0056    TGETS    4   4   8  ; "same"
0057    KPRI     5   2
0058    TGETS    6   2  22  ; "has_no_mode"
0059    CALL     4   1   3
0060    GGET     4   6      ; "assert"
0061    TGETS    4   4  21  ; "is"
0062    TGETS    4   4   8  ; "same"
0063    KSHORT   5   0
0064    TGETS    6   2  23  ; "text_width"
0065    CALL     4   1   3
0066    UGET     4   5      ; tapFooterMenu
0067    MOV      5   3
0068    KSTR     6  24      ; "Progress percentage"
0069    KSTR     7  25      ; " (â¤ )"
0070    CAT      6   6   7
0071    CALL     4   1   3
0072    GGET     4   6      ; "assert"
0073    TGETS    4   4   7  ; "are"
0074    TGETS    4   4   8  ; "same"
0075    KSTR     5  26      ; "â¤  0%"
0076    TGETS    6   2  27  ; "footer_text"
0077    TGETS    6   6  28  ; "text"
0078    CALL     4   1   3
0079    GGET     4   6      ; "assert"
0080    TGETS    4   4  21  ; "is"
0081    TGETS    4   4   8  ; "same"
0082    KPRI     5   1
0083    TGETS    6   2  22  ; "has_no_mode"
0084    CALL     4   1   3
0085    GGET     4   6      ; "assert"
0086    TGETS    4   4  21  ; "is"
0087    TGETS    4   4   8  ; "same"
0088    TGETS    5   2  27  ; "footer_text"
0089    MOV      6   5
0090    TGETS    5   5  29  ; "getSize"
0091    CALL     5   2   2
0092    TGETS    5   5  30  ; "w"
0093    TGETS    6   2  31  ; "text_left_margin"
0094    ADDVV    5   5   6
0095    TGETS    6   2  23  ; "text_width"
0096    CALL     4   1   3
0097    UGET     4   5      ; tapFooterMenu
0098    MOV      5   3
0099    KSTR     6  24      ; "Progress percentage"
0100    KSTR     7  25      ; " (â¤ )"
0101    CAT      6   6   7
0102    CALL     4   1   3
0103    GGET     4   6      ; "assert"
0104    TGETS    4   4  21  ; "is"
0105    TGETS    4   4   8  ; "same"
0106    KPRI     5   2
0107    TGETS    6   2  22  ; "has_no_mode"
0108    CALL     4   1   3
0109    UGET     4   5      ; tapFooterMenu
0110    MOV      5   3
0111    KSTR     6  24      ; "Progress percentage"
0112    KSTR     7  25      ; " (â¤ )"
0113    CAT      6   6   7
0114    CALL     4   1   3
0115    UGET     4   5      ; tapFooterMenu
0116    MOV      5   3
0117    KSTR     6  32      ; "Show all at once"
0118    CALL     4   1   3
0119    GGET     4   6      ; "assert"
0120    TGETS    4   4  21  ; "is"
0121    TGETS    4   4   8  ; "same"
0122    KPRI     5   1
0123    TGETS    6   2  22  ; "has_no_mode"
0124    CALL     4   1   3
0125    UGET     4   5      ; tapFooterMenu
0126    MOV      5   3
0127    KSTR     6  24      ; "Progress percentage"
0128    KSTR     7  25      ; " (â¤ )"
0129    CAT      6   6   7
0130    CALL     4   1   3
0131    GGET     4   6      ; "assert"
0132    TGETS    4   4  21  ; "is"
0133    TGETS    4   4   8  ; "same"
0134    KPRI     5   2
0135    TGETS    6   2  22  ; "has_no_mode"
0136    CALL     4   1   3
0137    UGET     4   5      ; tapFooterMenu
0138    MOV      5   3
0139    KSTR     6  24      ; "Progress percentage"
0140    KSTR     7  25      ; " (â¤ )"
0141    CAT      6   6   7
0142    CALL     4   1   3
0143    GGET     4   6      ; "assert"
0144    TGETS    4   4  21  ; "is"
0145    TGETS    4   4   8  ; "same"
0146    KPRI     5   1
0147    TGETS    6   2  22  ; "has_no_mode"
0148    CALL     4   1   3
0149    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:587-603
0001    KSTR     0   0      ; "spec/front/unit/data/juliet.epub"
0002    UGET     1   0      ; purgeDir
0003    UGET     2   1      ; DocSettings
0004    MOV      3   2
0005    TGETS    2   2   1  ; "getSidecarDir"
0006    MOV      4   0
0007    CALL     2   0   3
0008    CALLM    1   1   0
0009    GGET     1   2      ; "os"
0010    TGETS    1   1   3  ; "remove"
0011    UGET     2   1      ; DocSettings
0012    MOV      3   2
0013    TGETS    2   2   4  ; "getHistoryPath"
0014    MOV      4   0
0015    CALL     2   0   3
0016    CALLM    1   1   0
0017    UGET     1   2      ; UIManager
0018    MOV      2   1
0019    TGETS    1   1   5  ; "quit"
0020    CALL     1   1   2
0021    GGET     1   6      ; "G_reader_settings"
0022    MOV      2   1
0023    TGETS    1   1   7  ; "saveSetting"
0024    KSTR     3   8      ; "reader_footer_mode"
0025    KSHORT   4   2
0026    CALL     1   1   4
0027    GGET     1   6      ; "G_reader_settings"
0028    MOV      2   1
0029    TGETS    1   1   7  ; "saveSetting"
0030    KSTR     3   9      ; "footer"
0031    TDUP     4  10
0032    CALL     1   1   4
0033    UGET     1   3      ; ReaderUI
0034    MOV      2   1
0035    TGETS    1   1  11  ; "new"
0036    TDUP     3  13
0037    UGET     4   4      ; DocumentRegistry
0038    MOV      5   4
0039    TGETS    4   4  12  ; "openDocument"
0040    MOV      6   0
0041    CALL     4   2   3
0042    TSETS    4   3  14  ; "document"
0043    CALL     1   2   3
0044    TGETS    2   1  15  ; "view"
0045    TGETS    2   2   9  ; "footer"
0046    GGET     3  16      ; "assert"
0047    TGETS    3   3  17  ; "falsy"
0048    TGETS    4   2  18  ; "has_no_mode"
0049    CALL     3   1   2
0050    GGET     3  16      ; "assert"
0051    TGETS    3   3  19  ; "truthy"
0052    TGETS    4   1  15  ; "view"
0053    TGETS    4   4  20  ; "footer_visible"
0054    CALL     3   1   2
0055    GGET     3  16      ; "assert"
0056    TGETS    3   3  21  ; "is"
0057    TGETS    3   3  22  ; "same"
0058    KSHORT   4  15
0059    MOV      6   2
0060    TGETS    5   2  23  ; "getHeight"
0061    CALL     5   0   2
0062    CALLM    3   1   1
0063    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:605-621
0001    KSTR     0   0      ; "spec/front/unit/data/juliet.epub"
0002    UGET     1   0      ; purgeDir
0003    UGET     2   1      ; DocSettings
0004    MOV      3   2
0005    TGETS    2   2   1  ; "getSidecarDir"
0006    MOV      4   0
0007    CALL     2   0   3
0008    CALLM    1   1   0
0009    GGET     1   2      ; "os"
0010    TGETS    1   1   3  ; "remove"
0011    UGET     2   1      ; DocSettings
0012    MOV      3   2
0013    TGETS    2   2   4  ; "getHistoryPath"
0014    MOV      4   0
0015    CALL     2   0   3
0016    CALLM    1   1   0
0017    UGET     1   2      ; UIManager
0018    MOV      2   1
0019    TGETS    1   1   5  ; "quit"
0020    CALL     1   1   2
0021    GGET     1   6      ; "G_reader_settings"
0022    MOV      2   1
0023    TGETS    1   1   7  ; "saveSetting"
0024    KSTR     3   8      ; "reader_footer_mode"
0025    KSHORT   4   1
0026    CALL     1   1   4
0027    GGET     1   6      ; "G_reader_settings"
0028    MOV      2   1
0029    TGETS    1   1   7  ; "saveSetting"
0030    KSTR     3   9      ; "footer"
0031    TNEW     4   0
0032    CALL     1   1   4
0033    UGET     1   3      ; ReaderUI
0034    MOV      2   1
0035    TGETS    1   1  10  ; "new"
0036    TDUP     3  12
0037    UGET     4   4      ; DocumentRegistry
0038    MOV      5   4
0039    TGETS    4   4  11  ; "openDocument"
0040    MOV      6   0
0041    CALL     4   2   3
0042    TSETS    4   3  13  ; "document"
0043    CALL     1   2   3
0044    TGETS    2   1  14  ; "view"
0045    TGETS    2   2   9  ; "footer"
0046    GGET     3  15      ; "assert"
0047    TGETS    3   3  16  ; "truthy"
0048    TGETS    4   2  17  ; "has_no_mode"
0049    CALL     3   1   2
0050    GGET     3  15      ; "assert"
0051    TGETS    3   3  16  ; "truthy"
0052    TGETS    4   1  14  ; "view"
0053    TGETS    4   4  18  ; "footer_visible"
0054    CALL     3   1   2
0055    GGET     3  15      ; "assert"
0056    TGETS    3   3  19  ; "is"
0057    TGETS    3   3  20  ; "same"
0058    KSHORT   4  15
0059    MOV      6   2
0060    TGETS    5   2  21  ; "getHeight"
0061    CALL     5   0   2
0062    CALLM    3   1   1
0063    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:623-638
0001    KSTR     0   0      ; "spec/front/unit/data/juliet.epub"
0002    UGET     1   0      ; purgeDir
0003    UGET     2   1      ; DocSettings
0004    MOV      3   2
0005    TGETS    2   2   1  ; "getSidecarDir"
0006    MOV      4   0
0007    CALL     2   0   3
0008    CALLM    1   1   0
0009    GGET     1   2      ; "os"
0010    TGETS    1   1   3  ; "remove"
0011    UGET     2   1      ; DocSettings
0012    MOV      3   2
0013    TGETS    2   2   4  ; "getHistoryPath"
0014    MOV      4   0
0015    CALL     2   0   3
0016    CALLM    1   1   0
0017    UGET     1   2      ; UIManager
0018    MOV      2   1
0019    TGETS    1   1   5  ; "quit"
0020    CALL     1   1   2
0021    GGET     1   6      ; "G_reader_settings"
0022    MOV      2   1
0023    TGETS    1   1   7  ; "saveSetting"
0024    KSTR     3   8      ; "reader_footer_mode"
0025    KSHORT   4   1
0026    CALL     1   1   4
0027    GGET     1   6      ; "G_reader_settings"
0028    MOV      2   1
0029    TGETS    1   1   7  ; "saveSetting"
0030    KSTR     3   9      ; "footer"
0031    TDUP     4  10
0032    CALL     1   1   4
0033    UGET     1   3      ; ReaderUI
0034    MOV      2   1
0035    TGETS    1   1  11  ; "new"
0036    TDUP     3  13
0037    UGET     4   4      ; DocumentRegistry
0038    MOV      5   4
0039    TGETS    4   4  12  ; "openDocument"
0040    MOV      6   0
0041    CALL     4   2   3
0042    TSETS    4   3  14  ; "document"
0043    CALL     1   2   3
0044    TGETS    2   1  15  ; "view"
0045    TGETS    2   2   9  ; "footer"
0046    GGET     3  16      ; "assert"
0047    TGETS    3   3  17  ; "truthy"
0048    TGETS    4   2  18  ; "has_no_mode"
0049    CALL     3   1   2
0050    GGET     3  16      ; "assert"
0051    TGETS    3   3  19  ; "falsy"
0052    TGETS    4   1  15  ; "view"
0053    TGETS    4   4  20  ; "footer_visible"
0054    CALL     3   1   2
0055    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:640-655
0001    KSTR     0   0      ; "spec/front/unit/data/juliet.epub"
0002    UGET     1   0      ; purgeDir
0003    UGET     2   1      ; DocSettings
0004    MOV      3   2
0005    TGETS    2   2   1  ; "getSidecarDir"
0006    MOV      4   0
0007    CALL     2   0   3
0008    CALLM    1   1   0
0009    GGET     1   2      ; "os"
0010    TGETS    1   1   3  ; "remove"
0011    UGET     2   1      ; DocSettings
0012    MOV      3   2
0013    TGETS    2   2   4  ; "getHistoryPath"
0014    MOV      4   0
0015    CALL     2   0   3
0016    CALLM    1   1   0
0017    UGET     1   2      ; UIManager
0018    MOV      2   1
0019    TGETS    1   1   5  ; "quit"
0020    CALL     1   1   2
0021    GGET     1   6      ; "G_reader_settings"
0022    MOV      2   1
0023    TGETS    1   1   7  ; "saveSetting"
0024    KSTR     3   8      ; "footer"
0025    TDUP     4   9
0026    CALL     1   1   4
0027    UGET     1   3      ; ReaderUI
0028    MOV      2   1
0029    TGETS    1   1  10  ; "new"
0030    TDUP     3  12
0031    UGET     4   4      ; DocumentRegistry
0032    MOV      5   4
0033    TGETS    4   4  11  ; "openDocument"
0034    MOV      6   0
0035    CALL     4   2   3
0036    TSETS    4   3  13  ; "document"
0037    CALL     1   2   3
0038    TGETS    2   1  14  ; "view"
0039    TGETS    2   2   8  ; "footer"
0040    GGET     3  15      ; "assert"
0041    TGETS    3   3  16  ; "falsy"
0042    TGETS    4   1  14  ; "view"
0043    TGETS    4   4  17  ; "footer_visible"
0044    CALL     3   1   2
0045    GGET     3  15      ; "assert"
0046    TGETS    3   3  18  ; "truthy"
0047    TGETS    4   2  19  ; "onCloseDocument"
0048    ISEQP    4   0
0049    JMP      4 => 0052
0050    KPRI     4   1
0051    JMP      5 => 0053
0052 => KPRI     4   2
0053 => CALL     3   1   2
0054    GGET     3  15      ; "assert"
0055    TGETS    3   3  18  ; "truthy"
0056    TGETS    4   2  20  ; "mode"
0057    ISEQN    4   0      ; 0
0058    JMP      4 => 0061
0059    KPRI     4   1
0060    JMP      5 => 0062
0061 => KPRI     4   2
0062 => CALL     3   1   2
0063    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:657-679
0001    KSTR     0   0      ; "spec/front/unit/data/sample.txt"
0002    UGET     1   0      ; ReaderUI
0003    MOV      2   1
0004    TGETS    1   1   1  ; "new"
0005    TDUP     3   3
0006    UGET     4   1      ; DocumentRegistry
0007    MOV      5   4
0008    TGETS    4   4   2  ; "openDocument"
0009    MOV      6   0
0010    CALL     4   2   3
0011    TSETS    4   3   4  ; "document"
0012    CALL     1   2   3
0013    TGETS    2   1   5  ; "view"
0014    TGETS    2   2   6  ; "footer"
0015    MOV      4   2
0016    TGETS    3   2   7  ; "applyFooterMode"
0017    KSHORT   5   0
0018    CALL     3   1   3
0019    GGET     3   8      ; "assert"
0020    TGETS    3   3   9  ; "is"
0021    TGETS    3   3  10  ; "same"
0022    KSHORT   4   0
0023    TGETS    5   2  11  ; "mode"
0024    CALL     3   1   3
0025    GGET     3   8      ; "assert"
0026    TGETS    3   3  12  ; "falsy"
0027    TGETS    4   1   5  ; "view"
0028    TGETS    4   4  13  ; "footer_visible"
0029    CALL     3   1   2
0030    TGETS    3   1  14  ; "rolling"
0031    MOV      4   3
0032    TGETS    3   3  15  ; "onSetStatusLine"
0033    KSHORT   5   1
0034    CALL     3   1   3
0035    GGET     3   8      ; "assert"
0036    TGETS    3   3   9  ; "is"
0037    TGETS    3   3  10  ; "same"
0038    KSHORT   4   1
0039    TGETS    5   2  11  ; "mode"
0040    CALL     3   1   3
0041    GGET     3   8      ; "assert"
0042    TGETS    3   3  16  ; "truthy"
0043    TGETS    4   1   5  ; "view"
0044    TGETS    4   4  13  ; "footer_visible"
0045    CALL     3   1   2
0046    KSHORT   3   1
0047    TSETS    3   2  11  ; "mode"
0048    TGETS    3   1  14  ; "rolling"
0049    MOV      4   3
0050    TGETS    3   3  15  ; "onSetStatusLine"
0051    KSHORT   5   1
0052    CALL     3   1   3
0053    GGET     3   8      ; "assert"
0054    TGETS    3   3   9  ; "is"
0055    TGETS    3   3  10  ; "same"
0056    KSHORT   4   1
0057    TGETS    5   2  11  ; "mode"
0058    CALL     3   1   3
0059    GGET     3   8      ; "assert"
0060    TGETS    3   3  16  ; "truthy"
0061    TGETS    4   1   5  ; "view"
0062    TGETS    4   4  13  ; "footer_visible"
0063    CALL     3   1   2
0064    TGETS    3   1  14  ; "rolling"
0065    MOV      4   3
0066    TGETS    3   3  15  ; "onSetStatusLine"
0067    KSHORT   5   0
0068    CALL     3   1   3
0069    GGET     3   8      ; "assert"
0070    TGETS    3   3   9  ; "is"
0071    TGETS    3   3  10  ; "same"
0072    KSHORT   4   0
0073    TGETS    5   2  11  ; "mode"
0074    CALL     3   1   3
0075    GGET     3   8      ; "assert"
0076    TGETS    3   3  12  ; "falsy"
0077    TGETS    4   1   5  ; "view"
0078    TGETS    4   4  13  ; "footer_visible"
0079    CALL     3   1   2
0080    RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:1-680
0001    KNIL     0   6
0002    GGET     7   0      ; "setup"
0003    FNEW     8   1      ; readerfooter_spec.lua:6
0004    CALL     7   1   2
0005    GGET     7   2      ; "before_each"
0006    FNEW     8   3      ; readerfooter_spec.lua:50
0007    CALL     7   1   2
0008    GGET     7   4      ; "it"
0009    KSTR     8   5      ; "should setup footer as visible in all_at"~
0010    FNEW     9   6      ; readerfooter_spec.lua:66
0011    CALL     7   1   3
0012    GGET     7   4      ; "it"
0013    KSTR     8   7      ; "should setup footer as visible not in al"~
0014    FNEW     9   8      ; readerfooter_spec.lua:79
0015    CALL     7   1   3
0016    GGET     7   4      ; "it"
0017    KSTR     8   9      ; "should setup footer as invisible in full"~
0018    FNEW     9  10      ; readerfooter_spec.lua:105
0019    CALL     7   1   3
0020    GGET     7   4      ; "it"
0021    KSTR     8  11      ; "should setup footer as visible in mini p"~
0022    FNEW     9  12      ; readerfooter_spec.lua:121
0023    CALL     7   1   3
0024    GGET     7   4      ; "it"
0025    KSTR     8  13      ; "should setup footer as invisible"
0026    FNEW     9  14      ; readerfooter_spec.lua:137
0027    CALL     7   1   3
0028    GGET     7   4      ; "it"
0029    KSTR     8  15      ; "should setup footer for epub without err"~
0030    FNEW     9  16      ; readerfooter_spec.lua:153
0031    CALL     7   1   3
0032    GGET     7   4      ; "it"
0033    KSTR     8  17      ; "should setup footer for pdf without erro"~
0034    FNEW     9  18      ; readerfooter_spec.lua:171
0035    CALL     7   1   3
0036    GGET     7   4      ; "it"
0037    KSTR     8  19      ; "should switch between different modes"
0038    FNEW     9  20      ; readerfooter_spec.lua:186
0039    CALL     7   1   3
0040    GGET     7   4      ; "it"
0041    KSTR     8  21      ; "should rotate through different modes"
0042    FNEW     9  22      ; readerfooter_spec.lua:240
0043    CALL     7   1   3
0044    GGET     7   4      ; "it"
0045    KSTR     8  23      ; "should pick up screen resize in resetLay"~
0046    FNEW     9  24      ; readerfooter_spec.lua:278
0047    CALL     7   1   3
0048    GGET     7   4      ; "it"
0049    KSTR     8  25      ; "should update width on PosUpdate event"
0050    FNEW     9  26      ; readerfooter_spec.lua:306
0051    CALL     7   1   3
0052    GGET     7   4      ; "it"
0053    KSTR     8  27      ; "should support chapter markers"
0054    FNEW     9  28      ; readerfooter_spec.lua:324
0055    CALL     7   1   3
0056    GGET     7   4      ; "it"
0057    KSTR     8  29      ; "should schedule/unschedule auto refresh "~
0058    FNEW     9  30      ; readerfooter_spec.lua:348
0059    CALL     7   1   3
0060    GGET     7   4      ; "it"
0061    KSTR     8  31      ; "should not schedule auto refresh time ta"~
0062    FNEW     9  32      ; readerfooter_spec.lua:381
0063    CALL     7   1   3
0064    GGET     7   4      ; "it"
0065    KSTR     8  33      ; "should toggle auto refresh time task by "~
0066    FNEW     9  34      ; readerfooter_spec.lua:406
0067    CALL     7   1   3
0068    GGET     7   4      ; "it"
0069    KSTR     8  35      ; "should support toggle footer through men"~
0070    FNEW     9  36      ; readerfooter_spec.lua:454
0071    CALL     7   1   3
0072    GGET     7   4      ; "it"
0073    KSTR     8  37      ; "should remove and add modes to footer te"~
0074    FNEW     9  38      ; readerfooter_spec.lua:498
0075    CALL     7   1   3
0076    GGET     7   4      ; "it"
0077    KSTR     8  39      ; "should initialize text mode in all_at_on"~
0078    FNEW     9  40      ; readerfooter_spec.lua:528
0079    CALL     7   1   3
0080    GGET     7   4      ; "it"
0081    KSTR     8  41      ; "should support disabling all the modes"
0082    FNEW     9  42      ; readerfooter_spec.lua:551
0083    CALL     7   1   3
0084    GGET     7   4      ; "it"
0085    KSTR     8  43      ; "should return correct footer height in t"~
0086    FNEW     9  44      ; readerfooter_spec.lua:587
0087    CALL     7   1   3
0088    GGET     7   4      ; "it"
0089    KSTR     8  45      ; "should return correct footer height when"~
0090    FNEW     9  46      ; readerfooter_spec.lua:605
0091    CALL     7   1   3
0092    GGET     7   4      ; "it"
0093    KSTR     8  47      ; "should disable footer when all modes + p"~
0094    FNEW     9  48      ; readerfooter_spec.lua:623
0095    CALL     7   1   3
0096    GGET     7   4      ; "it"
0097    KSTR     8  49      ; "should disable footer if settings.disabl"~
0098    FNEW     9  50      ; readerfooter_spec.lua:640
0099    CALL     7   1   3
0100    GGET     7   4      ; "it"
0101    KSTR     8  51      ; "should toggle between full and min progr"~
0102    FNEW     9  52      ; readerfooter_spec.lua:657
0103    CALL     7   1   3
0104    UCLO     0 => 0105
0105 => RET0     0   1

-- BYTECODE -- readerfooter_spec.lua:0-681
0001    GGET     0   0      ; "describe"
0002    KSTR     1   1      ; "Readerfooter module"
0003    FNEW     2   2      ; readerfooter_spec.lua:1
0004    CALL     0   1   3
0005    RET0     0   1

