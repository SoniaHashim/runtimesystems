-- BYTECODE -- readerwikipedia.lua:31-36
0001    TGETS    1   0   0  ; "ui"
0002    TGETS    1   1   1  ; "menu"
0003    MOV      2   1
0004    TGETS    1   1   2  ; "registerToMainMenu"
0005    MOV      3   0
0006    CALL     1   1   3
0007    UGET     1   0      ; wikipedia_history
0008    IST          1
0009    JMP      1 => 0022
0010    UGET     1   1      ; LuaData
0011    MOV      2   1
0012    TGETS    1   1   3  ; "open"
0013    UGET     3   2      ; DataStorage
0014    MOV      4   3
0015    TGETS    3   3   4  ; "getSettingsDir"
0016    CALL     3   2   2
0017    KSTR     4   5      ; "/wikipedia_history.lua"
0018    CAT      3   3   4
0019    TDUP     4   6
0020    CALL     1   2   4
0021    USETV    0   1      ; wikipedia_history
0022 => RET0     0   1

-- BYTECODE -- readerwikipedia.lua:47-49
0001    UGET     0   0      ; UIManager
0002    MOV      1   0
0003    TGETS    0   0   0  ; "close"
0004    UGET     2   1      ; self
0005    TGETS    2   2   1  ; "input_dialog"
0006    CALL     0   1   3
0007    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:54-57
0001    UGET     0   0      ; UIManager
0002    MOV      1   0
0003    TGETS    0   0   0  ; "close"
0004    UGET     2   1      ; self
0005    TGETS    2   2   1  ; "input_dialog"
0006    CALL     0   1   3
0007    UGET     0   1      ; self
0008    MOV      1   0
0009    TGETS    0   0   2  ; "onLookupWikipedia"
0010    UGET     2   1      ; self
0011    TGETS    2   2   1  ; "input_dialog"
0012    MOV      3   2
0013    TGETS    2   2   3  ; "getInputText"
0014    CALL     2   0   2
0015    CALLM    0   1   1
0016    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:38-64
0001    UGET     1   0      ; InputDialog
0002    MOV      2   1
0003    TGETS    1   1   1  ; "new"
0004    TDUP     3   3
0005    UGET     4   1      ; _
0006    KSTR     5   2      ; "Enter words to look up on Wikipedia"
0007    CALL     4   2   2
0008    TSETS    4   3   4  ; "title"
0009    TNEW     4   3
0010    TNEW     5   3
0011    TDUP     6   6
0012    UGET     7   1      ; _
0013    KSTR     8   5      ; "Cancel"
0014    CALL     7   2   2
0015    TSETS    7   6   7  ; "text"
0016    FNEW     7   8      ; readerwikipedia.lua:47
0017    TSETS    7   6   9  ; "callback"
0018    TSETB    6   5   1
0019    TDUP     6  11
0020    UGET     7   1      ; _
0021    KSTR     8  10      ; "Search Wikipedia"
0022    CALL     7   2   2
0023    TSETS    7   6   7  ; "text"
0024    FNEW     7  12      ; readerwikipedia.lua:54
0025    TSETS    7   6   9  ; "callback"
0026    TSETB    6   5   2
0027    TSETB    5   4   1
0028    TSETS    4   3  13  ; "buttons"
0029    CALL     1   2   3
0030    TSETS    1   0   0  ; "input_dialog"
0031    UGET     1   2      ; UIManager
0032    MOV      2   1
0033    TGETS    1   1  14  ; "show"
0034    TGETS    3   0   0  ; "input_dialog"
0035    CALL     1   1   3
0036    TGETS    1   0   0  ; "input_dialog"
0037    MOV      2   1
0038    TGETS    1   1  15  ; "onShowKeyboard"
0039    CALL     1   1   2
0040    UCLO     0 => 0041
0041 => RET0     0   1

-- BYTECODE -- readerwikipedia.lua:69-69
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "onShowWikipediaLookup"
0004    CALL     0   1   2
0005    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:73-75
0001    UGET     0   0      ; wikipedia_history
0002    MOV      1   0
0003    TGETS    0   0   0  ; "has"
0004    KSTR     2   1      ; "wikipedia_history"
0005    CALLT    0   3

-- BYTECODE -- readerwikipedia.lua:100-102
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "onLookupWikipedia"
0004    UGET     2   1      ; value
0005    TGETS    2   2   1  ; "word"
0006    KPRI     3   0
0007    UGET     4   1      ; value
0008    TGETS    4   4   2  ; "page"
0009    UGET     5   1      ; value
0010    TGETS    5   5   3  ; "lang"
0011    CALL     0   1   6
0012    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:76-109
0001    UGET     0   0      ; wikipedia_history
0002    MOV      1   0
0003    TGETS    0   0   0  ; "readSetting"
0004    KSTR     2   1      ; "wikipedia_history"
0005    CALL     0   2   3
0006    TNEW     1   0
0007    KPRI     2   0
0008    UGET     3   1      ; self
0009    MOV      4   3
0010    TGETS    3   3   2  ; "initLanguages"
0011    CALL     3   1   2
0012    LEN      3   0
0013    KSHORT   4   1
0014    KSHORT   5  -1
0015    FORI     3 => 0072
0016 => TGETV    7   0   6
0017    TGETS    8   7   3  ; "book_title"
0018    ISEQV    8   2
0019    JMP      8 => 0029
0020    GGET     8   4      ; "table"
0021    TGETS    8   8   5  ; "insert"
0022    MOV      9   1
0023    TDUP    10   7
0024    TGETS   11   7   3  ; "book_title"
0025    KSTR    12   6      ; ":"
0026    CAT     11  11  12
0027    TSETB   11  10   1
0028    CALL     8   1   3
0029 => TGETS    2   7   3  ; "book_title"
0030    KSTR     8   8      ; "▱ "
0031    TGETS    9   7   9  ; "page"
0032    ISF          9
0033    JMP     10 => 0035
0034    KSTR     8  10      ; "▤ "
0035 => KSTR     9  11      ; ""
0036    TGETS   10   7  12  ; "lang"
0037    UGET    11   1      ; self
0038    TGETS   11  11  13  ; "wiki_languages"
0039    TGETB   11  11   1
0040    MOV     12  11
0041    TGETS   11  11  14  ; "lower"
0042    CALL    11   2   2
0043    ISEQV   10  11
0044    JMP     10 => 0052
0045    KSTR    10  15      ; " ["
0046    TGETS   11   7  12  ; "lang"
0047    MOV     12  11
0048    TGETS   11  11  16  ; "upper"
0049    CALL    11   2   2
0050    KSTR    12  17      ; "]"
0051    CAT      9  10  12
0052 => MOV     10   8
0053    TGETS   11   7  18  ; "word"
0054    MOV     12   9
0055    CAT     10  10  12
0056    GGET    11   4      ; "table"
0057    TGETS   11  11   5  ; "insert"
0058    MOV     12   1
0059    TDUP    13  24
0060    GGET    14  19      ; "os"
0061    TGETS   14  14  20  ; "date"
0062    KSTR    15  21      ; "%Y-%m-%d %H:%M:%S"
0063    TGETS   16   7  22  ; "time"
0064    CALL    14   2   3
0065    TSETB   14  13   1
0066    TSETB   10  13   2
0067    FNEW    14  23      ; readerwikipedia.lua:100
0068    TSETS   14  13  25  ; "callback"
0069    CALL    11   1   3
0070    UCLO     7 => 0071
0071 => FORL     3 => 0016
0072 => UGET     3   2      ; UIManager
0073    MOV      4   3
0074    TGETS    3   3  26  ; "show"
0075    UGET     5   3      ; KeyValuePage
0076    MOV      6   5
0077    TGETS    5   5  27  ; "new"
0078    TDUP     7  29
0079    UGET     8   4      ; _
0080    KSTR     9  28      ; "Wikipedia history"
0081    CALL     8   2   2
0082    TSETS    8   7  30  ; "title"
0083    TSETS    1   7  31  ; "kv_pairs"
0084    CALL     5   0   3
0085    CALLM    3   1   1
0086    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:119-137
0001    TNEW     0   0
0002    UGET     1   0      ; wikilang_input
0003    MOV      2   1
0004    TGETS    1   1   0  ; "getInputText"
0005    CALL     1   2   2
0006    MOV      3   1
0007    TGETS    2   1   1  ; "gmatch"
0008    KSTR     4   2      ; "%S+"
0009    CALL     2   4   3
0010    JMP      5 => 0043
0011 => MOV      7   5
0012    TGETS    6   5   3  ; "match"
0013    KSTR     8   4      ; "^[%a-]+$"
0014    CALL     6   2   3
0015    IST          6
0016    JMP      6 => 0034
0017    UGET     6   1      ; UIManager
0018    MOV      7   6
0019    TGETS    6   6   5  ; "show"
0020    UGET     8   2      ; InfoMessage
0021    MOV      9   8
0022    TGETS    8   8   6  ; "new"
0023    TDUP    10   8
0024    UGET    11   3      ; T
0025    UGET    12   4      ; _
0026    KSTR    13   7      ; "%1 does not look like a valid Wikipedia "~
0027    CALL    12   2   2
0028    MOV     13   5
0029    CALL    11   2   3
0030    TSETS   11  10   9  ; "text"
0031    CALL     8   0   3
0032    CALLM    6   1   1
0033    RET0     0   1
0034 => MOV      7   5
0035    TGETS    6   5  10  ; "lower"
0036    CALL     6   2   2
0037    MOV      5   6
0038    GGET     6  11      ; "table"
0039    TGETS    6   6  12  ; "insert"
0040    MOV      7   0
0041    MOV      8   5
0042    CALL     6   1   3
0043 => ITERC    5   2   3
0044    ITERL    5 => 0011
0045    GGET     2  13      ; "G_reader_settings"
0046    MOV      3   2
0047    TGETS    2   2  14  ; "saveSetting"
0048    KSTR     4  15      ; "wikipedia_languages"
0049    MOV      5   0
0050    CALL     2   1   4
0051    UGET     2   5      ; self
0052    TNEW     3   0
0053    TSETS    3   2  16  ; "wiki_languages"
0054    UGET     2   5      ; self
0055    MOV      3   2
0056    TGETS    2   2  17  ; "initLanguages"
0057    CALL     2   1   2
0058    UGET     2   1      ; UIManager
0059    MOV      3   2
0060    TGETS    2   2  18  ; "close"
0061    UGET     4   0      ; wikilang_input
0062    CALL     2   1   3
0063    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:152-154
0001    UGET     0   0      ; UIManager
0002    MOV      1   0
0003    TGETS    0   0   0  ; "close"
0004    UGET     2   1      ; wikilang_input
0005    CALL     0   1   3
0006    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:117-166
0001    KPRI     0   0
0002    FNEW     1   0      ; readerwikipedia.lua:119
0003    UGET     2   4      ; self
0004    MOV      3   2
0005    TGETS    2   2   1  ; "initLanguages"
0006    CALL     2   1   2
0007    GGET     2   2      ; "table"
0008    TGETS    2   2   3  ; "concat"
0009    UGET     3   4      ; self
0010    TGETS    3   3   4  ; "wiki_languages"
0011    KSTR     4   5      ; " "
0012    CALL     2   2   3
0013    UGET     3   5      ; InputDialog
0014    MOV      4   3
0015    TGETS    3   3   6  ; "new"
0016    TDUP     5   8
0017    UGET     6   3      ; _
0018    KSTR     7   7      ; "Wikipedia languages"
0019    CALL     6   2   2
0020    TSETS    6   5   9  ; "title"
0021    TSETS    2   5  10  ; "input"
0022    UGET     6   3      ; _
0023    KSTR     7  11      ; "Enter one or more Wikipedia language cod"~
0024    CALL     6   2   2
0025    TSETS    6   5  12  ; "description"
0026    TNEW     6   3
0027    TNEW     7   3
0028    TDUP     8  14
0029    UGET     9   3      ; _
0030    KSTR    10  13      ; "Cancel"
0031    CALL     9   2   2
0032    TSETS    9   8  15  ; "text"
0033    FNEW     9  16      ; readerwikipedia.lua:152
0034    TSETS    9   8  17  ; "callback"
0035    TSETB    8   7   1
0036    TDUP     8  19
0037    UGET     9   3      ; _
0038    KSTR    10  18      ; "Save"
0039    CALL     9   2   2
0040    TSETS    9   8  15  ; "text"
0041    TSETS    1   8  17  ; "callback"
0042    TSETB    8   7   2
0043    TSETB    7   6   1
0044    TSETS    6   5  20  ; "buttons"
0045    CALL     3   2   3
0046    MOV      0   3
0047    UGET     3   0      ; UIManager
0048    MOV      4   3
0049    TGETS    3   3  21  ; "show"
0050    MOV      5   0
0051    CALL     3   1   3
0052    MOV      4   0
0053    TGETS    3   0  22  ; "onShowKeyboard"
0054    CALL     3   1   2
0055    UCLO     0 => 0056
0056 => RET0     0   1

-- BYTECODE -- readerwikipedia.lua:184-186
0001    UGET     0   0      ; UIManager
0002    MOV      1   0
0003    TGETS    0   0   0  ; "close"
0004    UGET     2   1      ; dialog
0005    CALL     0   1   3
0006    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:221-226
0001    GGET     1   0      ; "G_reader_settings"
0002    MOV      2   1
0003    TGETS    1   1   1  ; "saveSetting"
0004    KSTR     3   2      ; "wikipedia_save_dir"
0005    MOV      4   0
0006    CALL     1   1   4
0007    UGET     1   0      ; UIManager
0008    MOV      2   1
0009    TGETS    1   1   3  ; "show"
0010    UGET     3   1      ; InfoMessage
0011    MOV      4   3
0012    TGETS    3   3   4  ; "new"
0013    TDUP     5   7
0014    UGET     6   2      ; T
0015    UGET     7   3      ; _
0016    KSTR     8   5      ; "Wikipedia 'Save as EPUB' directory set t"~
0017    CALL     7   2   2
0018    UGET     8   4      ; BD
0019    TGETS    8   8   6  ; "dirpath"
0020    MOV      9   0
0021    CALL     8   0   2
0022    CALLM    6   2   1
0023    TSETS    6   5   8  ; "text"
0024    CALL     3   0   3
0025    CALLM    1   1   1
0026    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:192-229
0001    UGET     0   0      ; UIManager
0002    MOV      1   0
0003    TGETS    0   0   0  ; "close"
0004    UGET     2   1      ; dialog
0005    CALL     0   1   3
0006    GGET     0   1      ; "G_reader_settings"
0007    MOV      1   0
0008    TGETS    0   0   2  ; "readSetting"
0009    KSTR     2   3      ; "wikipedia_save_dir"
0010    CALL     0   2   3
0011    IST          0
0012    JMP      1 => 0019
0013    GGET     1   1      ; "G_reader_settings"
0014    MOV      2   1
0015    TGETS    1   1   2  ; "readSetting"
0016    KSTR     3   4      ; "home_dir"
0017    CALL     1   2   3
0018    MOV      0   1
0019 => IST          0
0020    JMP      1 => 0027
0021    GGET     1   5      ; "require"
0022    KSTR     2   6      ; "apps/filemanager/filemanagerutil"
0023    CALL     1   2   2
0024    TGETS    1   1   7  ; "getDefaultDir"
0025    CALL     1   2   1
0026    MOV      0   1
0027 => IST          0
0028    JMP      1 => 0030
0029    KSTR     0   8      ; "/"
0030 => KPRI     1   1
0031    UGET     2   2      ; lfs
0032    TGETS    2   2   9  ; "dir"
0033    MOV      3   0
0034    CALL     2   4   2
0035    JMP      5 => 0060
0036 => UGET     6   2      ; lfs
0037    TGETS    6   6  10  ; "attributes"
0038    MOV      7   0
0039    KSTR     8   8      ; "/"
0040    MOV      9   5
0041    CAT      7   7   9
0042    CALL     6   2   2
0043    ISF          6
0044    JMP      7 => 0060
0045    TGETS    7   6  11  ; "mode"
0046    ISNES    7  12      ; "directory"
0047    JMP      7 => 0060
0048    ISEQS    5  13      ; "."
0049    JMP      7 => 0060
0050    ISEQS    5  14      ; ".."
0051    JMP      7 => 0060
0052    MOV      8   5
0053    TGETS    7   5  15  ; "sub"
0054    KSHORT   9  -4
0055    CALL     7   2   3
0056    ISEQS    7  16      ; ".sdr"
0057    JMP      7 => 0060
0058    KPRI     1   2
0059    JMP      2 => 0062
0060 => ITERC    5   2   3
0061    ITERL    5 => 0036
0062 => IST          1
0063    JMP      2 => 0069
0064    MOV      3   0
0065    TGETS    2   0  17  ; "match"
0066    KSTR     4  18      ; "(.*)/"
0067    CALL     2   2   3
0068    MOV      0   2
0069 => GGET     2   5      ; "require"
0070    KSTR     3  19      ; "ui/widget/pathchooser"
0071    CALL     2   2   2
0072    MOV      4   2
0073    TGETS    3   2  20  ; "new"
0074    TDUP     5  21
0075    TSETS    0   5  22  ; "path"
0076    FNEW     6  23      ; readerwikipedia.lua:221
0077    TSETS    6   5  24  ; "onConfirm"
0078    CALL     3   2   3
0079    UGET     4   0      ; UIManager
0080    MOV      5   4
0081    TGETS    4   4  25  ; "show"
0082    MOV      6   3
0083    CALL     4   1   3
0084    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:172-235
0001    GGET     0   0      ; "G_reader_settings"
0002    MOV      1   0
0003    TGETS    0   0   1  ; "readSetting"
0004    KSTR     2   2      ; "wikipedia_save_dir"
0005    CALL     0   2   3
0006    IST          0
0007    JMP      1 => 0014
0008    GGET     1   0      ; "G_reader_settings"
0009    MOV      2   1
0010    TGETS    1   1   1  ; "readSetting"
0011    KSTR     3   3      ; "home_dir"
0012    CALL     1   2   3
0013    MOV      0   1
0014 => IST          0
0015    JMP      1 => 0022
0016    GGET     1   4      ; "require"
0017    KSTR     2   5      ; "apps/filemanager/filemanagerutil"
0018    CALL     1   2   2
0019    TGETS    1   1   6  ; "getDefaultDir"
0020    CALL     1   2   1
0021    MOV      0   1
0022 => KPRI     1   0
0023    UGET     2   0      ; ButtonDialogTitle
0024    MOV      3   2
0025    TGETS    2   2   7  ; "new"
0026    TDUP     4  10
0027    UGET     5   1      ; T
0028    UGET     6   2      ; _
0029    KSTR     7   8      ; "Current Wikipedia 'Save as EPUB' directo"~
0030    CALL     6   2   2
0031    UGET     7   3      ; BD
0032    TGETS    7   7   9  ; "dirpath"
0033    MOV      8   0
0034    CALL     7   0   2
0035    CALLM    5   2   1
0036    TSETS    5   4  11  ; "title"
0037    TNEW     5   3
0038    TNEW     6   3
0039    TDUP     7  13
0040    UGET     8   2      ; _
0041    KSTR     9  12      ; "Keep this directory"
0042    CALL     8   2   2
0043    TSETS    8   7  14  ; "text"
0044    FNEW     8  15      ; readerwikipedia.lua:184
0045    TSETS    8   7  16  ; "callback"
0046    TSETB    7   6   1
0047    TSETB    6   5   1
0048    TNEW     6   3
0049    TDUP     7  18
0050    UGET     8   2      ; _
0051    KSTR     9  17      ; "Select another directory"
0052    CALL     8   2   2
0053    TSETS    8   7  14  ; "text"
0054    FNEW     8  19      ; readerwikipedia.lua:192
0055    TSETS    8   7  16  ; "callback"
0056    TSETB    7   6   1
0057    TSETB    6   5   2
0058    TSETS    5   4  20  ; "buttons"
0059    CALL     2   2   3
0060    MOV      1   2
0061    UGET     2   4      ; UIManager
0062    MOV      3   2
0063    TGETS    2   2  21  ; "show"
0064    MOV      4   1
0065    CALL     2   1   3
0066    UCLO     0 => 0067
0067 => RET0     0   1

-- BYTECODE -- readerwikipedia.lua:255-263
0001    UGET     0   0      ; util
0002    TGETS    0   0   0  ; "pathExists"
0003    UGET     1   1      ; wikipedia_dir
0004    CALL     0   2   2
0005    IST          0
0006    JMP      0 => 0011
0007    UGET     0   2      ; lfs
0008    TGETS    0   0   1  ; "mkdir"
0009    UGET     1   1      ; wikipedia_dir
0010    CALL     0   1   2
0011 => GGET     0   2      ; "G_reader_settings"
0012    MOV      1   0
0013    TGETS    0   0   3  ; "saveSetting"
0014    KSTR     2   4      ; "wikipedia_save_dir"
0015    UGET     3   1      ; wikipedia_dir
0016    CALL     0   1   4
0017    UGET     0   3      ; UIManager
0018    MOV      1   0
0019    TGETS    0   0   5  ; "show"
0020    UGET     2   4      ; InfoMessage
0021    MOV      3   2
0022    TGETS    2   2   6  ; "new"
0023    TDUP     4   9
0024    UGET     5   5      ; T
0025    UGET     6   6      ; _
0026    KSTR     7   7      ; "Wikipedia 'Save as EPUB' directory set t"~
0027    CALL     6   2   2
0028    UGET     7   7      ; BD
0029    TGETS    7   7   8  ; "dirpath"
0030    UGET     8   1      ; wikipedia_dir
0031    CALL     7   0   2
0032    CALLM    5   2   1
0033    TSETS    5   4  10  ; "text"
0034    CALL     2   0   3
0035    CALLM    0   1   1
0036    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:265-267
0001    UGET     0   0      ; choose_directory
0002    CALL     0   1   1
0003    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:171-274
0001    FNEW     0   0      ; readerwikipedia.lua:172
0002    GGET     1   1      ; "G_reader_settings"
0003    MOV      2   1
0004    TGETS    1   1   2  ; "readSetting"
0005    KSTR     3   3      ; "wikipedia_save_dir"
0006    CALL     1   2   3
0007    IST          1
0008    JMP      1 => 0076
0009    GGET     1   1      ; "G_reader_settings"
0010    MOV      2   1
0011    TGETS    1   1   2  ; "readSetting"
0012    KSTR     3   4      ; "home_dir"
0013    CALL     1   2   3
0014    ISF          1
0015    JMP      2 => 0024
0016    UGET     2   5      ; lfs
0017    TGETS    2   2   5  ; "attributes"
0018    MOV      3   1
0019    KSTR     4   6      ; "mode"
0020    CALL     2   2   3
0021    NOT      2   2
0022    ISNES    2   7      ; "directory"
0023    JMP      2 => 0030
0024 => GGET     2   8      ; "require"
0025    KSTR     3   9      ; "apps/filemanager/filemanagerutil"
0026    CALL     2   2   2
0027    TGETS    2   2  10  ; "getDefaultDir"
0028    CALL     2   2   1
0029    MOV      1   2
0030 => MOV      3   1
0031    TGETS    2   1  11  ; "gsub"
0032    KSTR     4  12      ; "^(.-)/*$"
0033    KSTR     5  13      ; "%1"
0034    CALL     2   2   4
0035    MOV      1   2
0036    ISF          1
0037    JMP      2 => 0076
0038    UGET     2   5      ; lfs
0039    TGETS    2   2   5  ; "attributes"
0040    MOV      3   1
0041    KSTR     4   6      ; "mode"
0042    CALL     2   2   3
0043    ISNES    2   7      ; "directory"
0044    JMP      2 => 0076
0045    MOV      2   1
0046    KSTR     3  14      ; "/Wikipedia"
0047    CAT      2   2   3
0048    UGET     3   2      ; _
0049    KSTR     4  15      ; "Wikipedia articles can be saved as an EP"~
0050    CALL     3   2   2
0051    UGET     4   4      ; UIManager
0052    MOV      5   4
0053    TGETS    4   4  16  ; "show"
0054    UGET     6   7      ; ConfirmBox
0055    MOV      7   6
0056    TGETS    6   6  17  ; "new"
0057    TDUP     8  18
0058    TSETS    3   8  19  ; "text"
0059    UGET     9   2      ; _
0060    KSTR    10  20      ; "Use ~/Wikipedia/"
0061    CALL     9   2   2
0062    TSETS    9   8  21  ; "ok_text"
0063    FNEW     9  22      ; readerwikipedia.lua:255
0064    TSETS    9   8  23  ; "ok_callback"
0065    UGET     9   2      ; _
0066    KSTR    10  24      ; "Select directory"
0067    CALL     9   2   2
0068    TSETS    9   8  25  ; "cancel_text"
0069    FNEW     9  26      ; readerwikipedia.lua:265
0070    TSETS    9   8  27  ; "cancel_callback"
0071    CALL     6   0   3
0072    CALLM    4   1   1
0073    UCLO     0 => 0074
0074 => RET0     0   1
0075    UCLO     2 => 0076
0076 => MOV      1   0
0077    CALL     1   1   1
0078    UCLO     0 => 0079
0079 => RET0     0   1

-- BYTECODE -- readerwikipedia.lua:278-280
0001    GGET     0   0      ; "G_reader_settings"
0002    MOV      1   0
0003    TGETS    0   0   1  ; "isTrue"
0004    KSTR     2   2      ; "wikipedia_save_in_book_dir"
0005    CALLT    0   3

-- BYTECODE -- readerwikipedia.lua:281-283
0001    GGET     0   0      ; "G_reader_settings"
0002    MOV      1   0
0003    TGETS    0   0   1  ; "flipNilOrFalse"
0004    KSTR     2   2      ; "wikipedia_save_in_book_dir"
0005    CALL     0   1   3
0006    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:288-290
0001    UGET     0   0      ; self
0002    TGETS    0   0   0  ; "disable_history"
0003    NOT      0   0
0004    RET1     0   2

-- BYTECODE -- readerwikipedia.lua:291-294
0001    UGET     0   0      ; self
0002    UGET     1   0      ; self
0003    TGETS    1   1   0  ; "disable_history"
0004    NOT      1   1
0005    TSETS    1   0   0  ; "disable_history"
0006    GGET     0   1      ; "G_reader_settings"
0007    MOV      1   0
0008    TGETS    0   0   2  ; "saveSetting"
0009    KSTR     2   3      ; "wikipedia_disable_history"
0010    UGET     3   0      ; self
0011    TGETS    3   3   0  ; "disable_history"
0012    CALL     0   1   4
0013    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:303-306
0001    UGET     0   0      ; wikipedia_history
0002    MOV      1   0
0003    TGETS    0   0   0  ; "reset"
0004    TNEW     2   0
0005    CALL     0   1   3
0006    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:299-308
0001    UGET     0   0      ; UIManager
0002    MOV      1   0
0003    TGETS    0   0   0  ; "show"
0004    UGET     2   1      ; ConfirmBox
0005    MOV      3   2
0006    TGETS    2   2   1  ; "new"
0007    TDUP     4   3
0008    UGET     5   2      ; _
0009    KSTR     6   2      ; "Clean Wikipedia history?"
0010    CALL     5   2   2
0011    TSETS    5   4   4  ; "text"
0012    UGET     5   2      ; _
0013    KSTR     6   5      ; "Clean"
0014    CALL     5   2   2
0015    TSETS    5   4   6  ; "ok_text"
0016    FNEW     5   7      ; readerwikipedia.lua:303
0017    TSETS    5   4   8  ; "ok_callback"
0018    CALL     2   0   3
0019    CALLM    0   1   1
0020    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:313-315
0001    GGET     0   0      ; "G_reader_settings"
0002    MOV      1   0
0003    TGETS    0   0   1  ; "nilOrTrue"
0004    KSTR     2   2      ; "wikipedia_show_image"
0005    CALLT    0   3

-- BYTECODE -- readerwikipedia.lua:316-318
0001    GGET     0   0      ; "G_reader_settings"
0002    MOV      1   0
0003    TGETS    0   0   1  ; "flipNilOrTrue"
0004    KSTR     2   2      ; "wikipedia_show_image"
0005    CALL     0   1   3
0006    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:322-324
0001    GGET     0   0      ; "G_reader_settings"
0002    MOV      1   0
0003    TGETS    0   0   1  ; "nilOrTrue"
0004    KSTR     2   2      ; "wikipedia_show_image"
0005    CALLT    0   3

-- BYTECODE -- readerwikipedia.lua:325-327
0001    GGET     0   0      ; "G_reader_settings"
0002    MOV      1   0
0003    TGETS    0   0   1  ; "nilOrTrue"
0004    KSTR     2   2      ; "wikipedia_show_more_images"
0005    CALL     0   2   3
0006    ISF          0
0007    JMP      1 => 0013
0008    GGET     0   0      ; "G_reader_settings"
0009    MOV      1   0
0010    TGETS    0   0   1  ; "nilOrTrue"
0011    KSTR     2   3      ; "wikipedia_show_image"
0012    CALL     0   2   3
0013 => RET1     0   2

-- BYTECODE -- readerwikipedia.lua:328-330
0001    GGET     0   0      ; "G_reader_settings"
0002    MOV      1   0
0003    TGETS    0   0   1  ; "flipNilOrTrue"
0004    KSTR     2   2      ; "wikipedia_show_more_images"
0005    CALL     0   1   3
0006    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:66-334
0001    TDUP     2   2
0002    UGET     3   0      ; _
0003    KSTR     4   1      ; "Wikipedia lookup"
0004    CALL     3   2   2
0005    TSETS    3   2   3  ; "text"
0006    FNEW     3   4      ; readerwikipedia.lua:69
0007    TSETS    3   2   5  ; "callback"
0008    TSETS    2   1   0  ; "wikipedia_lookup"
0009    TDUP     2   8
0010    UGET     3   0      ; _
0011    KSTR     4   7      ; "Wikipedia history"
0012    CALL     3   2   2
0013    TSETS    3   2   3  ; "text"
0014    FNEW     3   9      ; readerwikipedia.lua:73
0015    TSETS    3   2  10  ; "enabled_func"
0016    FNEW     3  11      ; readerwikipedia.lua:76
0017    TSETS    3   2   5  ; "callback"
0018    TSETS    2   1   6  ; "wikipedia_history"
0019    TDUP     2  14
0020    UGET     3   0      ; _
0021    KSTR     4  13      ; "Wikipedia settings"
0022    CALL     3   2   2
0023    TSETS    3   2   3  ; "text"
0024    TNEW     3   8
0025    TDUP     4  16
0026    UGET     5   0      ; _
0027    KSTR     6  15      ; "Set Wikipedia languages"
0028    CALL     5   2   2
0029    TSETS    5   4   3  ; "text"
0030    FNEW     5  17      ; readerwikipedia.lua:117
0031    TSETS    5   4   5  ; "callback"
0032    TSETB    4   3   1
0033    TDUP     4  19
0034    UGET     5   0      ; _
0035    KSTR     6  18      ; "Set Wikipedia 'Save as EPUB' directory"
0036    CALL     5   2   2
0037    TSETS    5   4   3  ; "text"
0038    FNEW     5  20      ; readerwikipedia.lua:171
0039    TSETS    5   4   5  ; "callback"
0040    TSETB    4   3   2
0041    TDUP     4  22
0042    UGET     5   0      ; _
0043    KSTR     6  21      ; "Save Wikipedia EPUB in current book dire"~
0044    CALL     5   2   2
0045    TSETS    5   4   3  ; "text"
0046    FNEW     5  23      ; readerwikipedia.lua:278
0047    TSETS    5   4  24  ; "checked_func"
0048    FNEW     5  25      ; readerwikipedia.lua:281
0049    TSETS    5   4   5  ; "callback"
0050    TSETB    4   3   3
0051    TDUP     4  27
0052    UGET     5   0      ; _
0053    KSTR     6  26      ; "Enable Wikipedia history"
0054    CALL     5   2   2
0055    TSETS    5   4   3  ; "text"
0056    FNEW     5  28      ; readerwikipedia.lua:288
0057    TSETS    5   4  24  ; "checked_func"
0058    FNEW     5  29      ; readerwikipedia.lua:291
0059    TSETS    5   4   5  ; "callback"
0060    TSETB    4   3   4
0061    TDUP     4  31
0062    UGET     5   0      ; _
0063    KSTR     6  30      ; "Clean Wikipedia history"
0064    CALL     5   2   2
0065    TSETS    5   4   3  ; "text"
0066    FNEW     5  32      ; readerwikipedia.lua:299
0067    TSETS    5   4   5  ; "callback"
0068    TSETB    4   3   5
0069    TDUP     4  34
0070    UGET     5   0      ; _
0071    KSTR     6  33      ; "Show image in search results"
0072    CALL     5   2   2
0073    TSETS    5   4   3  ; "text"
0074    FNEW     5  35      ; readerwikipedia.lua:313
0075    TSETS    5   4  24  ; "checked_func"
0076    FNEW     5  36      ; readerwikipedia.lua:316
0077    TSETS    5   4   5  ; "callback"
0078    TSETB    4   3   6
0079    TDUP     4  38
0080    UGET     5   0      ; _
0081    KSTR     6  37      ; "Show more images in full article"
0082    CALL     5   2   2
0083    TSETS    5   4   3  ; "text"
0084    FNEW     5  39      ; readerwikipedia.lua:322
0085    TSETS    5   4  10  ; "enabled_func"
0086    FNEW     5  40      ; readerwikipedia.lua:325
0087    TSETS    5   4  24  ; "checked_func"
0088    FNEW     5  41      ; readerwikipedia.lua:328
0089    TSETS    5   4   5  ; "callback"
0090    TSETB    4   3   7
0091    TSETS    3   2  42  ; "sub_item_table"
0092    TSETS    2   1  12  ; "wikipedia_settings"
0093    UCLO     0 => 0094
0094 => RET0     0   1

-- BYTECODE -- readerwikipedia.lua:348-359
0001    ISF          0
0002    JMP      1 => 0033
0003    ISEQS    0   0      ; ""
0004    JMP      1 => 0033
0005    MOV      2   0
0006    TGETS    1   0   1  ; "match"
0007    KSTR     3   2      ; "(.*)-"
0008    CALL     1   2   3
0009    ISTC     0   1
0010    JMP      2 => 0011
0011 => ISNES    0   3      ; "C"
0012    JMP      1 => 0014
0013    KSTR     0   4      ; "en"
0014 => MOV      2   0
0015    TGETS    1   0   5  ; "lower"
0016    CALL     1   2   2
0017    MOV      0   1
0018    UGET     1   0      ; self
0019    TGETS    1   1   6  ; "seen_lang"
0020    TGETV    1   1   0
0021    IST          1
0022    JMP      1 => 0033
0023    GGET     1   7      ; "table"
0024    TGETS    1   1   8  ; "insert"
0025    UGET     2   0      ; self
0026    TGETS    2   2   9  ; "wiki_languages"
0027    MOV      3   0
0028    CALL     1   1   3
0029    UGET     1   0      ; self
0030    TGETS    1   1   6  ; "seen_lang"
0031    KPRI     2   2
0032    TSETV    2   1   0
0033 => RET0     0   1

-- BYTECODE -- readerwikipedia.lua:336-376
0001    TGETS    2   0   0  ; "wiki_languages"
0002    LEN      2   2
0003    KSHORT   3   0
0004    ISGE     3   2
0005    JMP      2 => 0007
0006    UCLO     0 => 0069
0007 => GGET     2   1      ; "G_reader_settings"
0008    MOV      3   2
0009    TGETS    2   2   2  ; "readSetting"
0010    KSTR     4   3      ; "wikipedia_languages"
0011    CALL     2   2   3
0012    GGET     3   4      ; "type"
0013    MOV      4   2
0014    CALL     3   2   2
0015    ISNES    3   5      ; "table"
0016    JMP      3 => 0023
0017    LEN      3   2
0018    KSHORT   4   0
0019    ISGE     4   3
0020    JMP      3 => 0023
0021    TSETS    2   0   0  ; "wiki_languages"
0022    JMP      3 => 0067
0023 => TNEW     3   0
0024    TSETS    3   0   6  ; "seen_lang"
0025    FNEW     3   7      ; readerwikipedia.lua:348
0026    TGETS    4   0   8  ; "view"
0027    ISF          4
0028    JMP      5 => 0037
0029    MOV      4   3
0030    TGETS    5   0   8  ; "view"
0031    TGETS    5   5   9  ; "document"
0032    MOV      6   5
0033    TGETS    5   5  10  ; "getProps"
0034    CALL     5   2   2
0035    TGETS    5   5  11  ; "language"
0036    CALL     4   1   2
0037 => MOV      4   3
0038    GGET     5   1      ; "G_reader_settings"
0039    MOV      6   5
0040    TGETS    5   5   2  ; "readSetting"
0041    KSTR     7  11      ; "language"
0042    CALL     5   0   3
0043    CALLM    4   1   0
0044    TGETS    4   0   0  ; "wiki_languages"
0045    LEN      4   4
0046    ISNEN    4   0      ; 0
0047    JMP      4 => 0064
0048    ISF          1
0049    JMP      4 => 0064
0050    KNIL     4   5
0051    GGET     6  12      ; "pcall"
0052    UGET     7   0      ; Translator
0053    TGETS    7   7  13  ; "detect"
0054    UGET     8   0      ; Translator
0055    MOV      9   1
0056    CALL     6   3   4
0057    MOV      5   7
0058    MOV      4   6
0059    ISF          4
0060    JMP      6 => 0064
0061    MOV      6   3
0062    MOV      7   5
0063    CALL     6   1   2
0064 => MOV      4   3
0065    KSTR     5  14      ; "en"
0066    CALL     4   1   2
0067 => UCLO     0 => 0068
0068 => RET0     0   1
0069 => RET0     0   1

-- BYTECODE -- readerwikipedia.lua:380-382
0001    UGET     0   0      ; self
0002    MOV      1   0
0003    TGETS    0   0   0  ; "lookupWikipedia"
0004    UGET     2   1      ; word
0005    UGET     3   2      ; box
0006    UGET     4   3      ; get_fullpage
0007    UGET     5   4      ; forced_lang
0008    CALL     0   1   6
0009    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:378-384
0001    UGET     5   0      ; Trapper
0002    MOV      6   5
0003    TGETS    5   5   0  ; "wrap"
0004    FNEW     7   1      ; readerwikipedia.lua:380
0005    CALL     5   1   3
0006    KPRI     5   2
0007    UCLO     0 => 0008
0008 => RET1     5   2

-- BYTECODE -- readerwikipedia.lua:386-521
0001    UGET     5   0      ; NetworkMgr
0002    MOV      6   5
0003    TGETS    5   5   0  ; "isOnline"
0004    CALL     5   2   2
0005    IST          5
0006    JMP      5 => 0012
0007    UGET     5   0      ; NetworkMgr
0008    MOV      6   5
0009    TGETS    5   5   1  ; "promptWifiOn"
0010    CALL     5   1   2
0011    RET0     0   1
0012 => MOV      6   0
0013    TGETS    5   0   2  ; "initLanguages"
0014    MOV      7   1
0015    CALL     5   1   3
0016    KPRI     5   0
0017    ISF          4
0018    JMP      6 => 0021
0019    MOV      5   4
0020    JMP      6 => 0023
0021 => TGETS    6   0   3  ; "wiki_languages"
0022    TGETB    5   6   1
0023 => UGET     6   1      ; logger
0024    TGETS    6   6   4  ; "dbg"
0025    KSTR     7   5      ; "lookup word:"
0026    MOV      8   1
0027    MOV      9   2
0028    MOV     10   3
0029    CALL     6   1   5
0030    ISF          1
0031    JMP      6 => 0039
0032    IST          3
0033    JMP      6 => 0039
0034    MOV      7   0
0035    TGETS    6   0   6  ; "cleanSelection"
0036    MOV      8   1
0037    CALL     6   2   3
0038    MOV      1   6
0039 => UGET     6   1      ; logger
0040    TGETS    6   6   4  ; "dbg"
0041    KSTR     7   7      ; "stripped word:"
0042    MOV      8   1
0043    CALL     6   1   3
0044    ISNES    1   8      ; ""
0045    JMP      6 => 0047
0046    RET0     0   1
0047 => MOV      7   1
0048    TGETS    6   1   9  ; "gsub"
0049    KSTR     8  10      ; "_"
0050    KSTR     9  11      ; " "
0051    CALL     6   2   4
0052    TGETS    7   0  12  ; "disable_history"
0053    IST          7
0054    JMP      7 => 0110
0055    TGETS    7   0  13  ; "ui"
0056    TGETS    7   7  14  ; "doc_settings"
0057    ISF          7
0058    JMP      8 => 0068
0059    TGETS    7   0  13  ; "ui"
0060    TGETS    7   7  14  ; "doc_settings"
0061    MOV      8   7
0062    TGETS    7   7  15  ; "readSetting"
0063    KSTR     9  16      ; "doc_props"
0064    CALL     7   2   3
0065    TGETS    7   7  17  ; "title"
0066    IST          7
0067    JMP      8 => 0071
0068 => UGET     7   2      ; _
0069    KSTR     8  18      ; "Wikipedia lookup"
0070    CALL     7   2   2
0071 => ISNES    7   8      ; ""
0072    JMP      8 => 0093
0073    TGETS    8   0  13  ; "ui"
0074    TGETS    8   8  19  ; "document"
0075    ISF          8
0076    JMP      9 => 0093
0077    TGETS    8   0  13  ; "ui"
0078    TGETS    8   8  19  ; "document"
0079    TGETS    8   8  20  ; "file"
0080    ISF          8
0081    JMP      9 => 0093
0082    UGET     8   3      ; util
0083    TGETS    8   8  21  ; "splitFilePathName"
0084    TGETS    9   0  13  ; "ui"
0085    TGETS    9   9  19  ; "document"
0086    TGETS    9   9  20  ; "file"
0087    CALL     8   3   2
0088    UGET    10   3      ; util
0089    TGETS   10  10  22  ; "splitFileNameSuffix"
0090    MOV     11   9
0091    CALL    10   2   2
0092    MOV      7  10
0093 => UGET     8   4      ; wikipedia_history
0094    MOV      9   8
0095    TGETS    8   8  23  ; "addTableItem"
0096    KSTR    10  24      ; "wikipedia_history"
0097    TDUP    11  25
0098    TSETS    7  11  26  ; "book_title"
0099    GGET    12  27      ; "os"
0100    TGETS   12  12  28  ; "time"
0101    CALL    12   2   1
0102    TSETS   12  11  28  ; "time"
0103    TSETS    6  11  29  ; "word"
0104    MOV     13   5
0105    TGETS   12   5  30  ; "lower"
0106    CALL    12   2   2
0107    TSETS   12  11  31  ; "lang"
0108    TSETS    3  11  32  ; "page"
0109    CALL     8   1   4
0110 => KNIL     7   8
0111    ISF          3
0112    JMP      9 => 0132
0113    UGET     9   5      ; T
0114    UGET    10   2      ; _
0115    KSTR    11  34      ; "Retrieving Wikipedia %2 article:\n%1"
0116    CALL    10   2   2
0117    KSTR    11  35      ; "%1"
0118    MOV     13   5
0119    TGETS   12   5  36  ; "upper"
0120    CALL    12   0   2
0121    CALLM    9   2   2
0122    TSETS    9   0  33  ; "lookup_msg"
0123    UGET     9   2      ; _
0124    KSTR    10  37      ; "Failed to retrieve Wikipedia article."
0125    CALL     9   2   2
0126    MOV      8   9
0127    UGET     9   2      ; _
0128    KSTR    10  38      ; "Wikipedia article not found."
0129    CALL     9   2   2
0130    MOV      7   9
0131    JMP      9 => 0150
0132 => UGET     9   5      ; T
0133    UGET    10   2      ; _
0134    KSTR    11  39      ; "Searching Wikipedia %2 for:\n%1"
0135    CALL    10   2   2
0136    KSTR    11  35      ; "%1"
0137    MOV     13   5
0138    TGETS   12   5  36  ; "upper"
0139    CALL    12   0   2
0140    CALLM    9   2   2
0141    TSETS    9   0  33  ; "lookup_msg"
0142    UGET     9   2      ; _
0143    KSTR    10  40      ; "Failed searching Wikipedia."
0144    CALL     9   2   2
0145    MOV      8   9
0146    UGET     9   2      ; _
0147    KSTR    10  41      ; "No Wikipedia articles matching search te"~
0148    CALL     9   2   2
0149    MOV      7   9
0150 => MOV     10   0
0151    TGETS    9   0  42  ; "showLookupInfo"
0152    MOV     11   6
0153    CALL     9   1   3
0154    TNEW     9   0
0155    KNIL    10  11
0156    KPRI    12   1
0157    UGET    13   6      ; Wikipedia
0158    MOV     14  13
0159    TGETS   13  13  43  ; "setTrapWidget"
0160    TGETS   15   0  44  ; "lookup_progress_msg"
0161    CALL    13   1   3
0162    ISF          3
0163    JMP     13 => 0174
0164    GGET    13  45      ; "pcall"
0165    UGET    14   6      ; Wikipedia
0166    TGETS   14  14  46  ; "getFullPage"
0167    UGET    15   6      ; Wikipedia
0168    MOV     16   1
0169    MOV     17   5
0170    CALL    13   3   5
0171    MOV     11  14
0172    MOV     10  13
0173    JMP     13 => 0183
0174 => GGET    13  45      ; "pcall"
0175    UGET    14   6      ; Wikipedia
0176    TGETS   14  14  47  ; "searchAndGetIntros"
0177    UGET    15   6      ; Wikipedia
0178    MOV     16   1
0179    MOV     17   5
0180    CALL    13   3   5
0181    MOV     11  14
0182    MOV     10  13
0183 => UGET    13   6      ; Wikipedia
0184    MOV     14  13
0185    TGETS   13  13  48  ; "resetTrapWidget"
0186    CALL    13   1   2
0187    IST         10
0188    JMP     13 => 0200
0189    ISF         11
0190    JMP     13 => 0200
0191    GGET    13  49      ; "string"
0192    TGETS   13  13  50  ; "find"
0193    MOV     14  11
0194    UGET    15   6      ; Wikipedia
0195    TGETS   15  15  51  ; "dismissed_error_code"
0196    CALL    13   2   3
0197    ISF         13
0198    JMP     14 => 0200
0199    KPRI    12   2
0200 => ISF         10
0201    JMP     13 => 0288
0202    ISF         11
0203    JMP     13 => 0288
0204    TNEW    13   0
0205    KPRI    14   1
0206    GGET    15  52      ; "pairs"
0207    MOV     16  11
0208    CALL    15   4   2
0209    ISNEXT  18 => 0217
0210 => TGETS   20  19  53  ; "index"
0211    ISEQP   20   0
0212    JMP     20 => 0217
0213    TGETS   20  19  53  ; "index"
0214    ADDVN   20  20   0  ; 1
0215    TSETV   19  13  20
0216    KPRI    14   2
0217 => ITERN   18   3   3
0218    ITERL   18 => 0210
0219    ISF         14
0220    JMP     15 => 0222
0221    MOV     11  13
0222 => GGET    15  52      ; "pairs"
0223    MOV     16  11
0224    CALL    15   4   2
0225    ISNEXT  18 => 0285
0226 => TGETS   20  19  54  ; "extract"
0227    IST         20
0228    JMP     21 => 0230
0229    MOV     20   7
0230 => TGETS   21  19  55  ; "length"
0231    ISF         21
0232    JMP     22 => 0257
0233    GGET    21  56      ; "math"
0234    TGETS   21  21  57  ; "ceil"
0235    TGETS   22  19  55  ; "length"
0236    DIVVN   22  22   1  ; 1024
0237    CALL    21   2   2
0238    GGET    22  56      ; "math"
0239    TGETS   22  22  57  ; "ceil"
0240    TGETS   23  19  55  ; "length"
0241    MOV     25  20
0242    TGETS   24  20  58  ; "len"
0243    CALL    24   2   2
0244    ADDNV   24  24   0  ; 1
0245    DIVVV   23  23  24
0246    CALL    22   2   2
0247    MOV     23  20
0248    KSTR    24  59      ; "\n"
0249    UGET    25   5      ; T
0250    UGET    26   2      ; _
0251    KSTR    27  60      ; "(full article : %1 kB, = %2 x this intro"~
0252    CALL    26   2   2
0253    MOV     27  21
0254    MOV     28  22
0255    CALL    25   2   4
0256    CAT     20  23  25
0257 => TDUP    21  62
0258    UGET    22   5      ; T
0259    UGET    23   2      ; _
0260    KSTR    24  61      ; "Wikipedia %1"
0261    CALL    23   2   2
0262    MOV     25   5
0263    TGETS   24   5  36  ; "upper"
0264    CALL    24   0   2
0265    CALLM   22   2   1
0266    TSETS   22  21  63  ; "dict"
0267    TGETS   22  19  17  ; "title"
0268    TSETS   22  21  29  ; "word"
0269    TSETS   20  21  64  ; "definition"
0270    TSETS    3  21  65  ; "is_fullpage"
0271    TSETS    5  21  31  ; "lang"
0272    UGET    22   6      ; Wikipedia
0273    MOV     23  22
0274    TGETS   22  22  66  ; "isWikipediaLanguageRTL"
0275    MOV     24   5
0276    CALL    22   2   3
0277    TSETS   22  21  67  ; "rtl_lang"
0278    TGETS   22  19  68  ; "images"
0279    TSETS   22  21  68  ; "images"
0280    GGET    22  69      ; "table"
0281    TGETS   22  22  70  ; "insert"
0282    MOV     23   9
0283    MOV     24  21
0284    CALL    22   1   3
0285 => ITERN   18   3   3
0286    ITERL   18 => 0226
0287    JMP     13 => 0329
0288 => KPRI    13   0
0289    ISF         12
0290    JMP     14 => 0296
0291    UGET    14   2      ; _
0292    KSTR    15  71      ; "Wikipedia request canceled."
0293    CALL    14   2   2
0294    MOV     13  14
0295    JMP     14 => 0306
0296 => ISF         10
0297    JMP     14 => 0300
0298    MOV     13   7
0299    JMP     14 => 0306
0300 => MOV     13   8
0301    UGET    14   1      ; logger
0302    TGETS   14  14   4  ; "dbg"
0303    KSTR    15  72      ; "error:"
0304    MOV     16  11
0305    CALL    14   1   3
0306 => TNEW    14   3
0307    TDUP    15  73
0308    UGET    16   5      ; T
0309    UGET    17   2      ; _
0310    KSTR    18  61      ; "Wikipedia %1"
0311    CALL    17   2   2
0312    MOV     19   5
0313    TGETS   18   5  36  ; "upper"
0314    CALL    18   0   2
0315    CALLM   16   2   1
0316    TSETS   16  15  63  ; "dict"
0317    TSETS    1  15  29  ; "word"
0318    TSETS   13  15  64  ; "definition"
0319    TSETS    3  15  65  ; "is_fullpage"
0320    TSETS    5  15  31  ; "lang"
0321    TSETB   15  14   1
0322    MOV      9  14
0323    UGET    14   1      ; logger
0324    TGETS   14  14   4  ; "dbg"
0325    KSTR    15  74      ; "dummy result table:"
0326    MOV     16   1
0327    MOV     17   9
0328    CALL    14   1   4
0329 => MOV     14   0
0330    TGETS   13   0  75  ; "showDict"
0331    MOV     15   1
0332    MOV     16   9
0333    MOV     17   2
0334    CALL    13   1   5
0335    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:524-525
0001    RET0     0   1

-- BYTECODE -- readerwikipedia.lua:527-534
0001    UGET     1   0      ; NetworkMgr
0002    MOV      2   1
0003    TGETS    1   1   0  ; "isOnline"
0004    CALL     1   2   2
0005    ISF          1
0006    JMP      2 => 0011
0007    MOV      2   0
0008    TGETS    1   0   1  ; "lookupInput"
0009    CALL     1   1   2
0010    JMP      1 => 0015
0011 => UGET     1   0      ; NetworkMgr
0012    MOV      2   1
0013    TGETS    1   1   2  ; "promptWifiOn"
0014    CALL     1   1   2
0015 => KPRI     1   2
0016    RET1     1   2

-- BYTECODE -- readerwikipedia.lua:0-537
0001    GGET     0   0      ; "require"
0002    KSTR     1   1      ; "ui/bidi"
0003    CALL     0   2   2
0004    GGET     1   0      ; "require"
0005    KSTR     2   2      ; "ui/widget/buttondialogtitle"
0006    CALL     1   2   2
0007    GGET     2   0      ; "require"
0008    KSTR     3   3      ; "ui/widget/confirmbox"
0009    CALL     2   2   2
0010    GGET     3   0      ; "require"
0011    KSTR     4   4      ; "datastorage"
0012    CALL     3   2   2
0013    GGET     4   0      ; "require"
0014    KSTR     5   5      ; "ui/widget/infomessage"
0015    CALL     4   2   2
0016    GGET     5   0      ; "require"
0017    KSTR     6   6      ; "ui/widget/inputdialog"
0018    CALL     5   2   2
0019    GGET     6   0      ; "require"
0020    KSTR     7   7      ; "ui/widget/keyvaluepage"
0021    CALL     6   2   2
0022    GGET     7   0      ; "require"
0023    KSTR     8   8      ; "luadata"
0024    CALL     7   2   2
0025    GGET     8   0      ; "require"
0026    KSTR     9   9      ; "ui/network/manager"
0027    CALL     8   2   2
0028    GGET     9   0      ; "require"
0029    KSTR    10  10      ; "apps/reader/modules/readerdictionary"
0030    CALL     9   2   2
0031    GGET    10   0      ; "require"
0032    KSTR    11  11      ; "ui/trapper"
0033    CALL    10   2   2
0034    GGET    11   0      ; "require"
0035    KSTR    12  12      ; "ui/translator"
0036    CALL    11   2   2
0037    GGET    12   0      ; "require"
0038    KSTR    13  13      ; "ui/uimanager"
0039    CALL    12   2   2
0040    GGET    13   0      ; "require"
0041    KSTR    14  14      ; "ui/wikipedia"
0042    CALL    13   2   2
0043    GGET    14   0      ; "require"
0044    KSTR    15  15      ; "libs/libkoreader-lfs"
0045    CALL    14   2   2
0046    GGET    15   0      ; "require"
0047    KSTR    16  16      ; "logger"
0048    CALL    15   2   2
0049    GGET    16   0      ; "require"
0050    KSTR    17  17      ; "util"
0051    CALL    16   2   2
0052    GGET    17   0      ; "require"
0053    KSTR    18  18      ; "gettext"
0054    CALL    17   2   2
0055    GGET    18   0      ; "require"
0056    KSTR    19  19      ; "ffi/util"
0057    CALL    18   2   2
0058    TGETS   18  18  20  ; "template"
0059    KPRI    19   0
0060    MOV     21   9
0061    TGETS   20   9  21  ; "extend"
0062    TDUP    22  22
0063    TNEW    23   0
0064    TSETS   23  22  23  ; "wiki_languages"
0065    GGET    23  24      ; "G_reader_settings"
0066    MOV     24  23
0067    TGETS   23  23  25  ; "isTrue"
0068    KSTR    25  26      ; "wikipedia_disable_history"
0069    CALL    23   2   3
0070    TSETS   23  22  27  ; "disable_history"
0071    CALL    20   2   3
0072    FNEW    21  29      ; readerwikipedia.lua:31
0073    TSETS   21  20  28  ; "init"
0074    FNEW    21  31      ; readerwikipedia.lua:38
0075    TSETS   21  20  30  ; "lookupInput"
0076    FNEW    21  33      ; readerwikipedia.lua:66
0077    TSETS   21  20  32  ; "addToMainMenu"
0078    FNEW    21  35      ; readerwikipedia.lua:336
0079    TSETS   21  20  34  ; "initLanguages"
0080    FNEW    21  37      ; readerwikipedia.lua:378
0081    TSETS   21  20  36  ; "onLookupWikipedia"
0082    FNEW    21  39      ; readerwikipedia.lua:386
0083    TSETS   21  20  38  ; "lookupWikipedia"
0084    FNEW    21  41      ; readerwikipedia.lua:524
0085    TSETS   21  20  40  ; "onSaveSettings"
0086    FNEW    21  43      ; readerwikipedia.lua:527
0087    TSETS   21  20  42  ; "onShowWikipediaLookup"
0088    UCLO     0 => 0089
0089 => RET1    20   2

