
main <./spec/unit/readerfooter_spec.lua:0,0> (5 instructions, 20 bytes at 0x7ff4f84068d0)
0+ params, 3 slots, 0 upvalues, 0 locals, 2 constants, 1 function
	1	[1]	GETGLOBAL	0 -1	; describe
	2	[1]	LOADK    	1 -2	; "Readerfooter module"
	3	[680]	CLOSURE  	2 0	; 0x7ff4f8406b70
	4	[1]	CALL     	0 3 1
	5	[680]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:1,680> (220 instructions, 880 bytes at 0x7ff4f8406b70)
0 params, 10 slots, 0 upvalues, 7 locals, 27 constants, 26 functions
	1	[6]	GETGLOBAL	7 -1	; setup
	2	[48]	CLOSURE  	8 0	; 0x7ff4f8406e00
	3	[48]	MOVE     	0 0
	4	[48]	MOVE     	0 2
	5	[48]	MOVE     	0 1
	6	[48]	MOVE     	0 3
	7	[48]	MOVE     	0 4
	8	[48]	MOVE     	0 5
	9	[48]	MOVE     	0 6
	10	[6]	CALL     	7 2 1
	11	[50]	GETGLOBAL	7 -2	; before_each
	12	[64]	CLOSURE  	8 1	; 0x7ff4f8407e60
	13	[64]	MOVE     	0 3
	14	[50]	CALL     	7 2 1
	15	[66]	GETGLOBAL	7 -3	; it
	16	[66]	LOADK    	8 -4	; "should setup footer as visible in all_at_once mode"
	17	[77]	CLOSURE  	9 2	; 0x7ff4f84083f0
	18	[77]	MOVE     	0 4
	19	[77]	MOVE     	0 2
	20	[77]	MOVE     	0 1
	21	[77]	MOVE     	0 0
	22	[66]	CALL     	7 3 1
	23	[79]	GETGLOBAL	7 -3	; it
	24	[79]	LOADK    	8 -5	; "should setup footer as visible not in all_at_once"
	25	[103]	CLOSURE  	9 3	; 0x7ff4f8408d70
	26	[103]	MOVE     	0 4
	27	[103]	MOVE     	0 2
	28	[103]	MOVE     	0 1
	29	[103]	MOVE     	0 0
	30	[79]	CALL     	7 3 1
	31	[105]	GETGLOBAL	7 -3	; it
	32	[105]	LOADK    	8 -6	; "should setup footer as invisible in full screen mode"
	33	[119]	CLOSURE  	9 4	; 0x7ff4f8408f70
	34	[119]	MOVE     	0 4
	35	[119]	MOVE     	0 2
	36	[119]	MOVE     	0 1
	37	[119]	MOVE     	0 0
	38	[105]	CALL     	7 3 1
	39	[121]	GETGLOBAL	7 -3	; it
	40	[121]	LOADK    	8 -7	; "should setup footer as visible in mini progress bar mode"
	41	[135]	CLOSURE  	9 5	; 0x7ff4f84086a0
	42	[135]	MOVE     	0 4
	43	[135]	MOVE     	0 2
	44	[135]	MOVE     	0 1
	45	[135]	MOVE     	0 0
	46	[121]	CALL     	7 3 1
	47	[137]	GETGLOBAL	7 -3	; it
	48	[137]	LOADK    	8 -8	; "should setup footer as invisible"
	49	[151]	CLOSURE  	9 6	; 0x7ff4f8409b80
	50	[151]	MOVE     	0 4
	51	[151]	MOVE     	0 2
	52	[151]	MOVE     	0 1
	53	[151]	MOVE     	0 0
	54	[137]	CALL     	7 3 1
	55	[153]	GETGLOBAL	7 -3	; it
	56	[153]	LOADK    	8 -9	; "should setup footer for epub without error"
	57	[169]	CLOSURE  	9 7	; 0x7ff4f8408720
	58	[169]	MOVE     	0 4
	59	[169]	MOVE     	0 2
	60	[169]	MOVE     	0 1
	61	[169]	MOVE     	0 0
	62	[153]	CALL     	7 3 1
	63	[171]	GETGLOBAL	7 -3	; it
	64	[171]	LOADK    	8 -10	; "should setup footer for pdf without error"
	65	[184]	CLOSURE  	9 8	; 0x7ff4f840a640
	66	[184]	MOVE     	0 4
	67	[184]	MOVE     	0 2
	68	[184]	MOVE     	0 1
	69	[184]	MOVE     	0 0
	70	[171]	CALL     	7 3 1
	71	[186]	GETGLOBAL	7 -3	; it
	72	[186]	LOADK    	8 -11	; "should switch between different modes"
	73	[238]	CLOSURE  	9 9	; 0x7ff4f840af00
	74	[238]	MOVE     	0 4
	75	[238]	MOVE     	0 2
	76	[238]	MOVE     	0 1
	77	[238]	MOVE     	0 0
	78	[238]	MOVE     	0 6
	79	[186]	CALL     	7 3 1
	80	[240]	GETGLOBAL	7 -3	; it
	81	[240]	LOADK    	8 -12	; "should rotate through different modes"
	82	[276]	CLOSURE  	9 10	; 0x7ff4f840ab80
	83	[276]	MOVE     	0 1
	84	[276]	MOVE     	0 0
	85	[240]	CALL     	7 3 1
	86	[278]	GETGLOBAL	7 -3	; it
	87	[278]	LOADK    	8 -13	; "should pick up screen resize in resetLayout"
	88	[304]	CLOSURE  	9 11	; 0x7ff4f840ba10
	89	[304]	MOVE     	0 4
	90	[304]	MOVE     	0 2
	91	[304]	MOVE     	0 1
	92	[304]	MOVE     	0 0
	93	[304]	MOVE     	0 5
	94	[278]	CALL     	7 3 1
	95	[306]	GETGLOBAL	7 -3	; it
	96	[306]	LOADK    	8 -14	; "should update width on PosUpdate event"
	97	[322]	CLOSURE  	9 12	; 0x7ff4f840b950
	98	[322]	MOVE     	0 4
	99	[322]	MOVE     	0 2
	100	[322]	MOVE     	0 1
	101	[322]	MOVE     	0 0
	102	[306]	CALL     	7 3 1
	103	[324]	GETGLOBAL	7 -3	; it
	104	[324]	LOADK    	8 -15	; "should support chapter markers"
	105	[346]	CLOSURE  	9 13	; 0x7ff4f840c320
	106	[346]	MOVE     	0 4
	107	[346]	MOVE     	0 2
	108	[346]	MOVE     	0 1
	109	[346]	MOVE     	0 0
	110	[324]	CALL     	7 3 1
	111	[348]	GETGLOBAL	7 -3	; it
	112	[348]	LOADK    	8 -16	; "should schedule/unschedule auto refresh time task"
	113	[379]	CLOSURE  	9 14	; 0x7ff4f840cb40
	114	[379]	MOVE     	0 4
	115	[379]	MOVE     	0 2
	116	[379]	MOVE     	0 3
	117	[379]	MOVE     	0 1
	118	[379]	MOVE     	0 0
	119	[348]	CALL     	7 3 1
	120	[381]	GETGLOBAL	7 -3	; it
	121	[381]	LOADK    	8 -17	; "should not schedule auto refresh time task if footer is disabled"
	122	[404]	CLOSURE  	9 15	; 0x7ff4f8406f30
	123	[404]	MOVE     	0 4
	124	[404]	MOVE     	0 2
	125	[404]	MOVE     	0 3
	126	[404]	MOVE     	0 1
	127	[404]	MOVE     	0 0
	128	[381]	CALL     	7 3 1
	129	[406]	GETGLOBAL	7 -3	; it
	130	[406]	LOADK    	8 -18	; "should toggle auto refresh time task by toggling the menu"
	131	[452]	CLOSURE  	9 16	; 0x7ff4f840d960
	132	[452]	MOVE     	0 4
	133	[452]	MOVE     	0 2
	134	[452]	MOVE     	0 3
	135	[452]	MOVE     	0 1
	136	[452]	MOVE     	0 0
	137	[452]	MOVE     	0 6
	138	[406]	CALL     	7 3 1
	139	[454]	GETGLOBAL	7 -3	; it
	140	[454]	LOADK    	8 -19	; "should support toggle footer through menu if tap zone is disabled"
	141	[496]	CLOSURE  	9 17	; 0x7ff4f840ac80
	142	[496]	MOVE     	0 4
	143	[496]	MOVE     	0 2
	144	[496]	MOVE     	0 3
	145	[496]	MOVE     	0 1
	146	[496]	MOVE     	0 0
	147	[496]	MOVE     	0 6
	148	[454]	CALL     	7 3 1
	149	[498]	GETGLOBAL	7 -3	; it
	150	[498]	LOADK    	8 -20	; "should remove and add modes to footer text in all_at_once mode"
	151	[526]	CLOSURE  	9 18	; 0x7ff4f840b3a0
	152	[526]	MOVE     	0 4
	153	[526]	MOVE     	0 2
	154	[526]	MOVE     	0 3
	155	[526]	MOVE     	0 1
	156	[526]	MOVE     	0 0
	157	[526]	MOVE     	0 6
	158	[498]	CALL     	7 3 1
	159	[528]	GETGLOBAL	7 -3	; it
	160	[528]	LOADK    	8 -21	; "should initialize text mode in all_at_once mode"
	161	[549]	CLOSURE  	9 19	; 0x7ff4f840ee10
	162	[549]	MOVE     	0 4
	163	[549]	MOVE     	0 2
	164	[549]	MOVE     	0 3
	165	[549]	MOVE     	0 1
	166	[549]	MOVE     	0 0
	167	[528]	CALL     	7 3 1
	168	[551]	GETGLOBAL	7 -3	; it
	169	[551]	LOADK    	8 -22	; "should support disabling all the modes"
	170	[585]	CLOSURE  	9 20	; 0x7ff4f840fe00
	171	[585]	MOVE     	0 4
	172	[585]	MOVE     	0 2
	173	[585]	MOVE     	0 3
	174	[585]	MOVE     	0 1
	175	[585]	MOVE     	0 0
	176	[585]	MOVE     	0 6
	177	[551]	CALL     	7 3 1
	178	[587]	GETGLOBAL	7 -3	; it
	179	[587]	LOADK    	8 -23	; "should return correct footer height in time mode"
	180	[603]	CLOSURE  	9 21	; 0x7ff4f840efb0
	181	[603]	MOVE     	0 4
	182	[603]	MOVE     	0 2
	183	[603]	MOVE     	0 3
	184	[603]	MOVE     	0 1
	185	[603]	MOVE     	0 0
	186	[587]	CALL     	7 3 1
	187	[605]	GETGLOBAL	7 -3	; it
	188	[605]	LOADK    	8 -24	; "should return correct footer height when all modes are disabled"
	189	[621]	CLOSURE  	9 22	; 0x7ff4f840ee90
	190	[621]	MOVE     	0 4
	191	[621]	MOVE     	0 2
	192	[621]	MOVE     	0 3
	193	[621]	MOVE     	0 1
	194	[621]	MOVE     	0 0
	195	[605]	CALL     	7 3 1
	196	[623]	GETGLOBAL	7 -3	; it
	197	[623]	LOADK    	8 -25	; "should disable footer when all modes + progressbar are disabled"
	198	[638]	CLOSURE  	9 23	; 0x7ff4f8410ca0
	199	[638]	MOVE     	0 4
	200	[638]	MOVE     	0 2
	201	[638]	MOVE     	0 3
	202	[638]	MOVE     	0 1
	203	[638]	MOVE     	0 0
	204	[623]	CALL     	7 3 1
	205	[640]	GETGLOBAL	7 -3	; it
	206	[640]	LOADK    	8 -26	; "should disable footer if settings.disabled is true"
	207	[655]	CLOSURE  	9 24	; 0x7ff4f84109d0
	208	[655]	MOVE     	0 4
	209	[655]	MOVE     	0 2
	210	[655]	MOVE     	0 3
	211	[655]	MOVE     	0 1
	212	[655]	MOVE     	0 0
	213	[640]	CALL     	7 3 1
	214	[657]	GETGLOBAL	7 -3	; it
	215	[657]	LOADK    	8 -27	; "should toggle between full and min progress bar for cre documents"
	216	[679]	CLOSURE  	9 25	; 0x7ff4f8411680
	217	[679]	MOVE     	0 1
	218	[679]	MOVE     	0 0
	219	[657]	CALL     	7 3 1
	220	[680]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:6,48> (43 instructions, 172 bytes at 0x7ff4f8406e00)
0 params, 4 slots, 7 upvalues, 0 locals, 14 constants, 1 function
	1	[7]	GETGLOBAL	0 -1	; require
	2	[7]	LOADK    	1 -2	; "commonrequire"
	3	[7]	CALL     	0 2 1
	4	[8]	GETGLOBAL	0 -3	; package
	5	[8]	GETTABLE 	0 0 -4	; "unloadAll"
	6	[8]	CALL     	0 1 1
	7	[9]	GETGLOBAL	0 -1	; require
	8	[9]	LOADK    	1 -5	; "document/canvascontext"
	9	[9]	CALL     	0 2 2
	10	[9]	SELF     	0 0 -6	; "init"
	11	[9]	GETGLOBAL	2 -1	; require
	12	[9]	LOADK    	3 -7	; "device"
	13	[9]	CALL     	2 2 0
	14	[9]	CALL     	0 0 1
	15	[10]	GETGLOBAL	0 -1	; require
	16	[10]	LOADK    	1 -8	; "document/documentregistry"
	17	[10]	CALL     	0 2 2
	18	[10]	SETUPVAL 	0 0	; DocumentRegistry
	19	[11]	GETGLOBAL	0 -1	; require
	20	[11]	LOADK    	1 -9	; "docsettings"
	21	[11]	CALL     	0 2 2
	22	[11]	SETUPVAL 	0 1	; DocSettings
	23	[12]	GETGLOBAL	0 -1	; require
	24	[12]	LOADK    	1 -10	; "apps/reader/readerui"
	25	[12]	CALL     	0 2 2
	26	[12]	SETUPVAL 	0 2	; ReaderUI
	27	[13]	GETGLOBAL	0 -1	; require
	28	[13]	LOADK    	1 -11	; "ui/uimanager"
	29	[13]	CALL     	0 2 2
	30	[13]	SETUPVAL 	0 3	; UIManager
	31	[14]	GETGLOBAL	0 -1	; require
	32	[14]	LOADK    	1 -12	; "ffi/util"
	33	[14]	CALL     	0 2 2
	34	[14]	GETTABLE 	0 0 -13	; "purgeDir"
	35	[14]	SETUPVAL 	0 4	; purgeDir
	36	[15]	GETGLOBAL	0 -1	; require
	37	[15]	LOADK    	1 -7	; "device"
	38	[15]	CALL     	0 2 2
	39	[15]	GETTABLE 	0 0 -14	; "screen"
	40	[15]	SETUPVAL 	0 5	; Screen
	41	[47]	CLOSURE  	0 0	; 0x7ff4f84073a0
	42	[17]	SETUPVAL 	0 6	; tapFooterMenu
	43	[48]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:17,47> (61 instructions, 244 bytes at 0x7ff4f84073a0)
2 params, 15 slots, 0 upvalues, 14 locals, 10 constants, 0 functions
	1	[18]	GETTABLE 	2 0 -1	; "status_bar"
	2	[20]	TEST     	2 0 0
	3	[20]	JMP      	54	; to 58
	4	[21]	GETGLOBAL	3 -2	; ipairs
	5	[21]	GETTABLE 	4 2 -3	; "sub_item_table"
	6	[21]	CALL     	3 2 4
	7	[21]	JMP      	42	; to 50
	8	[22]	GETTABLE 	8 7 -4	; "text_func"
	9	[22]	TEST     	8 0 0
	10	[22]	JMP      	7	; to 18
	11	[22]	GETTABLE 	8 7 -4	; "text_func"
	12	[22]	CALL     	8 1 2
	13	[22]	EQ       	0 8 1
	14	[22]	JMP      	3	; to 18
	15	[23]	GETTABLE 	8 7 -5	; "callback"
	16	[23]	CALL     	8 1 1
	17	[24]	RETURN   	0 1
	18	[26]	GETTABLE 	8 7 -6	; "text"
	19	[26]	EQ       	0 8 1
	20	[26]	JMP      	3	; to 24
	21	[27]	GETTABLE 	8 7 -5	; "callback"
	22	[27]	CALL     	8 1 1
	23	[28]	RETURN   	0 1
	24	[30]	GETTABLE 	8 7 -3	; "sub_item_table"
	25	[30]	TEST     	8 0 0
	26	[30]	JMP      	23	; to 50
	27	[31]	GETTABLE 	8 7 -3	; "sub_item_table"
	28	[32]	GETGLOBAL	9 -2	; ipairs
	29	[32]	MOVE     	10 8
	30	[32]	CALL     	9 2 4
	31	[32]	JMP      	16	; to 48
	32	[33]	GETTABLE 	14 13 -4	; "text_func"
	33	[33]	TEST     	14 0 0
	34	[33]	JMP      	7	; to 42
	35	[33]	GETTABLE 	14 13 -4	; "text_func"
	36	[33]	CALL     	14 1 2
	37	[33]	EQ       	0 14 1
	38	[33]	JMP      	3	; to 42
	39	[34]	GETTABLE 	14 13 -5	; "callback"
	40	[34]	CALL     	14 1 1
	41	[35]	RETURN   	0 1
	42	[37]	GETTABLE 	14 13 -6	; "text"
	43	[37]	EQ       	0 14 1
	44	[37]	JMP      	3	; to 48
	45	[38]	GETTABLE 	14 13 -5	; "callback"
	46	[38]	CALL     	14 1 1
	47	[39]	RETURN   	0 1
	48	[32]	TFORLOOP 	9 2
	49	[40]	JMP      	-18	; to 32
	50	[21]	TFORLOOP 	3 2
	51	[42]	JMP      	-44	; to 8
	52	[44]	GETGLOBAL	3 -7	; error
	53	[44]	LOADK    	4 -8	; "Menu item not found: \""
	54	[44]	MOVE     	5 1
	55	[44]	LOADK    	6 -9	; "\"!"
	56	[44]	CONCAT   	4 4 6
	57	[44]	CALL     	3 2 1
	58	[46]	GETGLOBAL	3 -7	; error
	59	[46]	LOADK    	4 -10	; "Menu item not found: \"Status bar\"!"
	60	[46]	CALL     	3 2 1
	61	[47]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:50,64> (19 instructions, 76 bytes at 0x7ff4f8407e60)
0 params, 4 slots, 1 upvalue, 0 locals, 16 constants, 0 functions
	1	[51]	GETGLOBAL	0 -1	; G_reader_settings
	2	[51]	SELF     	0 0 -2	; "saveSetting"
	3	[51]	LOADK    	2 -3	; "footer"
	4	[51]	NEWTABLE 	3 0 10
	5	[52]	SETTABLE 	3 -4 -5	; "disabled" false
	6	[53]	SETTABLE 	3 -6 -7	; "all_at_once" true
	7	[54]	SETTABLE 	3 -8 -7	; "toc_markers" true
	8	[55]	SETTABLE 	3 -9 -7	; "battery" true
	9	[56]	SETTABLE 	3 -10 -7	; "time" true
	10	[57]	SETTABLE 	3 -11 -7	; "page_progress" true
	11	[58]	SETTABLE 	3 -12 -7	; "pages_left" true
	12	[59]	SETTABLE 	3 -13 -7	; "percentage" true
	13	[60]	SETTABLE 	3 -14 -7	; "book_time_to_read" true
	14	[61]	SETTABLE 	3 -15 -7	; "chapter_time_to_read" true
	15	[51]	CALL     	0 4 1
	16	[63]	GETUPVAL 	0 0	; UIManager
	17	[63]	SELF     	0 0 -16	; "run"
	18	[63]	CALL     	0 2 1
	19	[64]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:66,77> (40 instructions, 160 bytes at 0x7ff4f84083f0)
0 params, 7 slots, 4 upvalues, 2 locals, 18 constants, 0 functions
	1	[67]	GETGLOBAL	0 -1	; G_reader_settings
	2	[67]	SELF     	0 0 -2	; "saveSetting"
	3	[67]	LOADK    	2 -3	; "reader_footer_mode"
	4	[67]	LOADK    	3 -4	; 1
	5	[67]	CALL     	0 4 1
	6	[68]	LOADK    	0 -5	; "spec/front/unit/data/2col.pdf"
	7	[69]	GETUPVAL 	1 0	; purgeDir
	8	[69]	GETUPVAL 	2 1	; DocSettings
	9	[69]	SELF     	2 2 -6	; "getSidecarDir"
	10	[69]	MOVE     	4 0
	11	[69]	CALL     	2 3 0
	12	[69]	CALL     	1 0 1
	13	[70]	GETGLOBAL	1 -7	; os
	14	[70]	GETTABLE 	1 1 -8	; "remove"
	15	[70]	GETUPVAL 	2 1	; DocSettings
	16	[70]	SELF     	2 2 -9	; "getHistoryPath"
	17	[70]	MOVE     	4 0
	18	[70]	CALL     	2 3 0
	19	[70]	CALL     	1 0 1
	20	[72]	GETUPVAL 	1 2	; ReaderUI
	21	[72]	SELF     	1 1 -10	; "new"
	22	[72]	NEWTABLE 	3 0 1
	23	[73]	GETUPVAL 	4 3	; DocumentRegistry
	24	[73]	SELF     	4 4 -12	; "openDocument"
	25	[73]	MOVE     	6 0
	26	[73]	CALL     	4 3 2
	27	[73]	SETTABLE 	3 -11 4	; "document" -
	28	[72]	CALL     	1 3 2
	29	[75]	GETGLOBAL	2 -13	; assert
	30	[75]	GETTABLE 	2 2 -14	; "is"
	31	[75]	GETTABLE 	2 2 -15	; "same"
	32	[75]	LOADBOOL 	3 1 0
	33	[75]	GETTABLE 	4 1 -16	; "view"
	34	[75]	GETTABLE 	4 4 -17	; "footer_visible"
	35	[75]	CALL     	2 3 1
	36	[76]	GETGLOBAL	2 -1	; G_reader_settings
	37	[76]	SELF     	2 2 -18	; "delSetting"
	38	[76]	LOADK    	4 -3	; "reader_footer_mode"
	39	[76]	CALL     	2 3 1
	40	[77]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:79,103> (64 instructions, 256 bytes at 0x7ff4f8408d70)
0 params, 7 slots, 4 upvalues, 2 locals, 32 constants, 0 functions
	1	[80]	GETGLOBAL	0 -1	; G_reader_settings
	2	[80]	SELF     	0 0 -2	; "saveSetting"
	3	[80]	LOADK    	2 -3	; "footer"
	4	[80]	NEWTABLE 	3 0 10
	5	[81]	SETTABLE 	3 -4 -5	; "disabled" false
	6	[82]	SETTABLE 	3 -6 -5	; "all_at_once" false
	7	[83]	SETTABLE 	3 -7 -8	; "toc_markers" true
	8	[84]	SETTABLE 	3 -9 -8	; "battery" true
	9	[85]	SETTABLE 	3 -10 -8	; "time" true
	10	[86]	SETTABLE 	3 -11 -8	; "page_progress" true
	11	[87]	SETTABLE 	3 -12 -8	; "pages_left" true
	12	[88]	SETTABLE 	3 -13 -8	; "percentage" true
	13	[89]	SETTABLE 	3 -14 -8	; "book_time_to_read" true
	14	[90]	SETTABLE 	3 -15 -8	; "chapter_time_to_read" true
	15	[80]	CALL     	0 4 1
	16	[92]	GETGLOBAL	0 -1	; G_reader_settings
	17	[92]	SELF     	0 0 -2	; "saveSetting"
	18	[92]	LOADK    	2 -16	; "reader_footer_mode"
	19	[92]	LOADK    	3 -17	; 1
	20	[92]	CALL     	0 4 1
	21	[93]	LOADK    	0 -18	; "spec/front/unit/data/2col.pdf"
	22	[94]	GETUPVAL 	1 0	; purgeDir
	23	[94]	GETUPVAL 	2 1	; DocSettings
	24	[94]	SELF     	2 2 -19	; "getSidecarDir"
	25	[94]	MOVE     	4 0
	26	[94]	CALL     	2 3 0
	27	[94]	CALL     	1 0 1
	28	[95]	GETGLOBAL	1 -20	; os
	29	[95]	GETTABLE 	1 1 -21	; "remove"
	30	[95]	GETUPVAL 	2 1	; DocSettings
	31	[95]	SELF     	2 2 -22	; "getHistoryPath"
	32	[95]	MOVE     	4 0
	33	[95]	CALL     	2 3 0
	34	[95]	CALL     	1 0 1
	35	[97]	GETUPVAL 	1 2	; ReaderUI
	36	[97]	SELF     	1 1 -23	; "new"
	37	[97]	NEWTABLE 	3 0 1
	38	[98]	GETUPVAL 	4 3	; DocumentRegistry
	39	[98]	SELF     	4 4 -25	; "openDocument"
	40	[98]	MOVE     	6 0
	41	[98]	CALL     	4 3 2
	42	[98]	SETTABLE 	3 -24 4	; "document" -
	43	[97]	CALL     	1 3 2
	44	[100]	GETGLOBAL	2 -26	; assert
	45	[100]	GETTABLE 	2 2 -27	; "is"
	46	[100]	GETTABLE 	2 2 -28	; "same"
	47	[100]	LOADBOOL 	3 1 0
	48	[100]	GETTABLE 	4 1 -29	; "view"
	49	[100]	GETTABLE 	4 4 -30	; "footer_visible"
	50	[100]	CALL     	2 3 1
	51	[101]	GETGLOBAL	2 -26	; assert
	52	[101]	GETTABLE 	2 2 -27	; "is"
	53	[101]	GETTABLE 	2 2 -28	; "same"
	54	[101]	LOADK    	3 -17	; 1
	55	[101]	GETTABLE 	4 1 -29	; "view"
	56	[101]	GETTABLE 	4 4 -3	; "footer"
	57	[101]	GETTABLE 	4 4 -31	; "mode"
	58	[101]	LOADK    	5 -17	; 1
	59	[101]	CALL     	2 4 1
	60	[102]	GETGLOBAL	2 -1	; G_reader_settings
	61	[102]	SELF     	2 2 -32	; "delSetting"
	62	[102]	LOADK    	4 -16	; "reader_footer_mode"
	63	[102]	CALL     	2 3 1
	64	[103]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:105,119> (50 instructions, 200 bytes at 0x7ff4f8408f70)
0 params, 8 slots, 4 upvalues, 3 locals, 22 constants, 0 functions
	1	[106]	GETGLOBAL	0 -1	; G_reader_settings
	2	[106]	SELF     	0 0 -2	; "saveSetting"
	3	[106]	LOADK    	2 -3	; "reader_footer_mode"
	4	[106]	LOADK    	3 -4	; 1
	5	[106]	CALL     	0 4 1
	6	[107]	LOADK    	0 -5	; "spec/front/unit/data/2col.pdf"
	7	[108]	GETUPVAL 	1 0	; purgeDir
	8	[108]	GETUPVAL 	2 1	; DocSettings
	9	[108]	SELF     	2 2 -6	; "getSidecarDir"
	10	[108]	MOVE     	4 0
	11	[108]	CALL     	2 3 0
	12	[108]	CALL     	1 0 1
	13	[109]	GETGLOBAL	1 -7	; os
	14	[109]	GETTABLE 	1 1 -8	; "remove"
	15	[109]	GETUPVAL 	2 1	; DocSettings
	16	[109]	SELF     	2 2 -9	; "getHistoryPath"
	17	[109]	MOVE     	4 0
	18	[109]	CALL     	2 3 0
	19	[109]	CALL     	1 0 1
	20	[110]	GETUPVAL 	1 1	; DocSettings
	21	[110]	SELF     	1 1 -10	; "open"
	22	[110]	MOVE     	3 0
	23	[110]	CALL     	1 3 2
	24	[111]	SELF     	2 1 -2	; "saveSetting"
	25	[111]	LOADK    	4 -11	; "kopt_full_screen"
	26	[111]	LOADK    	5 -12	; 0
	27	[111]	CALL     	2 4 1
	28	[112]	SELF     	2 1 -13	; "flush"
	29	[112]	CALL     	2 2 1
	30	[114]	GETUPVAL 	2 2	; ReaderUI
	31	[114]	SELF     	2 2 -14	; "new"
	32	[114]	NEWTABLE 	4 0 1
	33	[115]	GETUPVAL 	5 3	; DocumentRegistry
	34	[115]	SELF     	5 5 -16	; "openDocument"
	35	[115]	MOVE     	7 0
	36	[115]	CALL     	5 3 2
	37	[115]	SETTABLE 	4 -15 5	; "document" -
	38	[114]	CALL     	2 3 2
	39	[117]	GETGLOBAL	3 -17	; assert
	40	[117]	GETTABLE 	3 3 -18	; "is"
	41	[117]	GETTABLE 	3 3 -19	; "same"
	42	[117]	LOADBOOL 	4 0 0
	43	[117]	GETTABLE 	5 2 -20	; "view"
	44	[117]	GETTABLE 	5 5 -21	; "footer_visible"
	45	[117]	CALL     	3 3 1
	46	[118]	GETGLOBAL	3 -1	; G_reader_settings
	47	[118]	SELF     	3 3 -22	; "delSetting"
	48	[118]	LOADK    	5 -3	; "reader_footer_mode"
	49	[118]	CALL     	3 3 1
	50	[119]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:121,135> (50 instructions, 200 bytes at 0x7ff4f84086a0)
0 params, 8 slots, 4 upvalues, 3 locals, 22 constants, 0 functions
	1	[122]	GETGLOBAL	0 -1	; G_reader_settings
	2	[122]	SELF     	0 0 -2	; "saveSetting"
	3	[122]	LOADK    	2 -3	; "reader_footer_mode"
	4	[122]	LOADK    	3 -4	; 1
	5	[122]	CALL     	0 4 1
	6	[123]	LOADK    	0 -5	; "spec/front/unit/data/2col.pdf"
	7	[124]	GETUPVAL 	1 0	; purgeDir
	8	[124]	GETUPVAL 	2 1	; DocSettings
	9	[124]	SELF     	2 2 -6	; "getSidecarDir"
	10	[124]	MOVE     	4 0
	11	[124]	CALL     	2 3 0
	12	[124]	CALL     	1 0 1
	13	[125]	GETGLOBAL	1 -7	; os
	14	[125]	GETTABLE 	1 1 -8	; "remove"
	15	[125]	GETUPVAL 	2 1	; DocSettings
	16	[125]	SELF     	2 2 -9	; "getHistoryPath"
	17	[125]	MOVE     	4 0
	18	[125]	CALL     	2 3 0
	19	[125]	CALL     	1 0 1
	20	[126]	GETUPVAL 	1 1	; DocSettings
	21	[126]	SELF     	1 1 -10	; "open"
	22	[126]	MOVE     	3 0
	23	[126]	CALL     	1 3 2
	24	[127]	SELF     	2 1 -2	; "saveSetting"
	25	[127]	LOADK    	4 -11	; "kopt_full_screen"
	26	[127]	LOADK    	5 -12	; 0
	27	[127]	CALL     	2 4 1
	28	[128]	SELF     	2 1 -13	; "flush"
	29	[128]	CALL     	2 2 1
	30	[130]	GETUPVAL 	2 2	; ReaderUI
	31	[130]	SELF     	2 2 -14	; "new"
	32	[130]	NEWTABLE 	4 0 1
	33	[131]	GETUPVAL 	5 3	; DocumentRegistry
	34	[131]	SELF     	5 5 -16	; "openDocument"
	35	[131]	MOVE     	7 0
	36	[131]	CALL     	5 3 2
	37	[131]	SETTABLE 	4 -15 5	; "document" -
	38	[130]	CALL     	2 3 2
	39	[133]	GETGLOBAL	3 -17	; assert
	40	[133]	GETTABLE 	3 3 -18	; "is"
	41	[133]	GETTABLE 	3 3 -19	; "same"
	42	[133]	LOADBOOL 	4 0 0
	43	[133]	GETTABLE 	5 2 -20	; "view"
	44	[133]	GETTABLE 	5 5 -21	; "footer_visible"
	45	[133]	CALL     	3 3 1
	46	[134]	GETGLOBAL	3 -1	; G_reader_settings
	47	[134]	SELF     	3 3 -22	; "delSetting"
	48	[134]	LOADK    	5 -3	; "reader_footer_mode"
	49	[134]	CALL     	3 3 1
	50	[135]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:137,151> (50 instructions, 200 bytes at 0x7ff4f8409b80)
0 params, 8 slots, 4 upvalues, 3 locals, 21 constants, 0 functions
	1	[138]	GETGLOBAL	0 -1	; G_reader_settings
	2	[138]	SELF     	0 0 -2	; "saveSetting"
	3	[138]	LOADK    	2 -3	; "reader_footer_mode"
	4	[138]	LOADK    	3 -4	; 1
	5	[138]	CALL     	0 4 1
	6	[139]	LOADK    	0 -5	; "spec/front/unit/data/juliet.epub"
	7	[140]	GETUPVAL 	1 0	; purgeDir
	8	[140]	GETUPVAL 	2 1	; DocSettings
	9	[140]	SELF     	2 2 -6	; "getSidecarDir"
	10	[140]	MOVE     	4 0
	11	[140]	CALL     	2 3 0
	12	[140]	CALL     	1 0 1
	13	[141]	GETGLOBAL	1 -7	; os
	14	[141]	GETTABLE 	1 1 -8	; "remove"
	15	[141]	GETUPVAL 	2 1	; DocSettings
	16	[141]	SELF     	2 2 -9	; "getHistoryPath"
	17	[141]	MOVE     	4 0
	18	[141]	CALL     	2 3 0
	19	[141]	CALL     	1 0 1
	20	[142]	GETUPVAL 	1 1	; DocSettings
	21	[142]	SELF     	1 1 -10	; "open"
	22	[142]	MOVE     	3 0
	23	[142]	CALL     	1 3 2
	24	[143]	SELF     	2 1 -2	; "saveSetting"
	25	[143]	LOADK    	4 -11	; "copt_status_line"
	26	[143]	LOADK    	5 -4	; 1
	27	[143]	CALL     	2 4 1
	28	[144]	SELF     	2 1 -12	; "flush"
	29	[144]	CALL     	2 2 1
	30	[146]	GETUPVAL 	2 2	; ReaderUI
	31	[146]	SELF     	2 2 -13	; "new"
	32	[146]	NEWTABLE 	4 0 1
	33	[147]	GETUPVAL 	5 3	; DocumentRegistry
	34	[147]	SELF     	5 5 -15	; "openDocument"
	35	[147]	MOVE     	7 0
	36	[147]	CALL     	5 3 2
	37	[147]	SETTABLE 	4 -14 5	; "document" -
	38	[146]	CALL     	2 3 2
	39	[149]	GETGLOBAL	3 -16	; assert
	40	[149]	GETTABLE 	3 3 -17	; "is"
	41	[149]	GETTABLE 	3 3 -18	; "same"
	42	[149]	LOADBOOL 	4 1 0
	43	[149]	GETTABLE 	5 2 -19	; "view"
	44	[149]	GETTABLE 	5 5 -20	; "footer_visible"
	45	[149]	CALL     	3 3 1
	46	[150]	GETGLOBAL	3 -1	; G_reader_settings
	47	[150]	SELF     	3 3 -21	; "delSetting"
	48	[150]	LOADK    	5 -3	; "reader_footer_mode"
	49	[150]	CALL     	3 3 1
	50	[151]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:153,169> (50 instructions, 200 bytes at 0x7ff4f8408720)
0 params, 11 slots, 4 upvalues, 5 locals, 24 constants, 0 functions
	1	[154]	LOADK    	0 -1	; "spec/front/unit/data/juliet.epub"
	2	[155]	GETUPVAL 	1 0	; purgeDir
	3	[155]	GETUPVAL 	2 1	; DocSettings
	4	[155]	SELF     	2 2 -2	; "getSidecarDir"
	5	[155]	MOVE     	4 0
	6	[155]	CALL     	2 3 0
	7	[155]	CALL     	1 0 1
	8	[156]	GETGLOBAL	1 -3	; os
	9	[156]	GETTABLE 	1 1 -4	; "remove"
	10	[156]	GETUPVAL 	2 1	; DocSettings
	11	[156]	SELF     	2 2 -5	; "getHistoryPath"
	12	[156]	MOVE     	4 0
	13	[156]	CALL     	2 3 0
	14	[156]	CALL     	1 0 1
	15	[158]	GETUPVAL 	1 2	; ReaderUI
	16	[158]	SELF     	1 1 -6	; "new"
	17	[158]	NEWTABLE 	3 0 1
	18	[159]	GETUPVAL 	4 3	; DocumentRegistry
	19	[159]	SELF     	4 4 -8	; "openDocument"
	20	[159]	MOVE     	6 0
	21	[159]	CALL     	4 3 2
	22	[159]	SETTABLE 	3 -7 4	; "document" -
	23	[158]	CALL     	1 3 2
	24	[161]	GETTABLE 	2 1 -9	; "view"
	25	[161]	GETTABLE 	2 2 -10	; "footer"
	26	[162]	SELF     	3 2 -11	; "onPageUpdate"
	27	[162]	LOADK    	5 -12	; 1
	28	[162]	CALL     	3 3 1
	29	[163]	SELF     	3 2 -13	; "updateFooter"
	30	[163]	CALL     	3 2 1
	31	[164]	GETTABLE 	3 2 -14	; "textGeneratorMap"
	32	[164]	GETTABLE 	3 3 -15	; "time"
	33	[164]	MOVE     	4 2
	34	[164]	CALL     	3 2 2
	35	[165]	GETTABLE 	4 1 -7	; "document"
	36	[165]	SELF     	4 4 -16	; "getPageCount"
	37	[165]	CALL     	4 2 2
	38	[167]	GETGLOBAL	5 -17	; assert
	39	[167]	GETTABLE 	5 5 -18	; "are"
	40	[167]	GETTABLE 	5 5 -19	; "same"
	41	[167]	LOADK    	6 -20	; "1 / "
	42	[167]	MOVE     	7 4
	43	[167]	LOADK    	8 -21	; " | "
	44	[167]	MOVE     	9 3
	45	[167]	LOADK    	10 -22	; " | \226\135\146 0 | \238\158\1300% | \226\164\160 0% | \226\143\179 na | \226\164\187 na"
	46	[167]	CONCAT   	6 6 10
	47	[168]	GETTABLE 	7 2 -23	; "footer_text"
	48	[168]	GETTABLE 	7 7 -24	; "text"
	49	[167]	CALL     	5 3 1
	50	[169]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:171,184> (48 instructions, 192 bytes at 0x7ff4f840a640)
0 params, 8 slots, 4 upvalues, 4 locals, 20 constants, 0 functions
	1	[172]	LOADK    	0 -1	; "spec/front/unit/data/2col.pdf"
	2	[173]	GETUPVAL 	1 0	; purgeDir
	3	[173]	GETUPVAL 	2 1	; DocSettings
	4	[173]	SELF     	2 2 -2	; "getSidecarDir"
	5	[173]	MOVE     	4 0
	6	[173]	CALL     	2 3 0
	7	[173]	CALL     	1 0 1
	8	[174]	GETGLOBAL	1 -3	; os
	9	[174]	GETTABLE 	1 1 -4	; "remove"
	10	[174]	GETUPVAL 	2 1	; DocSettings
	11	[174]	SELF     	2 2 -5	; "getHistoryPath"
	12	[174]	MOVE     	4 0
	13	[174]	CALL     	2 3 0
	14	[174]	CALL     	1 0 1
	15	[176]	GETUPVAL 	1 2	; ReaderUI
	16	[176]	SELF     	1 1 -6	; "new"
	17	[176]	NEWTABLE 	3 0 1
	18	[177]	GETUPVAL 	4 3	; DocumentRegistry
	19	[177]	SELF     	4 4 -8	; "openDocument"
	20	[177]	MOVE     	6 0
	21	[177]	CALL     	4 3 2
	22	[177]	SETTABLE 	3 -7 4	; "document" -
	23	[176]	CALL     	1 3 2
	24	[179]	GETTABLE 	2 1 -9	; "view"
	25	[179]	GETTABLE 	2 2 -10	; "footer"
	26	[180]	GETTABLE 	3 1 -9	; "view"
	27	[180]	GETTABLE 	3 3 -10	; "footer"
	28	[180]	SELF     	3 3 -11	; "updateFooter"
	29	[180]	CALL     	3 2 1
	30	[181]	GETTABLE 	3 1 -9	; "view"
	31	[181]	GETTABLE 	3 3 -10	; "footer"
	32	[181]	GETTABLE 	3 3 -12	; "textGeneratorMap"
	33	[181]	GETTABLE 	3 3 -13	; "time"
	34	[181]	MOVE     	4 2
	35	[181]	CALL     	3 2 2
	36	[182]	GETGLOBAL	4 -14	; assert
	37	[182]	GETTABLE 	4 4 -15	; "are"
	38	[182]	GETTABLE 	4 4 -16	; "same"
	39	[182]	LOADK    	5 -17	; "1 / 2 | "
	40	[182]	MOVE     	6 3
	41	[182]	LOADK    	7 -18	; " | \226\135\146 1 | \238\158\1300% | \226\164\160 50% | \226\143\179 na | \226\164\187 na"
	42	[182]	CONCAT   	5 5 7
	43	[183]	GETTABLE 	6 1 -9	; "view"
	44	[183]	GETTABLE 	6 6 -10	; "footer"
	45	[183]	GETTABLE 	6 6 -19	; "footer_text"
	46	[183]	GETTABLE 	6 6 -20	; "text"
	47	[182]	CALL     	4 3 1
	48	[184]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:186,238> (165 instructions, 660 bytes at 0x7ff4f840af00)
0 params, 9 slots, 5 upvalues, 5 locals, 45 constants, 0 functions
	1	[187]	LOADK    	0 -1	; "spec/front/unit/data/2col.pdf"
	2	[188]	GETUPVAL 	1 0	; purgeDir
	3	[188]	GETUPVAL 	2 1	; DocSettings
	4	[188]	SELF     	2 2 -2	; "getSidecarDir"
	5	[188]	MOVE     	4 0
	6	[188]	CALL     	2 3 0
	7	[188]	CALL     	1 0 1
	8	[189]	GETGLOBAL	1 -3	; os
	9	[189]	GETTABLE 	1 1 -4	; "remove"
	10	[189]	GETUPVAL 	2 1	; DocSettings
	11	[189]	SELF     	2 2 -5	; "getHistoryPath"
	12	[189]	MOVE     	4 0
	13	[189]	CALL     	2 3 0
	14	[189]	CALL     	1 0 1
	15	[191]	GETUPVAL 	1 2	; ReaderUI
	16	[191]	SELF     	1 1 -6	; "new"
	17	[191]	NEWTABLE 	3 0 1
	18	[192]	GETUPVAL 	4 3	; DocumentRegistry
	19	[192]	SELF     	4 4 -8	; "openDocument"
	20	[192]	MOVE     	6 0
	21	[192]	CALL     	4 3 2
	22	[192]	SETTABLE 	3 -7 4	; "document" -
	23	[191]	CALL     	1 3 2
	24	[194]	NEWTABLE 	2 0 1
	25	[194]	NEWTABLE 	3 0 0
	26	[194]	SETTABLE 	2 -9 3	; "setting" -
	27	[195]	GETTABLE 	3 1 -10	; "view"
	28	[195]	GETTABLE 	3 3 -11	; "footer"
	29	[196]	SELF     	4 3 -12	; "addToMainMenu"
	30	[196]	MOVE     	6 2
	31	[196]	CALL     	4 3 1
	32	[197]	SELF     	4 3 -13	; "resetLayout"
	33	[197]	CALL     	4 2 1
	34	[198]	SELF     	4 3 -14	; "updateFooter"
	35	[198]	CALL     	4 2 1
	36	[199]	GETTABLE 	4 3 -15	; "textGeneratorMap"
	37	[199]	GETTABLE 	4 4 -16	; "time"
	38	[199]	MOVE     	5 3
	39	[199]	CALL     	4 2 2
	40	[200]	GETGLOBAL	5 -17	; assert
	41	[200]	GETTABLE 	5 5 -18	; "are"
	42	[200]	GETTABLE 	5 5 -19	; "same"
	43	[200]	LOADK    	6 -20	; "1 / 2 | "
	44	[200]	MOVE     	7 4
	45	[200]	LOADK    	8 -21	; " | \226\135\146 1 | \238\158\1300% | \226\164\160 50% | \226\143\179 na | \226\164\187 na"
	46	[200]	CONCAT   	6 6 8
	47	[201]	GETTABLE 	7 3 -22	; "footer_text"
	48	[201]	GETTABLE 	7 7 -23	; "text"
	49	[200]	CALL     	5 3 1
	50	[204]	GETUPVAL 	5 4	; tapFooterMenu
	51	[204]	MOVE     	6 2
	52	[204]	LOADK    	7 -24	; "Show all at once"
	53	[204]	CALL     	5 3 1
	54	[205]	GETGLOBAL	5 -17	; assert
	55	[205]	GETTABLE 	5 5 -18	; "are"
	56	[205]	GETTABLE 	5 5 -19	; "same"
	57	[205]	LOADK    	6 -25	; "1 / 2"
	58	[205]	GETTABLE 	7 3 -22	; "footer_text"
	59	[205]	GETTABLE 	7 7 -23	; "text"
	60	[205]	CALL     	5 3 1
	61	[208]	GETUPVAL 	5 4	; tapFooterMenu
	62	[208]	MOVE     	6 2
	63	[208]	LOADK    	7 -26	; "Current page"
	64	[208]	LOADK    	8 -27	; " (/)"
	65	[208]	CONCAT   	7 7 8
	66	[208]	CALL     	5 3 1
	67	[209]	GETGLOBAL	5 -17	; assert
	68	[209]	GETTABLE 	5 5 -18	; "are"
	69	[209]	GETTABLE 	5 5 -19	; "same"
	70	[209]	MOVE     	6 4
	71	[209]	GETTABLE 	7 3 -22	; "footer_text"
	72	[209]	GETTABLE 	7 7 -23	; "text"
	73	[209]	CALL     	5 3 1
	74	[212]	GETUPVAL 	5 4	; tapFooterMenu
	75	[212]	MOVE     	6 2
	76	[212]	LOADK    	7 -28	; "Current time"
	77	[212]	LOADK    	8 -29	; " (\226\140\154)"
	78	[212]	CONCAT   	7 7 8
	79	[212]	CALL     	5 3 1
	80	[213]	GETGLOBAL	5 -17	; assert
	81	[213]	GETTABLE 	5 5 -18	; "are"
	82	[213]	GETTABLE 	5 5 -19	; "same"
	83	[213]	LOADK    	6 -30	; "\226\135\146 1"
	84	[213]	GETTABLE 	7 3 -22	; "footer_text"
	85	[213]	GETTABLE 	7 7 -23	; "text"
	86	[213]	CALL     	5 3 1
	87	[216]	GETUPVAL 	5 4	; tapFooterMenu
	88	[216]	MOVE     	6 2
	89	[216]	LOADK    	7 -31	; "Pages left in chapter"
	90	[216]	LOADK    	8 -32	; " (\226\135\146)"
	91	[216]	CONCAT   	7 7 8
	92	[216]	CALL     	5 3 1
	93	[217]	GETGLOBAL	5 -17	; assert
	94	[217]	GETTABLE 	5 5 -18	; "are"
	95	[217]	GETTABLE 	5 5 -19	; "same"
	96	[217]	LOADK    	6 -33	; "\238\158\1300%"
	97	[217]	GETTABLE 	7 3 -22	; "footer_text"
	98	[217]	GETTABLE 	7 7 -23	; "text"
	99	[217]	CALL     	5 3 1
	100	[220]	GETUPVAL 	5 4	; tapFooterMenu
	101	[220]	MOVE     	6 2
	102	[220]	LOADK    	7 -34	; "Battery status"
	103	[220]	LOADK    	8 -35	; " (\238\158\144)"
	104	[220]	CONCAT   	7 7 8
	105	[220]	CALL     	5 3 1
	106	[221]	GETGLOBAL	5 -17	; assert
	107	[221]	GETTABLE 	5 5 -18	; "are"
	108	[221]	GETTABLE 	5 5 -19	; "same"
	109	[221]	LOADK    	6 -36	; "\226\164\160 50%"
	110	[221]	GETTABLE 	7 3 -22	; "footer_text"
	111	[221]	GETTABLE 	7 7 -23	; "text"
	112	[221]	CALL     	5 3 1
	113	[224]	GETUPVAL 	5 4	; tapFooterMenu
	114	[224]	MOVE     	6 2
	115	[224]	LOADK    	7 -37	; "Progress percentage"
	116	[224]	LOADK    	8 -38	; " (\226\164\160)"
	117	[224]	CONCAT   	7 7 8
	118	[224]	CALL     	5 3 1
	119	[225]	GETGLOBAL	5 -17	; assert
	120	[225]	GETTABLE 	5 5 -18	; "are"
	121	[225]	GETTABLE 	5 5 -19	; "same"
	122	[225]	LOADK    	6 -39	; "\226\143\179 na"
	123	[225]	GETTABLE 	7 3 -22	; "footer_text"
	124	[225]	GETTABLE 	7 7 -23	; "text"
	125	[225]	CALL     	5 3 1
	126	[228]	GETUPVAL 	5 4	; tapFooterMenu
	127	[228]	MOVE     	6 2
	128	[228]	LOADK    	7 -40	; "Book time to read"
	129	[228]	LOADK    	8 -41	; " (\226\143\179)"
	130	[228]	CONCAT   	7 7 8
	131	[228]	CALL     	5 3 1
	132	[229]	GETGLOBAL	5 -17	; assert
	133	[229]	GETTABLE 	5 5 -18	; "are"
	134	[229]	GETTABLE 	5 5 -19	; "same"
	135	[229]	LOADK    	6 -42	; "\226\164\187 na"
	136	[229]	GETTABLE 	7 3 -22	; "footer_text"
	137	[229]	GETTABLE 	7 7 -23	; "text"
	138	[229]	CALL     	5 3 1
	139	[232]	GETUPVAL 	5 4	; tapFooterMenu
	140	[232]	MOVE     	6 2
	141	[232]	LOADK    	7 -43	; "Chapter time to read"
	142	[232]	LOADK    	8 -44	; " (\226\164\187)"
	143	[232]	CONCAT   	7 7 8
	144	[232]	CALL     	5 3 1
	145	[233]	GETGLOBAL	5 -17	; assert
	146	[233]	GETTABLE 	5 5 -18	; "are"
	147	[233]	GETTABLE 	5 5 -19	; "same"
	148	[233]	LOADK    	6 -45	; ""
	149	[233]	GETTABLE 	7 3 -22	; "footer_text"
	150	[233]	GETTABLE 	7 7 -23	; "text"
	151	[233]	CALL     	5 3 1
	152	[236]	GETUPVAL 	5 4	; tapFooterMenu
	153	[236]	MOVE     	6 2
	154	[236]	LOADK    	7 -43	; "Chapter time to read"
	155	[236]	LOADK    	8 -44	; " (\226\164\187)"
	156	[236]	CONCAT   	7 7 8
	157	[236]	CALL     	5 3 1
	158	[237]	GETGLOBAL	5 -17	; assert
	159	[237]	GETTABLE 	5 5 -18	; "are"
	160	[237]	GETTABLE 	5 5 -19	; "same"
	161	[237]	LOADK    	6 -42	; "\226\164\187 na"
	162	[237]	GETTABLE 	7 3 -22	; "footer_text"
	163	[237]	GETTABLE 	7 7 -23	; "text"
	164	[237]	CALL     	5 3 1
	165	[238]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:240,276> (115 instructions, 460 bytes at 0x7ff4f840ab80)
0 params, 7 slots, 2 upvalues, 3 locals, 23 constants, 0 functions
	1	[241]	LOADK    	0 -1	; "spec/front/unit/data/2col.pdf"
	2	[242]	GETUPVAL 	1 0	; ReaderUI
	3	[242]	SELF     	1 1 -2	; "new"
	4	[242]	NEWTABLE 	3 0 1
	5	[243]	GETUPVAL 	4 1	; DocumentRegistry
	6	[243]	SELF     	4 4 -4	; "openDocument"
	7	[243]	MOVE     	6 0
	8	[243]	CALL     	4 3 2
	9	[243]	SETTABLE 	3 -3 4	; "document" -
	10	[242]	CALL     	1 3 2
	11	[245]	GETTABLE 	2 1 -5	; "view"
	12	[245]	GETTABLE 	2 2 -6	; "footer"
	13	[246]	GETTABLE 	3 2 -7	; "settings"
	14	[246]	SETTABLE 	3 -8 -9	; "all_at_once" false
	15	[247]	SETTABLE 	2 -10 -11	; "mode" 0
	16	[248]	SELF     	3 2 -12	; "onTapFooter"
	17	[248]	CALL     	3 2 1
	18	[249]	GETGLOBAL	3 -13	; assert
	19	[249]	GETTABLE 	3 3 -14	; "is"
	20	[249]	GETTABLE 	3 3 -15	; "same"
	21	[249]	LOADK    	4 -16	; 1
	22	[249]	GETTABLE 	5 2 -10	; "mode"
	23	[249]	CALL     	3 3 1
	24	[250]	SELF     	3 2 -12	; "onTapFooter"
	25	[250]	CALL     	3 2 1
	26	[251]	GETGLOBAL	3 -13	; assert
	27	[251]	GETTABLE 	3 3 -14	; "is"
	28	[251]	GETTABLE 	3 3 -15	; "same"
	29	[251]	LOADK    	4 -17	; 2
	30	[251]	GETTABLE 	5 2 -10	; "mode"
	31	[251]	CALL     	3 3 1
	32	[252]	SELF     	3 2 -12	; "onTapFooter"
	33	[252]	CALL     	3 2 1
	34	[253]	GETGLOBAL	3 -13	; assert
	35	[253]	GETTABLE 	3 3 -14	; "is"
	36	[253]	GETTABLE 	3 3 -15	; "same"
	37	[253]	LOADK    	4 -18	; 3
	38	[253]	GETTABLE 	5 2 -10	; "mode"
	39	[253]	CALL     	3 3 1
	40	[254]	SELF     	3 2 -12	; "onTapFooter"
	41	[254]	CALL     	3 2 1
	42	[255]	GETGLOBAL	3 -13	; assert
	43	[255]	GETTABLE 	3 3 -14	; "is"
	44	[255]	GETTABLE 	3 3 -15	; "same"
	45	[255]	LOADK    	4 -19	; 4
	46	[255]	GETTABLE 	5 2 -10	; "mode"
	47	[255]	CALL     	3 3 1
	48	[256]	SELF     	3 2 -12	; "onTapFooter"
	49	[256]	CALL     	3 2 1
	50	[257]	GETGLOBAL	3 -13	; assert
	51	[257]	GETTABLE 	3 3 -14	; "is"
	52	[257]	GETTABLE 	3 3 -15	; "same"
	53	[257]	LOADK    	4 -20	; 5
	54	[257]	GETTABLE 	5 2 -10	; "mode"
	55	[257]	CALL     	3 3 1
	56	[258]	SELF     	3 2 -12	; "onTapFooter"
	57	[258]	CALL     	3 2 1
	58	[259]	GETGLOBAL	3 -13	; assert
	59	[259]	GETTABLE 	3 3 -14	; "is"
	60	[259]	GETTABLE 	3 3 -15	; "same"
	61	[259]	LOADK    	4 -21	; 6
	62	[259]	GETTABLE 	5 2 -10	; "mode"
	63	[259]	CALL     	3 3 1
	64	[260]	SELF     	3 2 -12	; "onTapFooter"
	65	[260]	CALL     	3 2 1
	66	[261]	GETGLOBAL	3 -13	; assert
	67	[261]	GETTABLE 	3 3 -14	; "is"
	68	[261]	GETTABLE 	3 3 -15	; "same"
	69	[261]	LOADK    	4 -22	; 7
	70	[261]	GETTABLE 	5 2 -10	; "mode"
	71	[261]	CALL     	3 3 1
	72	[262]	SELF     	3 2 -12	; "onTapFooter"
	73	[262]	CALL     	3 2 1
	74	[263]	GETGLOBAL	3 -13	; assert
	75	[263]	GETTABLE 	3 3 -14	; "is"
	76	[263]	GETTABLE 	3 3 -15	; "same"
	77	[263]	LOADK    	4 -11	; 0
	78	[263]	GETTABLE 	5 2 -10	; "mode"
	79	[263]	CALL     	3 3 1
	80	[265]	GETTABLE 	3 2 -7	; "settings"
	81	[265]	SETTABLE 	3 -8 -23	; "all_at_once" true
	82	[266]	SETTABLE 	2 -10 -20	; "mode" 5
	83	[267]	SELF     	3 2 -12	; "onTapFooter"
	84	[267]	CALL     	3 2 1
	85	[268]	GETGLOBAL	3 -13	; assert
	86	[268]	GETTABLE 	3 3 -14	; "is"
	87	[268]	GETTABLE 	3 3 -15	; "same"
	88	[268]	LOADK    	4 -11	; 0
	89	[268]	GETTABLE 	5 2 -10	; "mode"
	90	[268]	CALL     	3 3 1
	91	[269]	SELF     	3 2 -12	; "onTapFooter"
	92	[269]	CALL     	3 2 1
	93	[270]	GETGLOBAL	3 -13	; assert
	94	[270]	GETTABLE 	3 3 -14	; "is"
	95	[270]	GETTABLE 	3 3 -15	; "same"
	96	[270]	LOADK    	4 -16	; 1
	97	[270]	GETTABLE 	5 2 -10	; "mode"
	98	[270]	CALL     	3 3 1
	99	[271]	SELF     	3 2 -12	; "onTapFooter"
	100	[271]	CALL     	3 2 1
	101	[272]	GETGLOBAL	3 -13	; assert
	102	[272]	GETTABLE 	3 3 -14	; "is"
	103	[272]	GETTABLE 	3 3 -15	; "same"
	104	[272]	LOADK    	4 -11	; 0
	105	[272]	GETTABLE 	5 2 -10	; "mode"
	106	[272]	CALL     	3 3 1
	107	[274]	SELF     	3 2 -12	; "onTapFooter"
	108	[274]	CALL     	3 2 1
	109	[275]	GETGLOBAL	3 -13	; assert
	110	[275]	GETTABLE 	3 3 -14	; "is"
	111	[275]	GETTABLE 	3 3 -15	; "same"
	112	[275]	LOADK    	4 -16	; 1
	113	[275]	GETTABLE 	5 2 -10	; "mode"
	114	[275]	CALL     	3 3 1
	115	[276]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:278,304> (88 instructions, 352 bytes at 0x7ff4f840ba10)
0 params, 9 slots, 5 upvalues, 5 locals, 27 constants, 1 function
	1	[279]	LOADK    	0 -1	; "spec/front/unit/data/2col.pdf"
	2	[280]	GETUPVAL 	1 0	; purgeDir
	3	[280]	GETUPVAL 	2 1	; DocSettings
	4	[280]	SELF     	2 2 -2	; "getSidecarDir"
	5	[280]	MOVE     	4 0
	6	[280]	CALL     	2 3 0
	7	[280]	CALL     	1 0 1
	8	[281]	GETGLOBAL	1 -3	; os
	9	[281]	GETTABLE 	1 1 -4	; "remove"
	10	[281]	GETUPVAL 	2 1	; DocSettings
	11	[281]	SELF     	2 2 -5	; "getHistoryPath"
	12	[281]	MOVE     	4 0
	13	[281]	CALL     	2 3 0
	14	[281]	CALL     	1 0 1
	15	[283]	GETUPVAL 	1 2	; ReaderUI
	16	[283]	SELF     	1 1 -6	; "new"
	17	[283]	NEWTABLE 	3 0 1
	18	[284]	GETUPVAL 	4 3	; DocumentRegistry
	19	[284]	SELF     	4 4 -8	; "openDocument"
	20	[284]	MOVE     	6 0
	21	[284]	CALL     	4 3 2
	22	[284]	SETTABLE 	3 -7 4	; "document" -
	23	[283]	CALL     	1 3 2
	24	[286]	GETTABLE 	2 1 -9	; "view"
	25	[286]	GETTABLE 	2 2 -10	; "footer"
	26	[287]	GETUPVAL 	3 4	; Screen
	27	[287]	SELF     	3 3 -11	; "scaleBySize"
	28	[287]	LOADK    	5 -12	; 10
	29	[287]	CALL     	3 3 2
	30	[287]	MUL      	3 3 -13	; - 2
	31	[288]	SELF     	4 2 -14	; "updateFooter"
	32	[288]	CALL     	4 2 1
	33	[289]	GETGLOBAL	4 -15	; assert
	34	[289]	GETTABLE 	4 4 -16	; "is"
	35	[289]	GETTABLE 	4 4 -17	; "same"
	36	[289]	LOADK    	5 -18	; 354
	37	[289]	GETTABLE 	6 2 -19	; "text_width"
	38	[289]	CALL     	4 3 1
	39	[290]	GETGLOBAL	4 -15	; assert
	40	[290]	GETTABLE 	4 4 -16	; "is"
	41	[290]	GETTABLE 	4 4 -17	; "same"
	42	[290]	LOADK    	5 -20	; 600
	43	[290]	GETTABLE 	6 2 -21	; "progress_bar"
	44	[291]	GETTABLE 	6 6 -22	; "width"
	45	[291]	GETTABLE 	7 2 -19	; "text_width"
	46	[291]	ADD      	6 6 7
	47	[292]	ADD      	6 6 3
	48	[290]	CALL     	4 3 1
	49	[293]	GETGLOBAL	4 -15	; assert
	50	[293]	GETTABLE 	4 4 -16	; "is"
	51	[293]	GETTABLE 	4 4 -17	; "same"
	52	[293]	LOADK    	5 -23	; 226
	53	[293]	GETTABLE 	6 2 -21	; "progress_bar"
	54	[293]	GETTABLE 	6 6 -22	; "width"
	55	[293]	CALL     	4 3 1
	56	[295]	GETUPVAL 	4 4	; Screen
	57	[295]	GETTABLE 	4 4 -24	; "getWidth"
	58	[296]	GETUPVAL 	5 4	; Screen
	59	[296]	CLOSURE  	6 0	; 0x7ff4f840c420
	60	[296]	SETTABLE 	5 -24 6	; "getWidth" -
	61	[297]	SELF     	5 2 -25	; "resetLayout"
	62	[297]	CALL     	5 2 1
	63	[298]	GETGLOBAL	5 -15	; assert
	64	[298]	GETTABLE 	5 5 -16	; "is"
	65	[298]	GETTABLE 	5 5 -17	; "same"
	66	[298]	LOADK    	6 -18	; 354
	67	[298]	GETTABLE 	7 2 -19	; "text_width"
	68	[298]	CALL     	5 3 1
	69	[299]	GETGLOBAL	5 -15	; assert
	70	[299]	GETTABLE 	5 5 -16	; "is"
	71	[299]	GETTABLE 	5 5 -17	; "same"
	72	[299]	LOADK    	6 -26	; 900
	73	[299]	GETTABLE 	7 2 -21	; "progress_bar"
	74	[300]	GETTABLE 	7 7 -22	; "width"
	75	[300]	GETTABLE 	8 2 -19	; "text_width"
	76	[300]	ADD      	7 7 8
	77	[301]	ADD      	7 7 3
	78	[299]	CALL     	5 3 1
	79	[302]	GETGLOBAL	5 -15	; assert
	80	[302]	GETTABLE 	5 5 -16	; "is"
	81	[302]	GETTABLE 	5 5 -17	; "same"
	82	[302]	LOADK    	6 -27	; 526
	83	[302]	GETTABLE 	7 2 -21	; "progress_bar"
	84	[302]	GETTABLE 	7 7 -22	; "width"
	85	[302]	CALL     	5 3 1
	86	[303]	GETUPVAL 	5 4	; Screen
	87	[303]	SETTABLE 	5 -24 4	; "getWidth" -
	88	[304]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:296,296> (3 instructions, 12 bytes at 0x7ff4f840c420)
0 params, 2 slots, 0 upvalues, 0 locals, 1 constant, 0 functions
	1	[296]	LOADK    	0 -1	; 900
	2	[296]	RETURN   	0 2
	3	[296]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:306,322> (58 instructions, 232 bytes at 0x7ff4f840b950)
0 params, 7 slots, 4 upvalues, 3 locals, 23 constants, 0 functions
	1	[307]	LOADK    	0 -1	; "spec/front/unit/data/juliet.epub"
	2	[308]	GETUPVAL 	1 0	; purgeDir
	3	[308]	GETUPVAL 	2 1	; DocSettings
	4	[308]	SELF     	2 2 -2	; "getSidecarDir"
	5	[308]	MOVE     	4 0
	6	[308]	CALL     	2 3 0
	7	[308]	CALL     	1 0 1
	8	[309]	GETGLOBAL	1 -3	; os
	9	[309]	GETTABLE 	1 1 -4	; "remove"
	10	[309]	GETUPVAL 	2 1	; DocSettings
	11	[309]	SELF     	2 2 -5	; "getHistoryPath"
	12	[309]	MOVE     	4 0
	13	[309]	CALL     	2 3 0
	14	[309]	CALL     	1 0 1
	15	[311]	GETUPVAL 	1 2	; ReaderUI
	16	[311]	SELF     	1 1 -6	; "new"
	17	[311]	NEWTABLE 	3 0 1
	18	[312]	GETUPVAL 	4 3	; DocumentRegistry
	19	[312]	SELF     	4 4 -8	; "openDocument"
	20	[312]	MOVE     	6 0
	21	[312]	CALL     	4 3 2
	22	[312]	SETTABLE 	3 -7 4	; "document" -
	23	[311]	CALL     	1 3 2
	24	[314]	GETTABLE 	2 1 -9	; "view"
	25	[314]	GETTABLE 	2 2 -10	; "footer"
	26	[315]	SELF     	3 2 -11	; "onPageUpdate"
	27	[315]	LOADK    	5 -12	; 1
	28	[315]	CALL     	3 3 1
	29	[316]	GETGLOBAL	3 -13	; assert
	30	[316]	GETTABLE 	3 3 -14	; "are"
	31	[316]	GETTABLE 	3 3 -15	; "same"
	32	[316]	LOADK    	4 -16	; 218
	33	[316]	GETTABLE 	5 2 -17	; "progress_bar"
	34	[316]	GETTABLE 	5 5 -18	; "width"
	35	[316]	CALL     	3 3 1
	36	[317]	GETGLOBAL	3 -13	; assert
	37	[317]	GETTABLE 	3 3 -14	; "are"
	38	[317]	GETTABLE 	3 3 -15	; "same"
	39	[317]	LOADK    	4 -19	; 362
	40	[317]	GETTABLE 	5 2 -20	; "text_width"
	41	[317]	CALL     	3 3 1
	42	[319]	SELF     	3 2 -11	; "onPageUpdate"
	43	[319]	LOADK    	5 -21	; 100
	44	[319]	CALL     	3 3 1
	45	[320]	GETGLOBAL	3 -13	; assert
	46	[320]	GETTABLE 	3 3 -14	; "are"
	47	[320]	GETTABLE 	3 3 -15	; "same"
	48	[320]	LOADK    	4 -22	; 194
	49	[320]	GETTABLE 	5 2 -17	; "progress_bar"
	50	[320]	GETTABLE 	5 5 -18	; "width"
	51	[320]	CALL     	3 3 1
	52	[321]	GETGLOBAL	3 -13	; assert
	53	[321]	GETTABLE 	3 3 -14	; "are"
	54	[321]	GETTABLE 	3 3 -15	; "same"
	55	[321]	LOADK    	4 -23	; 386
	56	[321]	GETTABLE 	5 2 -20	; "text_width"
	57	[321]	CALL     	3 3 1
	58	[322]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:324,346> (64 instructions, 256 bytes at 0x7ff4f840c320)
0 params, 7 slots, 4 upvalues, 4 locals, 27 constants, 0 functions
	1	[325]	LOADK    	0 -1	; "spec/front/unit/data/juliet.epub"
	2	[326]	GETUPVAL 	1 0	; purgeDir
	3	[326]	GETUPVAL 	2 1	; DocSettings
	4	[326]	SELF     	2 2 -2	; "getSidecarDir"
	5	[326]	MOVE     	4 0
	6	[326]	CALL     	2 3 0
	7	[326]	CALL     	1 0 1
	8	[327]	GETGLOBAL	1 -3	; os
	9	[327]	GETTABLE 	1 1 -4	; "remove"
	10	[327]	GETUPVAL 	2 1	; DocSettings
	11	[327]	SELF     	2 2 -5	; "getHistoryPath"
	12	[327]	MOVE     	4 0
	13	[327]	CALL     	2 3 0
	14	[327]	CALL     	1 0 1
	15	[329]	GETGLOBAL	1 -6	; G_reader_settings
	16	[329]	SELF     	1 1 -7	; "saveSetting"
	17	[329]	LOADK    	3 -8	; "footer"
	18	[329]	NEWTABLE 	4 0 1
	19	[330]	SETTABLE 	4 -9 -10	; "toc_markers" true
	20	[329]	CALL     	1 4 1
	21	[333]	GETUPVAL 	1 2	; ReaderUI
	22	[333]	SELF     	1 1 -11	; "new"
	23	[333]	NEWTABLE 	3 0 1
	24	[334]	GETUPVAL 	4 3	; DocumentRegistry
	25	[334]	SELF     	4 4 -13	; "openDocument"
	26	[334]	MOVE     	6 0
	27	[334]	CALL     	4 3 2
	28	[334]	SETTABLE 	3 -12 4	; "document" -
	29	[333]	CALL     	1 3 2
	30	[336]	GETTABLE 	2 1 -14	; "view"
	31	[336]	GETTABLE 	2 2 -8	; "footer"
	32	[337]	SELF     	3 2 -15	; "onPageUpdate"
	33	[337]	LOADK    	5 -16	; 1
	34	[337]	CALL     	3 3 1
	35	[338]	GETTABLE 	3 1 -12	; "document"
	36	[338]	SELF     	3 3 -17	; "getPageCount"
	37	[338]	CALL     	3 2 2
	38	[339]	GETGLOBAL	4 -18	; assert
	39	[339]	GETTABLE 	4 4 -19	; "are"
	40	[339]	GETTABLE 	4 4 -20	; "same"
	41	[339]	LOADK    	5 -21	; 28
	42	[339]	GETTABLE 	6 2 -22	; "progress_bar"
	43	[339]	GETTABLE 	6 6 -23	; "ticks"
	44	[339]	LEN      	6 6
	45	[339]	CALL     	4 3 1
	46	[340]	GETGLOBAL	4 -18	; assert
	47	[340]	GETTABLE 	4 4 -19	; "are"
	48	[340]	GETTABLE 	4 4 -20	; "same"
	49	[340]	MOVE     	5 3
	50	[340]	GETTABLE 	6 2 -22	; "progress_bar"
	51	[340]	GETTABLE 	6 6 -24	; "last"
	52	[340]	CALL     	4 3 1
	53	[343]	GETTABLE 	4 2 -25	; "settings"
	54	[343]	SETTABLE 	4 -9 -26	; "toc_markers" false
	55	[344]	SELF     	4 2 -27	; "setTocMarkers"
	56	[344]	CALL     	4 2 1
	57	[345]	GETGLOBAL	4 -18	; assert
	58	[345]	GETTABLE 	4 4 -19	; "are"
	59	[345]	GETTABLE 	4 4 -20	; "same"
	60	[345]	LOADNIL  	5 5
	61	[345]	GETTABLE 	6 2 -22	; "progress_bar"
	62	[345]	GETTABLE 	6 6 -23	; "ticks"
	63	[345]	CALL     	4 3 1
	64	[346]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:348,379> (83 instructions, 332 bytes at 0x7ff4f840cb40)
0 params, 11 slots, 5 upvalues, 14 locals, 27 constants, 0 functions
	1	[349]	LOADK    	0 -1	; "spec/front/unit/data/juliet.epub"
	2	[350]	GETUPVAL 	1 0	; purgeDir
	3	[350]	GETUPVAL 	2 1	; DocSettings
	4	[350]	SELF     	2 2 -2	; "getSidecarDir"
	5	[350]	MOVE     	4 0
	6	[350]	CALL     	2 3 0
	7	[350]	CALL     	1 0 1
	8	[351]	GETGLOBAL	1 -3	; os
	9	[351]	GETTABLE 	1 1 -4	; "remove"
	10	[351]	GETUPVAL 	2 1	; DocSettings
	11	[351]	SELF     	2 2 -5	; "getHistoryPath"
	12	[351]	MOVE     	4 0
	13	[351]	CALL     	2 3 0
	14	[351]	CALL     	1 0 1
	15	[352]	GETUPVAL 	1 2	; UIManager
	16	[352]	SELF     	1 1 -6	; "quit"
	17	[352]	CALL     	1 2 1
	18	[354]	GETGLOBAL	1 -7	; assert
	19	[354]	GETTABLE 	1 1 -8	; "are"
	20	[354]	GETTABLE 	1 1 -9	; "same"
	21	[354]	NEWTABLE 	2 0 0
	22	[354]	GETUPVAL 	3 2	; UIManager
	23	[354]	GETTABLE 	3 3 -10	; "_task_queue"
	24	[354]	CALL     	1 3 1
	25	[355]	GETGLOBAL	1 -11	; G_reader_settings
	26	[355]	SELF     	1 1 -12	; "saveSetting"
	27	[355]	LOADK    	3 -13	; "footer"
	28	[355]	NEWTABLE 	4 0 2
	29	[356]	SETTABLE 	4 -14 -15	; "page_progress" true
	30	[357]	SETTABLE 	4 -16 -15	; "auto_refresh_time" true
	31	[355]	CALL     	1 4 1
	32	[359]	GETUPVAL 	1 3	; ReaderUI
	33	[359]	SELF     	1 1 -17	; "new"
	34	[359]	NEWTABLE 	3 0 1
	35	[360]	GETUPVAL 	4 4	; DocumentRegistry
	36	[360]	SELF     	4 4 -19	; "openDocument"
	37	[360]	MOVE     	6 0
	38	[360]	CALL     	4 3 2
	39	[360]	SETTABLE 	3 -18 4	; "document" -
	40	[359]	CALL     	1 3 2
	41	[362]	GETTABLE 	2 1 -20	; "view"
	42	[362]	GETTABLE 	2 2 -13	; "footer"
	43	[363]	LOADK    	3 -21	; 0
	44	[364]	GETGLOBAL	4 -22	; ipairs
	45	[364]	GETUPVAL 	5 2	; UIManager
	46	[364]	GETTABLE 	5 5 -10	; "_task_queue"
	47	[364]	CALL     	4 2 4
	48	[364]	JMP      	5	; to 54
	49	[365]	GETTABLE 	9 8 -23	; "action"
	50	[365]	GETTABLE 	10 2 -24	; "autoRefreshTime"
	51	[365]	EQ       	0 9 10
	52	[365]	JMP      	1	; to 54
	53	[366]	ADD      	3 3 -25	; - 1
	54	[364]	TFORLOOP 	4 2
	55	[367]	JMP      	-7	; to 49
	56	[369]	GETGLOBAL	4 -7	; assert
	57	[369]	GETTABLE 	4 4 -26	; "is"
	58	[369]	GETTABLE 	4 4 -9	; "same"
	59	[369]	LOADK    	5 -25	; 1
	60	[369]	MOVE     	6 3
	61	[369]	CALL     	4 3 1
	62	[371]	SELF     	4 2 -27	; "onCloseDocument"
	63	[371]	CALL     	4 2 1
	64	[372]	LOADK    	3 -21	; 0
	65	[373]	GETGLOBAL	4 -22	; ipairs
	66	[373]	GETUPVAL 	5 2	; UIManager
	67	[373]	GETTABLE 	5 5 -10	; "_task_queue"
	68	[373]	CALL     	4 2 4
	69	[373]	JMP      	5	; to 75
	70	[374]	GETTABLE 	9 8 -23	; "action"
	71	[374]	GETTABLE 	10 2 -24	; "autoRefreshTime"
	72	[374]	EQ       	0 9 10
	73	[374]	JMP      	1	; to 75
	74	[375]	ADD      	3 3 -25	; - 1
	75	[373]	TFORLOOP 	4 2
	76	[376]	JMP      	-7	; to 70
	77	[378]	GETGLOBAL	4 -7	; assert
	78	[378]	GETTABLE 	4 4 -26	; "is"
	79	[378]	GETTABLE 	4 4 -9	; "same"
	80	[378]	LOADK    	5 -21	; 0
	81	[378]	MOVE     	6 3
	82	[378]	CALL     	4 3 1
	83	[379]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:381,404> (63 instructions, 252 bytes at 0x7ff4f8406f30)
0 params, 11 slots, 5 upvalues, 9 locals, 27 constants, 0 functions
	1	[382]	LOADK    	0 -1	; "spec/front/unit/data/juliet.epub"
	2	[383]	GETUPVAL 	1 0	; purgeDir
	3	[383]	GETUPVAL 	2 1	; DocSettings
	4	[383]	SELF     	2 2 -2	; "getSidecarDir"
	5	[383]	MOVE     	4 0
	6	[383]	CALL     	2 3 0
	7	[383]	CALL     	1 0 1
	8	[384]	GETGLOBAL	1 -3	; os
	9	[384]	GETTABLE 	1 1 -4	; "remove"
	10	[384]	GETUPVAL 	2 1	; DocSettings
	11	[384]	SELF     	2 2 -5	; "getHistoryPath"
	12	[384]	MOVE     	4 0
	13	[384]	CALL     	2 3 0
	14	[384]	CALL     	1 0 1
	15	[385]	GETUPVAL 	1 2	; UIManager
	16	[385]	SELF     	1 1 -6	; "quit"
	17	[385]	CALL     	1 2 1
	18	[387]	GETGLOBAL	1 -7	; assert
	19	[387]	GETTABLE 	1 1 -8	; "are"
	20	[387]	GETTABLE 	1 1 -9	; "same"
	21	[387]	NEWTABLE 	2 0 0
	22	[387]	GETUPVAL 	3 2	; UIManager
	23	[387]	GETTABLE 	3 3 -10	; "_task_queue"
	24	[387]	CALL     	1 3 1
	25	[388]	GETGLOBAL	1 -11	; G_reader_settings
	26	[388]	SELF     	1 1 -12	; "saveSetting"
	27	[388]	LOADK    	3 -13	; "footer"
	28	[388]	NEWTABLE 	4 0 3
	29	[389]	SETTABLE 	4 -14 -15	; "disabled" true
	30	[390]	SETTABLE 	4 -16 -15	; "page_progress" true
	31	[391]	SETTABLE 	4 -17 -15	; "auto_refresh_time" true
	32	[388]	CALL     	1 4 1
	33	[393]	GETUPVAL 	1 3	; ReaderUI
	34	[393]	SELF     	1 1 -18	; "new"
	35	[393]	NEWTABLE 	3 0 1
	36	[394]	GETUPVAL 	4 4	; DocumentRegistry
	37	[394]	SELF     	4 4 -20	; "openDocument"
	38	[394]	MOVE     	6 0
	39	[394]	CALL     	4 3 2
	40	[394]	SETTABLE 	3 -19 4	; "document" -
	41	[393]	CALL     	1 3 2
	42	[396]	GETTABLE 	2 1 -21	; "view"
	43	[396]	GETTABLE 	2 2 -13	; "footer"
	44	[397]	LOADK    	3 -22	; 0
	45	[398]	GETGLOBAL	4 -23	; ipairs
	46	[398]	GETUPVAL 	5 2	; UIManager
	47	[398]	GETTABLE 	5 5 -10	; "_task_queue"
	48	[398]	CALL     	4 2 4
	49	[398]	JMP      	5	; to 55
	50	[399]	GETTABLE 	9 8 -24	; "action"
	51	[399]	GETTABLE 	10 2 -25	; "autoRefreshTime"
	52	[399]	EQ       	0 9 10
	53	[399]	JMP      	1	; to 55
	54	[400]	ADD      	3 3 -26	; - 1
	55	[398]	TFORLOOP 	4 2
	56	[401]	JMP      	-7	; to 50
	57	[403]	GETGLOBAL	4 -7	; assert
	58	[403]	GETTABLE 	4 4 -27	; "is"
	59	[403]	GETTABLE 	4 4 -9	; "same"
	60	[403]	LOADK    	5 -22	; 0
	61	[403]	MOVE     	6 3
	62	[403]	CALL     	4 3 1
	63	[404]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:406,452> (115 instructions, 460 bytes at 0x7ff4f840d960)
0 params, 12 slots, 6 upvalues, 20 locals, 31 constants, 0 functions
	1	[407]	LOADK    	0 -1	; "spec/front/unit/data/2col.pdf"
	2	[408]	GETUPVAL 	1 0	; purgeDir
	3	[408]	GETUPVAL 	2 1	; DocSettings
	4	[408]	SELF     	2 2 -2	; "getSidecarDir"
	5	[408]	MOVE     	4 0
	6	[408]	CALL     	2 3 0
	7	[408]	CALL     	1 0 1
	8	[409]	GETGLOBAL	1 -3	; os
	9	[409]	GETTABLE 	1 1 -4	; "remove"
	10	[409]	GETUPVAL 	2 1	; DocSettings
	11	[409]	SELF     	2 2 -5	; "getHistoryPath"
	12	[409]	MOVE     	4 0
	13	[409]	CALL     	2 3 0
	14	[409]	CALL     	1 0 1
	15	[410]	GETUPVAL 	1 2	; UIManager
	16	[410]	SELF     	1 1 -6	; "quit"
	17	[410]	CALL     	1 2 1
	18	[412]	GETGLOBAL	1 -7	; assert
	19	[412]	GETTABLE 	1 1 -8	; "are"
	20	[412]	GETTABLE 	1 1 -9	; "same"
	21	[412]	NEWTABLE 	2 0 0
	22	[412]	GETUPVAL 	3 2	; UIManager
	23	[412]	GETTABLE 	3 3 -10	; "_task_queue"
	24	[412]	CALL     	1 3 1
	25	[413]	GETGLOBAL	1 -11	; G_reader_settings
	26	[413]	SELF     	1 1 -12	; "saveSetting"
	27	[413]	LOADK    	3 -13	; "footer"
	28	[413]	NEWTABLE 	4 0 3
	29	[414]	SETTABLE 	4 -14 -15	; "disabled" false
	30	[415]	SETTABLE 	4 -16 -17	; "page_progress" true
	31	[416]	SETTABLE 	4 -18 -17	; "auto_refresh_time" true
	32	[413]	CALL     	1 4 1
	33	[418]	GETUPVAL 	1 3	; ReaderUI
	34	[418]	SELF     	1 1 -19	; "new"
	35	[418]	NEWTABLE 	3 0 1
	36	[419]	GETUPVAL 	4 4	; DocumentRegistry
	37	[419]	SELF     	4 4 -21	; "openDocument"
	38	[419]	MOVE     	6 0
	39	[419]	CALL     	4 3 2
	40	[419]	SETTABLE 	3 -20 4	; "document" -
	41	[418]	CALL     	1 3 2
	42	[421]	GETTABLE 	2 1 -22	; "view"
	43	[421]	GETTABLE 	2 2 -13	; "footer"
	44	[422]	NEWTABLE 	3 0 1
	45	[422]	NEWTABLE 	4 0 0
	46	[422]	SETTABLE 	3 -23 4	; "setting" -
	47	[423]	SELF     	4 2 -24	; "addToMainMenu"
	48	[423]	MOVE     	6 3
	49	[423]	CALL     	4 3 1
	50	[425]	LOADK    	4 -25	; 0
	51	[426]	GETGLOBAL	5 -26	; ipairs
	52	[426]	GETUPVAL 	6 2	; UIManager
	53	[426]	GETTABLE 	6 6 -10	; "_task_queue"
	54	[426]	CALL     	5 2 4
	55	[426]	JMP      	5	; to 61
	56	[427]	GETTABLE 	10 9 -27	; "action"
	57	[427]	GETTABLE 	11 2 -28	; "autoRefreshTime"
	58	[427]	EQ       	0 10 11
	59	[427]	JMP      	1	; to 61
	60	[428]	ADD      	4 4 -29	; - 1
	61	[426]	TFORLOOP 	5 2
	62	[429]	JMP      	-7	; to 56
	63	[431]	GETGLOBAL	5 -7	; assert
	64	[431]	GETTABLE 	5 5 -30	; "is"
	65	[431]	GETTABLE 	5 5 -9	; "same"
	66	[431]	LOADK    	6 -29	; 1
	67	[431]	MOVE     	7 4
	68	[431]	CALL     	5 3 1
	69	[434]	GETUPVAL 	5 5	; tapFooterMenu
	70	[434]	MOVE     	6 3
	71	[434]	LOADK    	7 -31	; "Auto refresh time"
	72	[434]	CALL     	5 3 1
	73	[435]	LOADK    	4 -25	; 0
	74	[436]	GETGLOBAL	5 -26	; ipairs
	75	[436]	GETUPVAL 	6 2	; UIManager
	76	[436]	GETTABLE 	6 6 -10	; "_task_queue"
	77	[436]	CALL     	5 2 4
	78	[436]	JMP      	5	; to 84
	79	[437]	GETTABLE 	10 9 -27	; "action"
	80	[437]	GETTABLE 	11 2 -28	; "autoRefreshTime"
	81	[437]	EQ       	0 10 11
	82	[437]	JMP      	1	; to 84
	83	[438]	ADD      	4 4 -29	; - 1
	84	[436]	TFORLOOP 	5 2
	85	[439]	JMP      	-7	; to 79
	86	[441]	GETGLOBAL	5 -7	; assert
	87	[441]	GETTABLE 	5 5 -30	; "is"
	88	[441]	GETTABLE 	5 5 -9	; "same"
	89	[441]	LOADK    	6 -25	; 0
	90	[441]	MOVE     	7 4
	91	[441]	CALL     	5 3 1
	92	[444]	GETUPVAL 	5 5	; tapFooterMenu
	93	[444]	MOVE     	6 3
	94	[444]	LOADK    	7 -31	; "Auto refresh time"
	95	[444]	CALL     	5 3 1
	96	[445]	LOADK    	4 -25	; 0
	97	[446]	GETGLOBAL	5 -26	; ipairs
	98	[446]	GETUPVAL 	6 2	; UIManager
	99	[446]	GETTABLE 	6 6 -10	; "_task_queue"
	100	[446]	CALL     	5 2 4
	101	[446]	JMP      	5	; to 107
	102	[447]	GETTABLE 	10 9 -27	; "action"
	103	[447]	GETTABLE 	11 2 -28	; "autoRefreshTime"
	104	[447]	EQ       	0 10 11
	105	[447]	JMP      	1	; to 107
	106	[448]	ADD      	4 4 -29	; - 1
	107	[446]	TFORLOOP 	5 2
	108	[449]	JMP      	-7	; to 102
	109	[451]	GETGLOBAL	5 -7	; assert
	110	[451]	GETTABLE 	5 5 -30	; "is"
	111	[451]	GETTABLE 	5 5 -9	; "same"
	112	[451]	LOADK    	6 -29	; 1
	113	[451]	MOVE     	7 4
	114	[451]	CALL     	5 3 1
	115	[452]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:454,496> (98 instructions, 392 bytes at 0x7ff4f840ac80)
0 params, 12 slots, 6 upvalues, 11 locals, 39 constants, 0 functions
	1	[455]	GETGLOBAL	0 -1	; DTAP_ZONE_MINIBAR
	2	[456]	GETGLOBAL	1 -1	; DTAP_ZONE_MINIBAR
	3	[456]	SETTABLE 	1 -2 -3	; "w" 0
	4	[457]	GETGLOBAL	1 -1	; DTAP_ZONE_MINIBAR
	5	[457]	SETTABLE 	1 -4 -3	; "h" 0
	6	[459]	LOADK    	1 -5	; "spec/front/unit/data/2col.pdf"
	7	[460]	GETUPVAL 	2 0	; purgeDir
	8	[460]	GETUPVAL 	3 1	; DocSettings
	9	[460]	SELF     	3 3 -6	; "getSidecarDir"
	10	[460]	MOVE     	5 1
	11	[460]	CALL     	3 3 0
	12	[460]	CALL     	2 0 1
	13	[461]	GETGLOBAL	2 -7	; os
	14	[461]	GETTABLE 	2 2 -8	; "remove"
	15	[461]	GETUPVAL 	3 1	; DocSettings
	16	[461]	SELF     	3 3 -9	; "getHistoryPath"
	17	[461]	MOVE     	5 1
	18	[461]	CALL     	3 3 0
	19	[461]	CALL     	2 0 1
	20	[462]	GETUPVAL 	2 2	; UIManager
	21	[462]	SELF     	2 2 -10	; "quit"
	22	[462]	CALL     	2 2 1
	23	[464]	GETGLOBAL	2 -11	; assert
	24	[464]	GETTABLE 	2 2 -12	; "are"
	25	[464]	GETTABLE 	2 2 -13	; "same"
	26	[464]	NEWTABLE 	3 0 0
	27	[464]	GETUPVAL 	4 2	; UIManager
	28	[464]	GETTABLE 	4 4 -14	; "_task_queue"
	29	[464]	CALL     	2 3 1
	30	[465]	GETGLOBAL	2 -15	; G_reader_settings
	31	[465]	SELF     	2 2 -16	; "saveSetting"
	32	[465]	LOADK    	4 -17	; "reader_footer_mode"
	33	[465]	LOADK    	5 -18	; 1
	34	[465]	CALL     	2 4 1
	35	[466]	GETGLOBAL	2 -15	; G_reader_settings
	36	[466]	SELF     	2 2 -16	; "saveSetting"
	37	[466]	LOADK    	4 -19	; "footer"
	38	[466]	NEWTABLE 	5 0 3
	39	[467]	SETTABLE 	5 -20 -21	; "disabled" false
	40	[468]	SETTABLE 	5 -22 -23	; "page_progress" true
	41	[469]	SETTABLE 	5 -24 -23	; "time" true
	42	[466]	CALL     	2 4 1
	43	[471]	GETUPVAL 	2 3	; ReaderUI
	44	[471]	SELF     	2 2 -25	; "new"
	45	[471]	NEWTABLE 	4 0 1
	46	[472]	GETUPVAL 	5 4	; DocumentRegistry
	47	[472]	SELF     	5 5 -27	; "openDocument"
	48	[472]	MOVE     	7 1
	49	[472]	CALL     	5 3 2
	50	[472]	SETTABLE 	4 -26 5	; "document" -
	51	[471]	CALL     	2 3 2
	52	[474]	GETTABLE 	3 2 -28	; "view"
	53	[474]	GETTABLE 	3 3 -19	; "footer"
	54	[475]	NEWTABLE 	4 0 1
	55	[475]	NEWTABLE 	5 0 0
	56	[475]	SETTABLE 	4 -29 5	; "setting" -
	57	[476]	SELF     	5 3 -30	; "addToMainMenu"
	58	[476]	MOVE     	7 4
	59	[476]	CALL     	5 3 1
	60	[478]	LOADBOOL 	5 0 0
	61	[480]	GETTABLE 	6 4 -31	; "status_bar"
	62	[480]	TEST     	6 0 0
	63	[480]	JMP      	12	; to 76
	64	[481]	GETGLOBAL	6 -32	; ipairs
	65	[481]	GETTABLE 	7 4 -31	; "status_bar"
	66	[481]	GETTABLE 	7 7 -33	; "sub_item_table"
	67	[481]	CALL     	6 2 4
	68	[481]	JMP      	5	; to 74
	69	[482]	GETTABLE 	11 10 -34	; "text"
	70	[482]	EQ       	0 11 -35	; - "Toggle mode"
	71	[482]	JMP      	2	; to 74
	72	[483]	LOADBOOL 	5 1 0
	73	[484]	JMP      	2	; to 76
	74	[481]	TFORLOOP 	6 2
	75	[485]	JMP      	-7	; to 69
	76	[489]	GETGLOBAL	6 -11	; assert
	77	[489]	GETTABLE 	6 6 -36	; "is"
	78	[489]	GETTABLE 	6 6 -37	; "truthy"
	79	[489]	MOVE     	7 5
	80	[489]	CALL     	6 2 1
	81	[491]	GETGLOBAL	6 -11	; assert
	82	[491]	GETTABLE 	6 6 -36	; "is"
	83	[491]	GETTABLE 	6 6 -13	; "same"
	84	[491]	LOADK    	7 -18	; 1
	85	[491]	GETTABLE 	8 3 -38	; "mode"
	86	[491]	CALL     	6 3 1
	87	[492]	GETUPVAL 	6 5	; tapFooterMenu
	88	[492]	MOVE     	7 4
	89	[492]	LOADK    	8 -35	; "Toggle mode"
	90	[492]	CALL     	6 3 1
	91	[493]	GETGLOBAL	6 -11	; assert
	92	[493]	GETTABLE 	6 6 -36	; "is"
	93	[493]	GETTABLE 	6 6 -13	; "same"
	94	[493]	LOADK    	7 -39	; 2
	95	[493]	GETTABLE 	8 3 -38	; "mode"
	96	[493]	CALL     	6 3 1
	97	[495]	SETGLOBAL	0 -1	; DTAP_ZONE_MINIBAR
	98	[496]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:498,526> (83 instructions, 332 bytes at 0x7ff4f840b3a0)
0 params, 8 slots, 6 upvalues, 4 locals, 32 constants, 0 functions
	1	[499]	LOADK    	0 -1	; "spec/front/unit/data/2col.pdf"
	2	[500]	GETUPVAL 	1 0	; purgeDir
	3	[500]	GETUPVAL 	2 1	; DocSettings
	4	[500]	SELF     	2 2 -2	; "getSidecarDir"
	5	[500]	MOVE     	4 0
	6	[500]	CALL     	2 3 0
	7	[500]	CALL     	1 0 1
	8	[501]	GETGLOBAL	1 -3	; os
	9	[501]	GETTABLE 	1 1 -4	; "remove"
	10	[501]	GETUPVAL 	2 1	; DocSettings
	11	[501]	SELF     	2 2 -5	; "getHistoryPath"
	12	[501]	MOVE     	4 0
	13	[501]	CALL     	2 3 0
	14	[501]	CALL     	1 0 1
	15	[502]	GETUPVAL 	1 2	; UIManager
	16	[502]	SELF     	1 1 -6	; "quit"
	17	[502]	CALL     	1 2 1
	18	[504]	GETGLOBAL	1 -7	; assert
	19	[504]	GETTABLE 	1 1 -8	; "are"
	20	[504]	GETTABLE 	1 1 -9	; "same"
	21	[504]	NEWTABLE 	2 0 0
	22	[504]	GETUPVAL 	3 2	; UIManager
	23	[504]	GETTABLE 	3 3 -10	; "_task_queue"
	24	[504]	CALL     	1 3 1
	25	[505]	GETGLOBAL	1 -11	; G_reader_settings
	26	[505]	SELF     	1 1 -12	; "saveSetting"
	27	[505]	LOADK    	3 -13	; "footer"
	28	[505]	NEWTABLE 	4 0 3
	29	[506]	SETTABLE 	4 -14 -15	; "all_at_once" true
	30	[507]	SETTABLE 	4 -16 -15	; "page_progress" true
	31	[508]	SETTABLE 	4 -17 -15	; "pages_left" true
	32	[505]	CALL     	1 4 1
	33	[510]	GETUPVAL 	1 3	; ReaderUI
	34	[510]	SELF     	1 1 -18	; "new"
	35	[510]	NEWTABLE 	3 0 1
	36	[511]	GETUPVAL 	4 4	; DocumentRegistry
	37	[511]	SELF     	4 4 -20	; "openDocument"
	38	[511]	MOVE     	6 0
	39	[511]	CALL     	4 3 2
	40	[511]	SETTABLE 	3 -19 4	; "document" -
	41	[510]	CALL     	1 3 2
	42	[513]	GETTABLE 	2 1 -21	; "view"
	43	[513]	GETTABLE 	2 2 -13	; "footer"
	44	[514]	NEWTABLE 	3 0 1
	45	[514]	NEWTABLE 	4 0 0
	46	[514]	SETTABLE 	3 -22 4	; "setting" -
	47	[515]	SELF     	4 2 -23	; "addToMainMenu"
	48	[515]	MOVE     	6 3
	49	[515]	CALL     	4 3 1
	50	[517]	GETGLOBAL	4 -7	; assert
	51	[517]	GETTABLE 	4 4 -8	; "are"
	52	[517]	GETTABLE 	4 4 -9	; "same"
	53	[517]	LOADK    	5 -24	; "1 / 2 | \226\135\146 1"
	54	[517]	GETTABLE 	6 2 -25	; "footer_text"
	55	[517]	GETTABLE 	6 6 -26	; "text"
	56	[517]	CALL     	4 3 1
	57	[520]	GETUPVAL 	4 5	; tapFooterMenu
	58	[520]	MOVE     	5 3
	59	[520]	LOADK    	6 -27	; "Pages left in chapter"
	60	[520]	LOADK    	7 -28	; " (\226\135\146)"
	61	[520]	CONCAT   	6 6 7
	62	[520]	CALL     	4 3 1
	63	[521]	GETGLOBAL	4 -7	; assert
	64	[521]	GETTABLE 	4 4 -8	; "are"
	65	[521]	GETTABLE 	4 4 -9	; "same"
	66	[521]	LOADK    	5 -29	; "1 / 2"
	67	[521]	GETTABLE 	6 2 -25	; "footer_text"
	68	[521]	GETTABLE 	6 6 -26	; "text"
	69	[521]	CALL     	4 3 1
	70	[524]	GETUPVAL 	4 5	; tapFooterMenu
	71	[524]	MOVE     	5 3
	72	[524]	LOADK    	6 -30	; "Progress percentage"
	73	[524]	LOADK    	7 -31	; " (\226\164\160)"
	74	[524]	CONCAT   	6 6 7
	75	[524]	CALL     	4 3 1
	76	[525]	GETGLOBAL	4 -7	; assert
	77	[525]	GETTABLE 	4 4 -8	; "are"
	78	[525]	GETTABLE 	4 4 -9	; "same"
	79	[525]	LOADK    	5 -32	; "1 / 2 | \226\164\160 50%"
	80	[525]	GETTABLE 	6 2 -25	; "footer_text"
	81	[525]	GETTABLE 	6 6 -26	; "text"
	82	[525]	CALL     	4 3 1
	83	[526]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:528,549> (67 instructions, 268 bytes at 0x7ff4f840ee10)
0 params, 7 slots, 5 upvalues, 3 locals, 29 constants, 0 functions
	1	[529]	LOADK    	0 -1	; "spec/front/unit/data/2col.pdf"
	2	[530]	GETUPVAL 	1 0	; purgeDir
	3	[530]	GETUPVAL 	2 1	; DocSettings
	4	[530]	SELF     	2 2 -2	; "getSidecarDir"
	5	[530]	MOVE     	4 0
	6	[530]	CALL     	2 3 0
	7	[530]	CALL     	1 0 1
	8	[531]	GETGLOBAL	1 -3	; os
	9	[531]	GETTABLE 	1 1 -4	; "remove"
	10	[531]	GETUPVAL 	2 1	; DocSettings
	11	[531]	SELF     	2 2 -5	; "getHistoryPath"
	12	[531]	MOVE     	4 0
	13	[531]	CALL     	2 3 0
	14	[531]	CALL     	1 0 1
	15	[532]	GETUPVAL 	1 2	; UIManager
	16	[532]	SELF     	1 1 -6	; "quit"
	17	[532]	CALL     	1 2 1
	18	[534]	GETGLOBAL	1 -7	; assert
	19	[534]	GETTABLE 	1 1 -8	; "are"
	20	[534]	GETTABLE 	1 1 -9	; "same"
	21	[534]	NEWTABLE 	2 0 0
	22	[534]	GETUPVAL 	3 2	; UIManager
	23	[534]	GETTABLE 	3 3 -10	; "_task_queue"
	24	[534]	CALL     	1 3 1
	25	[535]	GETGLOBAL	1 -11	; G_reader_settings
	26	[535]	SELF     	1 1 -12	; "saveSetting"
	27	[535]	LOADK    	3 -13	; "reader_footer_mode"
	28	[535]	LOADK    	4 -14	; 0
	29	[535]	CALL     	1 4 1
	30	[536]	GETGLOBAL	1 -11	; G_reader_settings
	31	[536]	SELF     	1 1 -12	; "saveSetting"
	32	[536]	LOADK    	3 -15	; "footer"
	33	[536]	NEWTABLE 	4 0 3
	34	[537]	SETTABLE 	4 -16 -17	; "all_at_once" true
	35	[538]	SETTABLE 	4 -18 -17	; "page_progress" true
	36	[539]	SETTABLE 	4 -19 -17	; "pages_left" true
	37	[536]	CALL     	1 4 1
	38	[541]	GETUPVAL 	1 3	; ReaderUI
	39	[541]	SELF     	1 1 -20	; "new"
	40	[541]	NEWTABLE 	3 0 1
	41	[542]	GETUPVAL 	4 4	; DocumentRegistry
	42	[542]	SELF     	4 4 -22	; "openDocument"
	43	[542]	MOVE     	6 0
	44	[542]	CALL     	4 3 2
	45	[542]	SETTABLE 	3 -21 4	; "document" -
	46	[541]	CALL     	1 3 2
	47	[544]	GETTABLE 	2 1 -23	; "view"
	48	[544]	GETTABLE 	2 2 -15	; "footer"
	49	[546]	GETGLOBAL	3 -7	; assert
	50	[546]	GETTABLE 	3 3 -24	; "is"
	51	[546]	GETTABLE 	3 3 -25	; "truthy"
	52	[546]	GETTABLE 	4 2 -26	; "settings"
	53	[546]	GETTABLE 	4 4 -16	; "all_at_once"
	54	[546]	CALL     	3 2 1
	55	[547]	GETGLOBAL	3 -7	; assert
	56	[547]	GETTABLE 	3 3 -24	; "is"
	57	[547]	GETTABLE 	3 3 -25	; "truthy"
	58	[547]	LOADK    	4 -14	; 0
	59	[547]	GETTABLE 	5 2 -27	; "mode"
	60	[547]	CALL     	3 3 1
	61	[548]	GETGLOBAL	3 -7	; assert
	62	[548]	GETTABLE 	3 3 -24	; "is"
	63	[548]	GETTABLE 	3 3 -28	; "falsy"
	64	[548]	GETTABLE 	4 1 -23	; "view"
	65	[548]	GETTABLE 	4 4 -29	; "footer_visible"
	66	[548]	CALL     	3 2 1
	67	[549]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:551,585> (141 instructions, 564 bytes at 0x7ff4f840fe00)
0 params, 8 slots, 6 upvalues, 4 locals, 32 constants, 0 functions
	1	[552]	LOADK    	0 -1	; "spec/front/unit/data/juliet.epub"
	2	[553]	GETUPVAL 	1 0	; purgeDir
	3	[553]	GETUPVAL 	2 1	; DocSettings
	4	[553]	SELF     	2 2 -2	; "getSidecarDir"
	5	[553]	MOVE     	4 0
	6	[553]	CALL     	2 3 0
	7	[553]	CALL     	1 0 1
	8	[554]	GETGLOBAL	1 -3	; os
	9	[554]	GETTABLE 	1 1 -4	; "remove"
	10	[554]	GETUPVAL 	2 1	; DocSettings
	11	[554]	SELF     	2 2 -5	; "getHistoryPath"
	12	[554]	MOVE     	4 0
	13	[554]	CALL     	2 3 0
	14	[554]	CALL     	1 0 1
	15	[555]	GETUPVAL 	1 2	; UIManager
	16	[555]	SELF     	1 1 -6	; "quit"
	17	[555]	CALL     	1 2 1
	18	[557]	GETGLOBAL	1 -7	; assert
	19	[557]	GETTABLE 	1 1 -8	; "are"
	20	[557]	GETTABLE 	1 1 -9	; "same"
	21	[557]	NEWTABLE 	2 0 0
	22	[557]	GETUPVAL 	3 2	; UIManager
	23	[557]	GETTABLE 	3 3 -10	; "_task_queue"
	24	[557]	CALL     	1 3 1
	25	[558]	GETGLOBAL	1 -11	; G_reader_settings
	26	[558]	SELF     	1 1 -12	; "saveSetting"
	27	[558]	LOADK    	3 -13	; "footer"
	28	[558]	NEWTABLE 	4 0 0
	29	[558]	CALL     	1 4 1
	30	[559]	GETUPVAL 	1 3	; ReaderUI
	31	[559]	SELF     	1 1 -14	; "new"
	32	[559]	NEWTABLE 	3 0 1
	33	[560]	GETUPVAL 	4 4	; DocumentRegistry
	34	[560]	SELF     	4 4 -16	; "openDocument"
	35	[560]	MOVE     	6 0
	36	[560]	CALL     	4 3 2
	37	[560]	SETTABLE 	3 -15 4	; "document" -
	38	[559]	CALL     	1 3 2
	39	[562]	GETTABLE 	2 1 -17	; "view"
	40	[562]	GETTABLE 	2 2 -13	; "footer"
	41	[563]	NEWTABLE 	3 0 1
	42	[563]	NEWTABLE 	4 0 0
	43	[563]	SETTABLE 	3 -18 4	; "setting" -
	44	[564]	SELF     	4 2 -19	; "addToMainMenu"
	45	[564]	MOVE     	6 3
	46	[564]	CALL     	4 3 1
	47	[566]	GETGLOBAL	4 -7	; assert
	48	[566]	GETTABLE 	4 4 -20	; "is"
	49	[566]	GETTABLE 	4 4 -9	; "same"
	50	[566]	LOADBOOL 	5 1 0
	51	[566]	GETTABLE 	6 2 -21	; "has_no_mode"
	52	[566]	CALL     	4 3 1
	53	[567]	GETGLOBAL	4 -7	; assert
	54	[567]	GETTABLE 	4 4 -20	; "is"
	55	[567]	GETTABLE 	4 4 -9	; "same"
	56	[567]	LOADK    	5 -22	; 0
	57	[567]	GETTABLE 	6 2 -23	; "text_width"
	58	[567]	CALL     	4 3 1
	59	[569]	GETUPVAL 	4 5	; tapFooterMenu
	60	[569]	MOVE     	5 3
	61	[569]	LOADK    	6 -24	; "Progress percentage"
	62	[569]	LOADK    	7 -25	; " (\226\164\160)"
	63	[569]	CONCAT   	6 6 7
	64	[569]	CALL     	4 3 1
	65	[570]	GETGLOBAL	4 -7	; assert
	66	[570]	GETTABLE 	4 4 -8	; "are"
	67	[570]	GETTABLE 	4 4 -9	; "same"
	68	[570]	LOADK    	5 -26	; "\226\164\160 0%"
	69	[570]	GETTABLE 	6 2 -27	; "footer_text"
	70	[570]	GETTABLE 	6 6 -28	; "text"
	71	[570]	CALL     	4 3 1
	72	[571]	GETGLOBAL	4 -7	; assert
	73	[571]	GETTABLE 	4 4 -20	; "is"
	74	[571]	GETTABLE 	4 4 -9	; "same"
	75	[571]	LOADBOOL 	5 0 0
	76	[571]	GETTABLE 	6 2 -21	; "has_no_mode"
	77	[571]	CALL     	4 3 1
	78	[572]	GETGLOBAL	4 -7	; assert
	79	[572]	GETTABLE 	4 4 -20	; "is"
	80	[572]	GETTABLE 	4 4 -9	; "same"
	81	[572]	GETTABLE 	5 2 -27	; "footer_text"
	82	[572]	SELF     	5 5 -29	; "getSize"
	83	[572]	CALL     	5 2 2
	84	[572]	GETTABLE 	5 5 -30	; "w"
	85	[572]	GETTABLE 	6 2 -31	; "text_left_margin"
	86	[572]	ADD      	5 5 6
	87	[573]	GETTABLE 	6 2 -23	; "text_width"
	88	[572]	CALL     	4 3 1
	89	[574]	GETUPVAL 	4 5	; tapFooterMenu
	90	[574]	MOVE     	5 3
	91	[574]	LOADK    	6 -24	; "Progress percentage"
	92	[574]	LOADK    	7 -25	; " (\226\164\160)"
	93	[574]	CONCAT   	6 6 7
	94	[574]	CALL     	4 3 1
	95	[575]	GETGLOBAL	4 -7	; assert
	96	[575]	GETTABLE 	4 4 -20	; "is"
	97	[575]	GETTABLE 	4 4 -9	; "same"
	98	[575]	LOADBOOL 	5 1 0
	99	[575]	GETTABLE 	6 2 -21	; "has_no_mode"
	100	[575]	CALL     	4 3 1
	101	[578]	GETUPVAL 	4 5	; tapFooterMenu
	102	[578]	MOVE     	5 3
	103	[578]	LOADK    	6 -24	; "Progress percentage"
	104	[578]	LOADK    	7 -25	; " (\226\164\160)"
	105	[578]	CONCAT   	6 6 7
	106	[578]	CALL     	4 3 1
	107	[579]	GETUPVAL 	4 5	; tapFooterMenu
	108	[579]	MOVE     	5 3
	109	[579]	LOADK    	6 -32	; "Show all at once"
	110	[579]	CALL     	4 3 1
	111	[580]	GETGLOBAL	4 -7	; assert
	112	[580]	GETTABLE 	4 4 -20	; "is"
	113	[580]	GETTABLE 	4 4 -9	; "same"
	114	[580]	LOADBOOL 	5 0 0
	115	[580]	GETTABLE 	6 2 -21	; "has_no_mode"
	116	[580]	CALL     	4 3 1
	117	[581]	GETUPVAL 	4 5	; tapFooterMenu
	118	[581]	MOVE     	5 3
	119	[581]	LOADK    	6 -24	; "Progress percentage"
	120	[581]	LOADK    	7 -25	; " (\226\164\160)"
	121	[581]	CONCAT   	6 6 7
	122	[581]	CALL     	4 3 1
	123	[582]	GETGLOBAL	4 -7	; assert
	124	[582]	GETTABLE 	4 4 -20	; "is"
	125	[582]	GETTABLE 	4 4 -9	; "same"
	126	[582]	LOADBOOL 	5 1 0
	127	[582]	GETTABLE 	6 2 -21	; "has_no_mode"
	128	[582]	CALL     	4 3 1
	129	[583]	GETUPVAL 	4 5	; tapFooterMenu
	130	[583]	MOVE     	5 3
	131	[583]	LOADK    	6 -24	; "Progress percentage"
	132	[583]	LOADK    	7 -25	; " (\226\164\160)"
	133	[583]	CONCAT   	6 6 7
	134	[583]	CALL     	4 3 1
	135	[584]	GETGLOBAL	4 -7	; assert
	136	[584]	GETTABLE 	4 4 -20	; "is"
	137	[584]	GETTABLE 	4 4 -9	; "same"
	138	[584]	LOADBOOL 	5 0 0
	139	[584]	GETTABLE 	6 2 -21	; "has_no_mode"
	140	[584]	CALL     	4 3 1
	141	[585]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:587,603> (56 instructions, 224 bytes at 0x7ff4f840efb0)
0 params, 7 slots, 5 upvalues, 3 locals, 26 constants, 0 functions
	1	[588]	LOADK    	0 -1	; "spec/front/unit/data/juliet.epub"
	2	[589]	GETUPVAL 	1 0	; purgeDir
	3	[589]	GETUPVAL 	2 1	; DocSettings
	4	[589]	SELF     	2 2 -2	; "getSidecarDir"
	5	[589]	MOVE     	4 0
	6	[589]	CALL     	2 3 0
	7	[589]	CALL     	1 0 1
	8	[590]	GETGLOBAL	1 -3	; os
	9	[590]	GETTABLE 	1 1 -4	; "remove"
	10	[590]	GETUPVAL 	2 1	; DocSettings
	11	[590]	SELF     	2 2 -5	; "getHistoryPath"
	12	[590]	MOVE     	4 0
	13	[590]	CALL     	2 3 0
	14	[590]	CALL     	1 0 1
	15	[591]	GETUPVAL 	1 2	; UIManager
	16	[591]	SELF     	1 1 -6	; "quit"
	17	[591]	CALL     	1 2 1
	18	[593]	GETGLOBAL	1 -7	; G_reader_settings
	19	[593]	SELF     	1 1 -8	; "saveSetting"
	20	[593]	LOADK    	3 -9	; "reader_footer_mode"
	21	[593]	LOADK    	4 -10	; 2
	22	[593]	CALL     	1 4 1
	23	[594]	GETGLOBAL	1 -7	; G_reader_settings
	24	[594]	SELF     	1 1 -8	; "saveSetting"
	25	[594]	LOADK    	3 -11	; "footer"
	26	[594]	NEWTABLE 	4 0 1
	27	[594]	SETTABLE 	4 -12 -13	; "time" true
	28	[594]	CALL     	1 4 1
	29	[595]	GETUPVAL 	1 3	; ReaderUI
	30	[595]	SELF     	1 1 -14	; "new"
	31	[595]	NEWTABLE 	3 0 1
	32	[596]	GETUPVAL 	4 4	; DocumentRegistry
	33	[596]	SELF     	4 4 -16	; "openDocument"
	34	[596]	MOVE     	6 0
	35	[596]	CALL     	4 3 2
	36	[596]	SETTABLE 	3 -15 4	; "document" -
	37	[595]	CALL     	1 3 2
	38	[598]	GETTABLE 	2 1 -17	; "view"
	39	[598]	GETTABLE 	2 2 -11	; "footer"
	40	[600]	GETGLOBAL	3 -18	; assert
	41	[600]	GETTABLE 	3 3 -19	; "falsy"
	42	[600]	GETTABLE 	4 2 -20	; "has_no_mode"
	43	[600]	CALL     	3 2 1
	44	[601]	GETGLOBAL	3 -18	; assert
	45	[601]	GETTABLE 	3 3 -21	; "truthy"
	46	[601]	GETTABLE 	4 1 -17	; "view"
	47	[601]	GETTABLE 	4 4 -22	; "footer_visible"
	48	[601]	CALL     	3 2 1
	49	[602]	GETGLOBAL	3 -18	; assert
	50	[602]	GETTABLE 	3 3 -23	; "is"
	51	[602]	GETTABLE 	3 3 -24	; "same"
	52	[602]	LOADK    	4 -25	; 15
	53	[602]	SELF     	5 2 -26	; "getHeight"
	54	[602]	CALL     	5 2 0
	55	[602]	CALL     	3 0 1
	56	[603]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:605,621> (55 instructions, 220 bytes at 0x7ff4f840ee90)
0 params, 7 slots, 5 upvalues, 3 locals, 23 constants, 0 functions
	1	[606]	LOADK    	0 -1	; "spec/front/unit/data/juliet.epub"
	2	[607]	GETUPVAL 	1 0	; purgeDir
	3	[607]	GETUPVAL 	2 1	; DocSettings
	4	[607]	SELF     	2 2 -2	; "getSidecarDir"
	5	[607]	MOVE     	4 0
	6	[607]	CALL     	2 3 0
	7	[607]	CALL     	1 0 1
	8	[608]	GETGLOBAL	1 -3	; os
	9	[608]	GETTABLE 	1 1 -4	; "remove"
	10	[608]	GETUPVAL 	2 1	; DocSettings
	11	[608]	SELF     	2 2 -5	; "getHistoryPath"
	12	[608]	MOVE     	4 0
	13	[608]	CALL     	2 3 0
	14	[608]	CALL     	1 0 1
	15	[609]	GETUPVAL 	1 2	; UIManager
	16	[609]	SELF     	1 1 -6	; "quit"
	17	[609]	CALL     	1 2 1
	18	[611]	GETGLOBAL	1 -7	; G_reader_settings
	19	[611]	SELF     	1 1 -8	; "saveSetting"
	20	[611]	LOADK    	3 -9	; "reader_footer_mode"
	21	[611]	LOADK    	4 -10	; 1
	22	[611]	CALL     	1 4 1
	23	[612]	GETGLOBAL	1 -7	; G_reader_settings
	24	[612]	SELF     	1 1 -8	; "saveSetting"
	25	[612]	LOADK    	3 -11	; "footer"
	26	[612]	NEWTABLE 	4 0 0
	27	[612]	CALL     	1 4 1
	28	[613]	GETUPVAL 	1 3	; ReaderUI
	29	[613]	SELF     	1 1 -12	; "new"
	30	[613]	NEWTABLE 	3 0 1
	31	[614]	GETUPVAL 	4 4	; DocumentRegistry
	32	[614]	SELF     	4 4 -14	; "openDocument"
	33	[614]	MOVE     	6 0
	34	[614]	CALL     	4 3 2
	35	[614]	SETTABLE 	3 -13 4	; "document" -
	36	[613]	CALL     	1 3 2
	37	[616]	GETTABLE 	2 1 -15	; "view"
	38	[616]	GETTABLE 	2 2 -11	; "footer"
	39	[618]	GETGLOBAL	3 -16	; assert
	40	[618]	GETTABLE 	3 3 -17	; "truthy"
	41	[618]	GETTABLE 	4 2 -18	; "has_no_mode"
	42	[618]	CALL     	3 2 1
	43	[619]	GETGLOBAL	3 -16	; assert
	44	[619]	GETTABLE 	3 3 -17	; "truthy"
	45	[619]	GETTABLE 	4 1 -15	; "view"
	46	[619]	GETTABLE 	4 4 -19	; "footer_visible"
	47	[619]	CALL     	3 2 1
	48	[620]	GETGLOBAL	3 -16	; assert
	49	[620]	GETTABLE 	3 3 -20	; "is"
	50	[620]	GETTABLE 	3 3 -21	; "same"
	51	[620]	LOADK    	4 -22	; 15
	52	[620]	SELF     	5 2 -23	; "getHeight"
	53	[620]	CALL     	5 2 0
	54	[620]	CALL     	3 0 1
	55	[621]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:623,638> (49 instructions, 196 bytes at 0x7ff4f8410ca0)
0 params, 7 slots, 5 upvalues, 3 locals, 22 constants, 0 functions
	1	[624]	LOADK    	0 -1	; "spec/front/unit/data/juliet.epub"
	2	[625]	GETUPVAL 	1 0	; purgeDir
	3	[625]	GETUPVAL 	2 1	; DocSettings
	4	[625]	SELF     	2 2 -2	; "getSidecarDir"
	5	[625]	MOVE     	4 0
	6	[625]	CALL     	2 3 0
	7	[625]	CALL     	1 0 1
	8	[626]	GETGLOBAL	1 -3	; os
	9	[626]	GETTABLE 	1 1 -4	; "remove"
	10	[626]	GETUPVAL 	2 1	; DocSettings
	11	[626]	SELF     	2 2 -5	; "getHistoryPath"
	12	[626]	MOVE     	4 0
	13	[626]	CALL     	2 3 0
	14	[626]	CALL     	1 0 1
	15	[627]	GETUPVAL 	1 2	; UIManager
	16	[627]	SELF     	1 1 -6	; "quit"
	17	[627]	CALL     	1 2 1
	18	[629]	GETGLOBAL	1 -7	; G_reader_settings
	19	[629]	SELF     	1 1 -8	; "saveSetting"
	20	[629]	LOADK    	3 -9	; "reader_footer_mode"
	21	[629]	LOADK    	4 -10	; 1
	22	[629]	CALL     	1 4 1
	23	[630]	GETGLOBAL	1 -7	; G_reader_settings
	24	[630]	SELF     	1 1 -8	; "saveSetting"
	25	[630]	LOADK    	3 -11	; "footer"
	26	[630]	NEWTABLE 	4 0 1
	27	[630]	SETTABLE 	4 -12 -13	; "disable_progress_bar" true
	28	[630]	CALL     	1 4 1
	29	[631]	GETUPVAL 	1 3	; ReaderUI
	30	[631]	SELF     	1 1 -14	; "new"
	31	[631]	NEWTABLE 	3 0 1
	32	[632]	GETUPVAL 	4 4	; DocumentRegistry
	33	[632]	SELF     	4 4 -16	; "openDocument"
	34	[632]	MOVE     	6 0
	35	[632]	CALL     	4 3 2
	36	[632]	SETTABLE 	3 -15 4	; "document" -
	37	[631]	CALL     	1 3 2
	38	[634]	GETTABLE 	2 1 -17	; "view"
	39	[634]	GETTABLE 	2 2 -11	; "footer"
	40	[636]	GETGLOBAL	3 -18	; assert
	41	[636]	GETTABLE 	3 3 -19	; "truthy"
	42	[636]	GETTABLE 	4 2 -20	; "has_no_mode"
	43	[636]	CALL     	3 2 1
	44	[637]	GETGLOBAL	3 -18	; assert
	45	[637]	GETTABLE 	3 3 -21	; "falsy"
	46	[637]	GETTABLE 	4 1 -17	; "view"
	47	[637]	GETTABLE 	4 4 -22	; "footer_visible"
	48	[637]	CALL     	3 2 1
	49	[638]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:640,655> (56 instructions, 224 bytes at 0x7ff4f84109d0)
0 params, 7 slots, 5 upvalues, 3 locals, 23 constants, 0 functions
	1	[641]	LOADK    	0 -1	; "spec/front/unit/data/juliet.epub"
	2	[642]	GETUPVAL 	1 0	; purgeDir
	3	[642]	GETUPVAL 	2 1	; DocSettings
	4	[642]	SELF     	2 2 -2	; "getSidecarDir"
	5	[642]	MOVE     	4 0
	6	[642]	CALL     	2 3 0
	7	[642]	CALL     	1 0 1
	8	[643]	GETGLOBAL	1 -3	; os
	9	[643]	GETTABLE 	1 1 -4	; "remove"
	10	[643]	GETUPVAL 	2 1	; DocSettings
	11	[643]	SELF     	2 2 -5	; "getHistoryPath"
	12	[643]	MOVE     	4 0
	13	[643]	CALL     	2 3 0
	14	[643]	CALL     	1 0 1
	15	[644]	GETUPVAL 	1 2	; UIManager
	16	[644]	SELF     	1 1 -6	; "quit"
	17	[644]	CALL     	1 2 1
	18	[646]	GETGLOBAL	1 -7	; G_reader_settings
	19	[646]	SELF     	1 1 -8	; "saveSetting"
	20	[646]	LOADK    	3 -9	; "footer"
	21	[646]	NEWTABLE 	4 0 1
	22	[646]	SETTABLE 	4 -10 -11	; "disabled" true
	23	[646]	CALL     	1 4 1
	24	[647]	GETUPVAL 	1 3	; ReaderUI
	25	[647]	SELF     	1 1 -12	; "new"
	26	[647]	NEWTABLE 	3 0 1
	27	[648]	GETUPVAL 	4 4	; DocumentRegistry
	28	[648]	SELF     	4 4 -14	; "openDocument"
	29	[648]	MOVE     	6 0
	30	[648]	CALL     	4 3 2
	31	[648]	SETTABLE 	3 -13 4	; "document" -
	32	[647]	CALL     	1 3 2
	33	[650]	GETTABLE 	2 1 -15	; "view"
	34	[650]	GETTABLE 	2 2 -9	; "footer"
	35	[652]	GETGLOBAL	3 -16	; assert
	36	[652]	GETTABLE 	3 3 -17	; "falsy"
	37	[652]	GETTABLE 	4 1 -15	; "view"
	38	[652]	GETTABLE 	4 4 -18	; "footer_visible"
	39	[652]	CALL     	3 2 1
	40	[653]	GETGLOBAL	3 -16	; assert
	41	[653]	GETTABLE 	3 3 -19	; "truthy"
	42	[653]	GETTABLE 	4 2 -20	; "onCloseDocument"
	43	[653]	EQ       	1 4 -21	; - nil
	44	[653]	JMP      	1	; to 46
	45	[653]	LOADBOOL 	4 0 1
	46	[653]	LOADBOOL 	4 1 0
	47	[653]	CALL     	3 2 1
	48	[654]	GETGLOBAL	3 -16	; assert
	49	[654]	GETTABLE 	3 3 -19	; "truthy"
	50	[654]	GETTABLE 	4 2 -22	; "mode"
	51	[654]	EQ       	1 4 -23	; - 0
	52	[654]	JMP      	1	; to 54
	53	[654]	LOADBOOL 	4 0 1
	54	[654]	LOADBOOL 	4 1 0
	55	[654]	CALL     	3 2 1
	56	[655]	RETURN   	0 1

function <./spec/unit/readerfooter_spec.lua:657,679> (73 instructions, 292 bytes at 0x7ff4f8411680)
0 params, 7 slots, 2 upvalues, 3 locals, 18 constants, 0 functions
	1	[658]	LOADK    	0 -1	; "spec/front/unit/data/sample.txt"
	2	[659]	GETUPVAL 	1 0	; ReaderUI
	3	[659]	SELF     	1 1 -2	; "new"
	4	[659]	NEWTABLE 	3 0 1
	5	[660]	GETUPVAL 	4 1	; DocumentRegistry
	6	[660]	SELF     	4 4 -4	; "openDocument"
	7	[660]	MOVE     	6 0
	8	[660]	CALL     	4 3 2
	9	[660]	SETTABLE 	3 -3 4	; "document" -
	10	[659]	CALL     	1 3 2
	11	[662]	GETTABLE 	2 1 -5	; "view"
	12	[662]	GETTABLE 	2 2 -6	; "footer"
	13	[664]	SELF     	3 2 -7	; "applyFooterMode"
	14	[664]	LOADK    	5 -8	; 0
	15	[664]	CALL     	3 3 1
	16	[665]	GETGLOBAL	3 -9	; assert
	17	[665]	GETTABLE 	3 3 -10	; "is"
	18	[665]	GETTABLE 	3 3 -11	; "same"
	19	[665]	LOADK    	4 -8	; 0
	20	[665]	GETTABLE 	5 2 -12	; "mode"
	21	[665]	CALL     	3 3 1
	22	[666]	GETGLOBAL	3 -9	; assert
	23	[666]	GETTABLE 	3 3 -13	; "falsy"
	24	[666]	GETTABLE 	4 1 -5	; "view"
	25	[666]	GETTABLE 	4 4 -14	; "footer_visible"
	26	[666]	CALL     	3 2 1
	27	[667]	GETTABLE 	3 1 -15	; "rolling"
	28	[667]	SELF     	3 3 -16	; "onSetStatusLine"
	29	[667]	LOADK    	5 -17	; 1
	30	[667]	CALL     	3 3 1
	31	[668]	GETGLOBAL	3 -9	; assert
	32	[668]	GETTABLE 	3 3 -10	; "is"
	33	[668]	GETTABLE 	3 3 -11	; "same"
	34	[668]	LOADK    	4 -17	; 1
	35	[668]	GETTABLE 	5 2 -12	; "mode"
	36	[668]	CALL     	3 3 1
	37	[669]	GETGLOBAL	3 -9	; assert
	38	[669]	GETTABLE 	3 3 -18	; "truthy"
	39	[669]	GETTABLE 	4 1 -5	; "view"
	40	[669]	GETTABLE 	4 4 -14	; "footer_visible"
	41	[669]	CALL     	3 2 1
	42	[671]	SETTABLE 	2 -12 -17	; "mode" 1
	43	[672]	GETTABLE 	3 1 -15	; "rolling"
	44	[672]	SELF     	3 3 -16	; "onSetStatusLine"
	45	[672]	LOADK    	5 -17	; 1
	46	[672]	CALL     	3 3 1
	47	[673]	GETGLOBAL	3 -9	; assert
	48	[673]	GETTABLE 	3 3 -10	; "is"
	49	[673]	GETTABLE 	3 3 -11	; "same"
	50	[673]	LOADK    	4 -17	; 1
	51	[673]	GETTABLE 	5 2 -12	; "mode"
	52	[673]	CALL     	3 3 1
	53	[674]	GETGLOBAL	3 -9	; assert
	54	[674]	GETTABLE 	3 3 -18	; "truthy"
	55	[674]	GETTABLE 	4 1 -5	; "view"
	56	[674]	GETTABLE 	4 4 -14	; "footer_visible"
	57	[674]	CALL     	3 2 1
	58	[676]	GETTABLE 	3 1 -15	; "rolling"
	59	[676]	SELF     	3 3 -16	; "onSetStatusLine"
	60	[676]	LOADK    	5 -8	; 0
	61	[676]	CALL     	3 3 1
	62	[677]	GETGLOBAL	3 -9	; assert
	63	[677]	GETTABLE 	3 3 -10	; "is"
	64	[677]	GETTABLE 	3 3 -11	; "same"
	65	[677]	LOADK    	4 -8	; 0
	66	[677]	GETTABLE 	5 2 -12	; "mode"
	67	[677]	CALL     	3 3 1
	68	[678]	GETGLOBAL	3 -9	; assert
	69	[678]	GETTABLE 	3 3 -13	; "falsy"
	70	[678]	GETTABLE 	4 1 -5	; "view"
	71	[678]	GETTABLE 	4 4 -14	; "footer_visible"
	72	[678]	CALL     	3 2 1
	73	[679]	RETURN   	0 1
