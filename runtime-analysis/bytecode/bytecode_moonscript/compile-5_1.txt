
main <./moonscript/compile.lua:0,0> (337 instructions, 1348 bytes at 0x7fe5c9606060)
0+ params, 33 slots, 0 upvalues, 46 locals, 87 constants, 56 functions
	1	[1]	GETGLOBAL	0 -1	; require
	2	[1]	LOADK    	1 -2	; "moonscript.util"
	3	[1]	CALL     	0 2 2
	4	[2]	GETGLOBAL	1 -1	; require
	5	[2]	LOADK    	2 -3	; "moonscript.dump"
	6	[2]	CALL     	1 2 2
	7	[3]	GETGLOBAL	2 -1	; require
	8	[3]	LOADK    	3 -4	; "moonscript.transform"
	9	[3]	CALL     	2 2 2
	10	[4]	LOADNIL  	3 4
	11	[6]	GETGLOBAL	5 -1	; require
	12	[6]	LOADK    	6 -5	; "moonscript.transform.names"
	13	[6]	CALL     	5 2 2
	14	[7]	GETTABLE 	6 5 -6	; "NameProxy"
	15	[7]	GETTABLE 	4 5 -7	; "LocalName"
	16	[7]	MOVE     	3 6
	17	[9]	LOADNIL  	5 5
	18	[10]	GETGLOBAL	6 -1	; require
	19	[10]	LOADK    	7 -8	; "moonscript.data"
	20	[10]	CALL     	6 2 2
	21	[10]	GETTABLE 	5 6 -9	; "Set"
	22	[11]	LOADNIL  	6 7
	23	[13]	GETGLOBAL	8 -1	; require
	24	[13]	LOADK    	9 -10	; "moonscript.types"
	25	[13]	CALL     	8 2 2
	26	[14]	GETTABLE 	9 8 -11	; "ntype"
	27	[14]	GETTABLE 	7 8 -12	; "value_can_be_statement"
	28	[14]	MOVE     	6 9
	29	[16]	GETGLOBAL	8 -1	; require
	30	[16]	LOADK    	9 -13	; "moonscript.compile.statement"
	31	[16]	CALL     	8 2 2
	32	[17]	GETGLOBAL	9 -1	; require
	33	[17]	LOADK    	10 -14	; "moonscript.compile.value"
	34	[17]	CALL     	9 2 2
	35	[18]	LOADNIL  	10 11
	36	[20]	GETGLOBAL	12 -15	; table
	37	[21]	GETTABLE 	13 12 -16	; "concat"
	38	[21]	GETTABLE 	11 12 -17	; "insert"
	39	[21]	MOVE     	10 13
	40	[23]	LOADNIL  	12 15
	41	[24]	GETTABLE 	16 0 -18	; "pos_to_line"
	42	[24]	GETTABLE 	17 0 -19	; "get_closest_line"
	43	[24]	GETTABLE 	18 0 -20	; "trim"
	44	[24]	GETTABLE 	15 0 -21	; "unpack"
	45	[24]	MOVE     	14 18
	46	[24]	MOVE     	13 17
	47	[24]	MOVE     	12 16
	48	[25]	GETTABLE 	16 0 -22	; "moon"
	49	[25]	GETTABLE 	16 16 -23	; "type"
	50	[26]	LOADK    	17 -24	; "  "
	51	[27]	LOADNIL  	18 23
	52	[30]	NEWTABLE 	24 0 5
	53	[38]	CLOSURE  	25 0	; 0x7fe5c9606780
	54	[38]	SETTABLE 	24 -25 25	; "mark_pos" -
	55	[49]	CLOSURE  	25 1	; 0x7fe5c9606ea0
	56	[49]	MOVE     	0 16
	57	[49]	MOVE     	0 18
	58	[49]	MOVE     	0 21
	59	[49]	SETTABLE 	24 -26 25	; "add" -
	60	[75]	CLOSURE  	25 2	; 0x7fe5c9607770
	61	[75]	MOVE     	0 16
	62	[75]	MOVE     	0 19
	63	[75]	MOVE     	0 20
	64	[75]	SETTABLE 	24 -27 25	; "flatten_posmap" -
	65	[110]	CLOSURE  	25 3	; 0x7fe5c9607ae0
	66	[110]	MOVE     	0 16
	67	[110]	MOVE     	0 19
	68	[110]	MOVE     	0 11
	69	[110]	MOVE     	0 20
	70	[110]	MOVE     	0 17
	71	[110]	SETTABLE 	24 -28 25	; "flatten" -
	72	[128]	CLOSURE  	25 4	; 0x7fe5c9608020
	73	[128]	MOVE     	0 0
	74	[128]	SETTABLE 	24 -29 25	; "__tostring" -
	75	[130]	SETTABLE 	24 -30 24	; "__index" -
	76	[131]	GETGLOBAL	25 -31	; setmetatable
	77	[131]	NEWTABLE 	26 0 3
	78	[134]	CLOSURE  	27 5	; 0x7fe5c9608900
	79	[134]	SETTABLE 	26 -32 27	; "__init" -
	80	[135]	SETTABLE 	26 -33 24	; "__base" -
	81	[136]	SETTABLE 	26 -34 -35	; "__name" "Lines"
	82	[137]	NEWTABLE 	27 0 2
	83	[138]	SETTABLE 	27 -30 24	; "__index" -
	84	[143]	CLOSURE  	28 6	; 0x7fe5c9605d60
	85	[143]	MOVE     	0 24
	86	[143]	SETTABLE 	27 -36 28	; "__call" -
	87	[131]	CALL     	25 3 2
	88	[144]	MOVE     	23 25
	89	[145]	SETTABLE 	24 -37 23	; "__class" -
	90	[146]	MOVE     	20 23
	91	[146]	CLOSE    	23
	92	[149]	LOADNIL  	23 23
	93	[150]	NEWTABLE 	24 0 5
	94	[151]	SETTABLE 	24 -38 -39	; "pos" nil
	95	[160]	CLOSURE  	25 7	; 0x7fe5c9608eb0
	96	[160]	MOVE     	0 11
	97	[160]	SETTABLE 	24 -40 25	; "append_list" -
	98	[176]	CLOSURE  	25 8	; 0x7fe5c9609360
	99	[176]	MOVE     	0 18
	100	[176]	MOVE     	0 16
	101	[176]	MOVE     	0 11
	102	[176]	SETTABLE 	24 -41 25	; "append" -
	103	[207]	CLOSURE  	25 9	; 0x7fe5c9609420
	104	[207]	MOVE     	0 10
	105	[207]	MOVE     	0 16
	106	[207]	MOVE     	0 21
	107	[207]	MOVE     	0 20
	108	[207]	MOVE     	0 11
	109	[207]	SETTABLE 	24 -42 25	; "render" -
	110	[210]	CLOSURE  	25 10	; 0x7fe5c960a520
	111	[210]	MOVE     	0 0
	112	[210]	SETTABLE 	24 -29 25	; "__tostring" -
	113	[212]	SETTABLE 	24 -30 24	; "__index" -
	114	[213]	GETGLOBAL	25 -31	; setmetatable
	115	[213]	NEWTABLE 	26 0 3
	116	[214]	CLOSURE  	27 11	; 0x7fe5c960a730
	117	[214]	SETTABLE 	26 -32 27	; "__init" -
	118	[215]	SETTABLE 	26 -33 24	; "__base" -
	119	[216]	SETTABLE 	26 -34 -43	; "__name" "Line"
	120	[217]	NEWTABLE 	27 0 2
	121	[218]	SETTABLE 	27 -30 24	; "__index" -
	122	[223]	CLOSURE  	28 12	; 0x7fe5c960a7f0
	123	[223]	MOVE     	0 24
	124	[223]	SETTABLE 	27 -36 28	; "__call" -
	125	[213]	CALL     	25 3 2
	126	[224]	MOVE     	23 25
	127	[225]	SETTABLE 	24 -37 23	; "__class" -
	128	[226]	MOVE     	18 23
	129	[226]	CLOSE    	23
	130	[229]	LOADNIL  	23 23
	131	[230]	NEWTABLE 	24 0 2
	132	[231]	CLOSURE  	25 13	; 0x7fe5c960ac60
	133	[231]	SETTABLE 	24 -44 25	; "prepare" -
	134	[235]	CLOSURE  	25 14	; 0x7fe5c960ad10
	135	[235]	MOVE     	0 10
	136	[235]	SETTABLE 	24 -42 25	; "render" -
	137	[237]	SETTABLE 	24 -30 24	; "__index" -
	138	[238]	GETGLOBAL	25 -31	; setmetatable
	139	[238]	NEWTABLE 	26 0 3
	140	[241]	CLOSURE  	27 15	; 0x7fe5c96070d0
	141	[241]	SETTABLE 	26 -32 27	; "__init" -
	142	[242]	SETTABLE 	26 -33 24	; "__base" -
	143	[243]	SETTABLE 	26 -34 -45	; "__name" "DelayedLine"
	144	[244]	NEWTABLE 	27 0 2
	145	[245]	SETTABLE 	27 -30 24	; "__index" -
	146	[250]	CLOSURE  	28 16	; 0x7fe5c9608800
	147	[250]	MOVE     	0 24
	148	[250]	SETTABLE 	27 -36 28	; "__call" -
	149	[238]	CALL     	25 3 2
	150	[251]	MOVE     	23 25
	151	[252]	SETTABLE 	24 -37 23	; "__class" -
	152	[253]	MOVE     	19 23
	153	[253]	CLOSE    	23
	154	[256]	LOADNIL  	23 23
	155	[257]	NEWTABLE 	24 0 25
	156	[258]	SETTABLE 	24 -46 -47	; "header" "do"
	157	[259]	SETTABLE 	24 -48 -49	; "footer" "end"
	158	[260]	SETTABLE 	24 -50 -51	; "export_all" false
	159	[261]	SETTABLE 	24 -52 -51	; "export_proper" false
	160	[262]	SETTABLE 	24 -53 9	; "value_compilers" -
	161	[263]	SETTABLE 	24 -54 8	; "statement_compilers" -
	162	[272]	CLOSURE  	25 17	; 0x7fe5c9606670
	163	[272]	MOVE     	0 15
	164	[272]	SETTABLE 	24 -29 25	; "__tostring" -
	165	[275]	CLOSURE  	25 18	; 0x7fe5c9606f90
	166	[275]	SETTABLE 	24 -55 25	; "set" -
	167	[278]	CLOSURE  	25 19	; 0x7fe5c9606b60
	168	[278]	SETTABLE 	24 -56 25	; "get" -
	169	[281]	CLOSURE  	25 20	; 0x7fe5c9608b40
	170	[281]	SETTABLE 	24 -57 25	; "get_current" -
	171	[284]	CLOSURE  	25 21	; 0x7fe5c9608be0
	172	[284]	SETTABLE 	24 -58 25	; "listen" -
	173	[287]	CLOSURE  	25 22	; 0x7fe5c96091c0
	174	[287]	SETTABLE 	24 -59 25	; "unlisten" -
	175	[295]	CLOSURE  	25 23	; 0x7fe5c9609810
	176	[295]	SETTABLE 	24 -60 25	; "send" -
	177	[311]	CLOSURE  	25 24	; 0x7fe5c960a9a0
	178	[311]	MOVE     	0 16
	179	[311]	MOVE     	0 4
	180	[311]	MOVE     	0 3
	181	[311]	SETTABLE 	24 -61 25	; "extract_assign_name" -
	182	[343]	CLOSURE  	25 25	; 0x7fe5c960b2e0
	183	[343]	SETTABLE 	24 -62 25	; "declare" -
	184	[346]	CLOSURE  	25 26	; 0x7fe5c960b6d0
	185	[346]	MOVE     	0 5
	186	[346]	SETTABLE 	24 -63 25	; "whitelist_names" -
	187	[354]	CLOSURE  	25 27	; 0x7fe5c960bb90
	188	[354]	SETTABLE 	24 -64 25	; "name_exported" -
	189	[364]	CLOSURE  	25 28	; 0x7fe5c960bf20
	190	[364]	MOVE     	0 3
	191	[364]	MOVE     	0 16
	192	[364]	SETTABLE 	24 -65 25	; "put_name" -
	193	[377]	CLOSURE  	25 29	; 0x7fe5c960c340
	194	[377]	SETTABLE 	24 -66 25	; "has_name" -
	195	[392]	CLOSURE  	25 30	; 0x7fe5c960ca90
	196	[392]	MOVE     	0 16
	197	[392]	MOVE     	0 3
	198	[392]	MOVE     	0 4
	199	[392]	SETTABLE 	24 -67 25	; "is_local" -
	200	[410]	CLOSURE  	25 31	; 0x7fe5c960cc50
	201	[410]	MOVE     	0 10
	202	[410]	SETTABLE 	24 -68 25	; "free_name" -
	203	[423]	CLOSURE  	25 32	; 0x7fe5c960d1b0
	204	[423]	SETTABLE 	24 -69 25	; "init_free_var" -
	205	[433]	CLOSURE  	25 33	; 0x7fe5c960d4d0
	206	[433]	SETTABLE 	24 -26 25	; "add" -
	207	[450]	CLOSURE  	25 34	; 0x7fe5c960b260
	208	[450]	MOVE     	0 15
	209	[450]	MOVE     	0 20
	210	[450]	SETTABLE 	24 -42 25	; "render" -
	211	[453]	CLOSURE  	25 35	; 0x7fe5c960df20
	212	[453]	MOVE     	0 21
	213	[453]	SETTABLE 	24 -70 25	; "block" -
	214	[460]	CLOSURE  	25 36	; 0x7fe5c960dde0
	215	[460]	MOVE     	0 18
	216	[460]	SETTABLE 	24 -71 25	; "line" -
	217	[463]	CLOSURE  	25 37	; 0x7fe5c960e4e0
	218	[463]	MOVE     	0 6
	219	[463]	SETTABLE 	24 -72 25	; "is_stm" -
	220	[467]	CLOSURE  	25 38	; 0x7fe5c960eb10
	221	[467]	MOVE     	0 6
	222	[467]	SETTABLE 	24 -73 25	; "is_value" -
	223	[474]	CLOSURE  	25 39	; 0x7fe5c960ecc0
	224	[474]	SETTABLE 	24 -74 25	; "name" -
	225	[503]	CLOSURE  	25 40	; 0x7fe5c960f130
	226	[503]	MOVE     	0 1
	227	[503]	MOVE     	0 18
	228	[503]	SETTABLE 	24 -75 25	; "value" -
	229	[520]	CLOSURE  	25 41	; 0x7fe5c960f6b0
	230	[520]	MOVE     	0 18
	231	[520]	SETTABLE 	24 -76 25	; "values" -
	232	[554]	CLOSURE  	25 42	; 0x7fe5c960fff0
	233	[554]	MOVE     	0 6
	234	[554]	MOVE     	0 7
	235	[554]	SETTABLE 	24 -77 25	; "stm" -
	236	[569]	CLOSURE  	25 43	; 0x7fe5c9610550
	237	[569]	SETTABLE 	24 -78 25	; "stms" -
	238	[577]	CLOSURE  	25 44	; 0x7fe5c94049f0
	239	[577]	MOVE     	0 20
	240	[577]	SETTABLE 	24 -79 25	; "splice" -
	241	[579]	SETTABLE 	24 -30 24	; "__index" -
	242	[580]	GETGLOBAL	25 -31	; setmetatable
	243	[580]	NEWTABLE 	26 0 3
	244	[605]	CLOSURE  	27 45	; 0x7fe5c9404d00
	245	[605]	MOVE     	0 20
	246	[605]	MOVE     	0 2
	247	[605]	SETTABLE 	26 -32 27	; "__init" -
	248	[606]	SETTABLE 	26 -33 24	; "__base" -
	249	[607]	SETTABLE 	26 -34 -80	; "__name" "Block"
	250	[608]	NEWTABLE 	27 0 2
	251	[609]	SETTABLE 	27 -30 24	; "__index" -
	252	[614]	CLOSURE  	28 46	; 0x7fe5c9405200
	253	[614]	MOVE     	0 24
	254	[614]	SETTABLE 	27 -36 28	; "__call" -
	255	[580]	CALL     	25 3 2
	256	[615]	MOVE     	23 25
	257	[616]	SETTABLE 	24 -37 23	; "__class" -
	258	[617]	MOVE     	21 23
	259	[617]	CLOSE    	23
	260	[620]	LOADNIL  	23 23
	261	[621]	MOVE     	24 21
	262	[622]	NEWTABLE 	25 0 3
	263	[625]	CLOSURE  	26 47	; 0x7fe5c9405870
	264	[625]	SETTABLE 	25 -29 26	; "__tostring" -
	265	[631]	CLOSURE  	26 48	; 0x7fe5c9405180
	266	[631]	MOVE     	0 2
	267	[631]	SETTABLE 	25 -81 26	; "root_stms" -
	268	[638]	CLOSURE  	26 49	; 0x7fe5c94061b0
	269	[638]	SETTABLE 	25 -42 26	; "render" -
	270	[640]	SETTABLE 	25 -30 25	; "__index" -
	271	[641]	GETGLOBAL	26 -31	; setmetatable
	272	[641]	MOVE     	27 25
	273	[641]	GETTABLE 	28 24 -33	; "__base"
	274	[641]	CALL     	26 3 1
	275	[642]	GETGLOBAL	26 -31	; setmetatable
	276	[642]	NEWTABLE 	27 0 4
	277	[647]	CLOSURE  	28 50	; 0x7fe5c9406350
	278	[647]	MOVE     	0 23
	279	[647]	SETTABLE 	27 -32 28	; "__init" -
	280	[648]	SETTABLE 	27 -33 25	; "__base" -
	281	[649]	SETTABLE 	27 -34 -82	; "__name" "RootBlock"
	282	[650]	SETTABLE 	27 -83 24	; "__parent" -
	283	[651]	NEWTABLE 	28 0 2
	284	[662]	CLOSURE  	29 51	; 0x7fe5c9406940
	285	[662]	MOVE     	0 25
	286	[662]	SETTABLE 	28 -30 29	; "__index" -
	287	[667]	CLOSURE  	29 52	; 0x7fe5c9406eb0
	288	[667]	MOVE     	0 25
	289	[667]	SETTABLE 	28 -36 29	; "__call" -
	290	[642]	CALL     	26 3 2
	291	[668]	MOVE     	23 26
	292	[669]	SETTABLE 	25 -37 23	; "__class" -
	293	[670]	GETTABLE 	26 24 -84	; "__inherited"
	294	[670]	TEST     	26 0 0
	295	[670]	JMP      	4	; to 300
	296	[671]	GETTABLE 	26 24 -84	; "__inherited"
	297	[671]	MOVE     	27 24
	298	[671]	MOVE     	28 23
	299	[671]	CALL     	26 3 1
	300	[673]	MOVE     	22 23
	301	[673]	CLOSE    	23
	302	[675]	LOADNIL  	23 23
	303	[689]	CLOSURE  	23 53	; 0x7fe5c9406fe0
	304	[689]	MOVE     	0 12
	305	[689]	MOVE     	0 13
	306	[689]	MOVE     	0 14
	307	[689]	MOVE     	0 10
	308	[690]	LOADNIL  	24 24
	309	[699]	CLOSURE  	24 54	; 0x7fe5c9407530
	310	[699]	MOVE     	0 22
	311	[700]	LOADNIL  	25 25
	312	[731]	CLOSURE  	25 55	; 0x7fe5c9407930
	313	[731]	MOVE     	0 22
	314	[731]	MOVE     	0 15
	315	[731]	MOVE     	0 0
	316	[731]	MOVE     	0 10
	317	[733]	GETGLOBAL	26 -1	; require
	318	[733]	LOADK    	27 -8	; "moonscript.data"
	319	[733]	CALL     	26 2 2
	320	[734]	GETGLOBAL	27 -85	; pairs
	321	[734]	NEWTABLE 	28 0 3
	322	[735]	SETTABLE 	28 -43 18	; "Line" -
	323	[736]	SETTABLE 	28 -35 20	; "Lines" -
	324	[737]	SETTABLE 	28 -45 19	; "DelayedLine" -
	325	[734]	CALL     	27 2 4
	326	[738]	JMP      	1	; to 328
	327	[739]	SETTABLE 	26 30 31
	328	[734]	TFORLOOP 	27 2
	329	[739]	JMP      	-3	; to 327
	330	[742]	NEWTABLE 	26 0 5
	331	[743]	SETTABLE 	26 -86 25	; "tree" -
	332	[744]	SETTABLE 	26 -75 24	; "value" -
	333	[745]	SETTABLE 	26 -87 23	; "format_error" -
	334	[746]	SETTABLE 	26 -80 21	; "Block" -
	335	[747]	SETTABLE 	26 -82 22	; "RootBlock" -
	336	[748]	RETURN   	26 2
	337	[748]	RETURN   	0 1

function <./moonscript/compile.lua:31,38> (10 instructions, 40 bytes at 0x7fe5c9606780)
3 params, 4 slots, 0 upvalues, 3 locals, 2 constants, 0 functions
	1	[32]	EQ       	0 2 -1	; - nil
	2	[32]	JMP      	1	; to 4
	3	[33]	LEN      	2 0
	4	[35]	GETTABLE 	3 0 -2	; "posmap"
	5	[35]	GETTABLE 	3 3 2
	6	[35]	TEST     	3 0 1
	7	[35]	JMP      	2	; to 10
	8	[36]	GETTABLE 	3 0 -2	; "posmap"
	9	[36]	SETTABLE 	3 2 1
	10	[38]	RETURN   	0 1

function <./moonscript/compile.lua:39,49> (22 instructions, 88 bytes at 0x7fe5c9606ea0)
2 params, 6 slots, 3 upvalues, 3 locals, 2 constants, 0 functions
	1	[40]	GETUPVAL 	2 0	; mtype
	2	[40]	MOVE     	3 1
	3	[40]	CALL     	2 2 2
	4	[41]	GETUPVAL 	3 1	; Line
	5	[41]	EQ       	0 3 2
	6	[41]	JMP      	4	; to 11
	7	[42]	SELF     	3 1 -1	; "render"
	8	[42]	MOVE     	5 0
	9	[42]	CALL     	3 3 1
	10	[42]	JMP      	10	; to 21
	11	[43]	GETUPVAL 	3 2	; Block
	12	[43]	EQ       	0 3 2
	13	[43]	JMP      	4	; to 18
	14	[44]	SELF     	3 1 -1	; "render"
	15	[44]	MOVE     	5 0
	16	[44]	CALL     	3 3 1
	17	[44]	JMP      	3	; to 21
	18	[46]	LEN      	3 0
	19	[46]	ADD      	3 3 -2	; - 1
	20	[46]	SETTABLE 	0 3 1
	21	[48]	RETURN   	0 2
	22	[49]	RETURN   	0 1

function <./moonscript/compile.lua:50,75> (57 instructions, 228 bytes at 0x7fe5c9607770)
3 params, 16 slots, 3 upvalues, 15 locals, 12 constants, 0 functions
	1	[51]	EQ       	0 1 -1	; - nil
	2	[51]	JMP      	1	; to 4
	3	[52]	LOADK    	1 -2	; 0
	4	[54]	EQ       	0 2 -1	; - nil
	5	[54]	JMP      	2	; to 8
	6	[55]	NEWTABLE 	3 0 0
	7	[55]	MOVE     	2 3
	8	[57]	GETTABLE 	3 0 -3	; "posmap"
	9	[58]	GETGLOBAL	4 -4	; ipairs
	10	[58]	MOVE     	5 0
	11	[58]	CALL     	4 2 4
	12	[58]	JMP      	39	; to 52
	13	[59]	GETUPVAL 	9 0	; mtype
	14	[59]	MOVE     	10 8
	15	[59]	CALL     	9 2 2
	16	[60]	EQ       	1 -5 9	; "string" -
	17	[60]	JMP      	3	; to 21
	18	[60]	GETUPVAL 	10 1	; DelayedLine
	19	[60]	EQ       	0 10 9
	20	[60]	JMP      	13	; to 34
	21	[61]	ADD      	1 1 -6	; - 1
	22	[62]	GETTABLE 	10 3 7
	23	[62]	SETTABLE 	2 1 10
	24	[63]	SELF     	10 8 -7	; "gmatch"
	25	[63]	LOADK    	12 -8	; "\n"
	26	[63]	CALL     	10 3 4
	27	[63]	JMP      	1	; to 29
	28	[64]	ADD      	1 1 -6	; - 1
	29	[63]	TFORLOOP 	10 1
	30	[64]	JMP      	-3	; to 28
	31	[66]	GETTABLE 	10 3 7
	32	[66]	SETTABLE 	2 1 10
	33	[66]	JMP      	18	; to 52
	34	[67]	GETUPVAL 	10 2	; Lines
	35	[67]	EQ       	0 10 9
	36	[67]	JMP      	8	; to 45
	37	[68]	LOADNIL  	10 10
	38	[69]	SELF     	11 8 -9	; "flatten_posmap"
	39	[69]	MOVE     	13 1
	40	[69]	MOVE     	14 2
	41	[69]	CALL     	11 4 3
	42	[69]	MOVE     	1 12
	43	[69]	MOVE     	10 11
	44	[69]	JMP      	7	; to 52
	45	[71]	GETGLOBAL	10 -10	; error
	46	[71]	LOADK    	11 -11	; "Unknown item in Lines: "
	47	[71]	GETGLOBAL	12 -12	; tostring
	48	[71]	MOVE     	13 8
	49	[71]	CALL     	12 2 2
	50	[71]	CONCAT   	11 11 12
	51	[71]	CALL     	10 2 1
	52	[58]	TFORLOOP 	4 2
	53	[72]	JMP      	-41	; to 13
	54	[74]	MOVE     	4 2
	55	[74]	MOVE     	5 1
	56	[74]	RETURN   	4 3
	57	[75]	RETURN   	0 1

function <./moonscript/compile.lua:76,110> (90 instructions, 360 bytes at 0x7fe5c9607ae0)
3 params, 15 slots, 5 upvalues, 11 locals, 16 constants, 0 functions
	1	[77]	EQ       	0 1 -1	; - nil
	2	[77]	JMP      	1	; to 4
	3	[78]	LOADNIL  	1 1
	4	[80]	EQ       	0 2 -1	; - nil
	5	[80]	JMP      	2	; to 8
	6	[81]	NEWTABLE 	3 0 0
	7	[81]	MOVE     	2 3
	8	[83]	LOADK    	3 -2	; 1
	9	[83]	LEN      	4 0
	10	[83]	LOADK    	5 -2	; 1
	11	[83]	FORPREP  	3 76	; to 88
	12	[84]	GETTABLE 	7 0 6
	13	[85]	GETUPVAL 	8 0	; mtype
	14	[85]	MOVE     	9 7
	15	[85]	CALL     	8 2 2
	16	[86]	GETUPVAL 	9 1	; DelayedLine
	17	[86]	EQ       	0 8 9
	18	[86]	JMP      	4	; to 23
	19	[87]	SELF     	9 7 -3	; "render"
	20	[87]	CALL     	9 2 2
	21	[87]	MOVE     	7 9
	22	[88]	LOADK    	8 -4	; "string"
	23	[90]	MOVE     	9 8
	24	[91]	EQ       	0 -4 9	; "string" -
	25	[91]	JMP      	40	; to 66
	26	[92]	TEST     	1 0 0
	27	[92]	JMP      	4	; to 32
	28	[93]	GETUPVAL 	10 2	; insert
	29	[93]	MOVE     	11 2
	30	[93]	MOVE     	12 1
	31	[93]	CALL     	10 3 1
	32	[95]	GETUPVAL 	10 2	; insert
	33	[95]	MOVE     	11 2
	34	[95]	MOVE     	12 7
	35	[95]	CALL     	10 3 1
	36	[96]	GETGLOBAL	10 -5	; type
	37	[96]	ADD      	11 6 -2	; - 1
	38	[96]	GETTABLE 	11 0 11
	39	[96]	CALL     	10 2 2
	40	[96]	EQ       	0 -4 10	; "string" -
	41	[96]	JMP      	19	; to 61
	42	[97]	SELF     	10 7 -6	; "sub"
	43	[97]	LOADK    	12 -7	; -1
	44	[97]	CALL     	10 3 2
	45	[98]	EQ       	1 10 -8	; - ")"
	46	[98]	JMP      	2	; to 49
	47	[98]	EQ       	0 10 -9	; - "]"
	48	[98]	JMP      	12	; to 61
	49	[98]	ADD      	11 6 -2	; - 1
	50	[98]	GETTABLE 	11 0 11
	51	[98]	SELF     	11 11 -6	; "sub"
	52	[98]	LOADK    	13 -2	; 1
	53	[98]	LOADK    	14 -2	; 1
	54	[98]	CALL     	11 4 2
	55	[98]	EQ       	0 11 -10	; - "("
	56	[98]	JMP      	4	; to 61
	57	[99]	GETUPVAL 	11 2	; insert
	58	[99]	MOVE     	12 2
	59	[99]	LOADK    	13 -11	; ";"
	60	[99]	CALL     	11 3 1
	61	[102]	GETUPVAL 	10 2	; insert
	62	[102]	MOVE     	11 2
	63	[102]	LOADK    	12 -12	; "\n"
	64	[102]	CALL     	10 3 1
	65	[102]	JMP      	22	; to 88
	66	[103]	GETUPVAL 	10 3	; Lines
	67	[103]	EQ       	0 10 9
	68	[103]	JMP      	12	; to 81
	69	[104]	SELF     	10 7 -13	; "flatten"
	70	[104]	TEST     	1 0 0
	71	[104]	JMP      	5	; to 77
	72	[104]	MOVE     	12 1
	73	[104]	GETUPVAL 	13 4	; indent_char
	74	[104]	CONCAT   	12 12 13
	75	[104]	TEST     	12 0 1
	76	[104]	JMP      	1	; to 78
	77	[104]	GETUPVAL 	12 4	; indent_char
	78	[104]	MOVE     	13 2
	79	[104]	CALL     	10 4 1
	80	[104]	JMP      	7	; to 88
	81	[106]	GETGLOBAL	10 -14	; error
	82	[106]	LOADK    	11 -15	; "Unknown item in Lines: "
	83	[106]	GETGLOBAL	12 -16	; tostring
	84	[106]	MOVE     	13 7
	85	[106]	CALL     	12 2 2
	86	[106]	CONCAT   	11 11 12
	87	[106]	CALL     	10 2 1
	88	[83]	FORLOOP  	3 -77	; to 12
	89	[109]	RETURN   	2 2
	90	[110]	RETURN   	0 1

function <./moonscript/compile.lua:111,128> (19 instructions, 76 bytes at 0x7fe5c9608020)
1 param, 8 slots, 1 upvalue, 2 locals, 7 constants, 1 function
	1	[126]	CLOSURE  	1 0	; 0x7fe5c9607190
	2	[126]	MOVE     	0 1
	3	[127]	LOADK    	2 -1	; "Lines<"
	4	[127]	GETGLOBAL	3 -2	; tostring
	5	[127]	GETUPVAL 	4 0	; util
	6	[127]	GETTABLE 	4 4 -3	; "dump"
	7	[127]	MOVE     	5 1
	8	[127]	MOVE     	6 0
	9	[127]	CALL     	5 2 0
	10	[127]	CALL     	4 0 2
	11	[127]	SELF     	4 4 -4	; "sub"
	12	[127]	LOADK    	6 -5	; 1
	13	[127]	LOADK    	7 -6	; -2
	14	[127]	CALL     	4 4 0
	15	[127]	CALL     	3 0 2
	16	[127]	LOADK    	4 -7	; ">"
	17	[127]	CONCAT   	2 2 4
	18	[127]	RETURN   	2 2
	19	[128]	RETURN   	0 1

function <./moonscript/compile.lua:113,126> (22 instructions, 88 bytes at 0x7fe5c9607190)
1 param, 10 slots, 1 upvalue, 8 locals, 3 constants, 0 functions
	1	[114]	GETGLOBAL	1 -2	; type
	2	[114]	MOVE     	2 0
	3	[114]	CALL     	1 2 2
	4	[114]	EQ       	0 -1 1	; "table" -
	5	[114]	JMP      	15	; to 21
	6	[115]	NEWTABLE 	1 0 0
	7	[116]	LOADK    	2 -3	; 1
	8	[117]	LOADK    	3 -3	; 1
	9	[117]	LEN      	4 0
	10	[117]	LOADK    	5 -3	; 1
	11	[117]	FORPREP  	3 6	; to 18
	12	[118]	GETTABLE 	7 0 6
	13	[119]	GETUPVAL 	8 0	; strip
	14	[119]	MOVE     	9 7
	15	[119]	CALL     	8 2 2
	16	[119]	SETTABLE 	1 2 8
	17	[120]	ADD      	2 2 -3	; - 1
	18	[117]	FORLOOP  	3 -7	; to 12
	19	[122]	RETURN   	1 2
	20	[122]	JMP      	1	; to 22
	21	[124]	RETURN   	0 2
	22	[126]	RETURN   	0 1

function <./moonscript/compile.lua:132,134> (3 instructions, 12 bytes at 0x7fe5c9608900)
1 param, 2 slots, 0 upvalues, 1 local, 1 constant, 0 functions
	1	[133]	NEWTABLE 	1 0 0
	2	[133]	SETTABLE 	0 -1 1	; "posmap" -
	3	[134]	RETURN   	0 1

function <./moonscript/compile.lua:139,143> (10 instructions, 40 bytes at 0x7fe5c9605d60)
1+ param, 6 slots, 1 upvalue, 3 locals, 2 constants, 0 functions
	1	[140]	GETGLOBAL	2 -1	; setmetatable
	2	[140]	NEWTABLE 	3 0 0
	3	[140]	GETUPVAL 	4 0	; _base_0
	4	[140]	CALL     	2 3 2
	5	[141]	GETTABLE 	3 0 -2	; "__init"
	6	[141]	MOVE     	4 2
	7	[141]	VARARG   	5 0
	8	[141]	CALL     	3 0 1
	9	[142]	RETURN   	2 2
	10	[143]	RETURN   	0 1

function <./moonscript/compile.lua:152,160> (18 instructions, 72 bytes at 0x7fe5c9608eb0)
3 params, 10 slots, 1 upvalue, 7 locals, 2 constants, 0 functions
	1	[153]	LOADK    	3 -1	; 1
	2	[153]	LEN      	4 1
	3	[153]	LOADK    	5 -1	; 1
	4	[153]	FORPREP  	3 10	; to 15
	5	[154]	SELF     	7 0 -2	; "append"
	6	[154]	GETTABLE 	9 1 6
	7	[154]	CALL     	7 3 1
	8	[155]	LEN      	7 1
	9	[155]	LT       	0 6 7
	10	[155]	JMP      	4	; to 15
	11	[156]	GETUPVAL 	7 0	; insert
	12	[156]	MOVE     	8 0
	13	[156]	MOVE     	9 2
	14	[156]	CALL     	7 3 1
	15	[153]	FORLOOP  	3 -11	; to 5
	16	[159]	LOADNIL  	3 3
	17	[159]	RETURN   	3 2
	18	[160]	RETURN   	0 1

function <./moonscript/compile.lua:161,176> (33 instructions, 132 bytes at 0x7fe5c9609360)
2+ params, 11 slots, 3 upvalues, 8 locals, 3 constants, 0 functions
	1	[162]	GETUPVAL 	3 0	; Line
	2	[162]	GETUPVAL 	4 1	; mtype
	3	[162]	MOVE     	5 1
	4	[162]	CALL     	4 2 2
	5	[162]	EQ       	0 3 4
	6	[162]	JMP      	15	; to 22
	7	[163]	GETTABLE 	3 0 -1	; "pos"
	8	[163]	TEST     	3 0 1
	9	[163]	JMP      	2	; to 12
	10	[164]	GETTABLE 	3 1 -1	; "pos"
	11	[164]	SETTABLE 	0 -1 3	; "pos" -
	12	[166]	LOADK    	3 -2	; 1
	13	[166]	LEN      	4 1
	14	[166]	LOADK    	5 -2	; 1
	15	[166]	FORPREP  	3 4	; to 20
	16	[167]	GETTABLE 	7 1 6
	17	[168]	SELF     	8 0 -3	; "append"
	18	[168]	MOVE     	10 7
	19	[168]	CALL     	8 3 1
	20	[166]	FORLOOP  	3 -5	; to 16
	21	[169]	JMP      	4	; to 26
	22	[171]	GETUPVAL 	3 2	; insert
	23	[171]	MOVE     	4 0
	24	[171]	MOVE     	5 1
	25	[171]	CALL     	3 3 1
	26	[173]	VARARG   	3 2
	27	[173]	TEST     	3 0 0
	28	[173]	JMP      	4	; to 33
	29	[174]	SELF     	3 0 -3	; "append"
	30	[174]	VARARG   	5 0
	31	[174]	TAILCALL 	3 0 0
	32	[174]	RETURN   	3 0
	33	[176]	RETURN   	0 1

function <./moonscript/compile.lua:177,207> (58 instructions, 232 bytes at 0x7fe5c9609420)
2 params, 19 slots, 5 upvalues, 16 locals, 5 constants, 1 function
	1	[178]	NEWTABLE 	2 0 0
	2	[179]	LOADNIL  	3 3
	3	[183]	CLOSURE  	3 0	; 0x7fe5c9609e30
	4	[183]	MOVE     	0 1
	5	[183]	GETUPVAL 	0 0	; concat
	6	[183]	MOVE     	0 2
	7	[183]	MOVE     	0 0
	8	[184]	LOADK    	4 -1	; 1
	9	[184]	LEN      	5 0
	10	[184]	LOADK    	6 -1	; 1
	11	[184]	FORPREP  	4 39	; to 51
	12	[185]	GETTABLE 	8 0 7
	13	[186]	GETUPVAL 	9 1	; mtype
	14	[186]	MOVE     	10 8
	15	[186]	CALL     	9 2 2
	16	[187]	GETUPVAL 	10 2	; Block
	17	[187]	EQ       	0 10 9
	18	[187]	JMP      	28	; to 47
	19	[188]	SELF     	10 8 -2	; "render"
	20	[188]	GETUPVAL 	12 3	; Lines
	21	[188]	CALL     	12 1 0
	22	[188]	CALL     	10 0 2
	23	[189]	LOADK    	11 -1	; 1
	24	[189]	LEN      	12 10
	25	[189]	LOADK    	13 -1	; 1
	26	[189]	FORPREP  	11 18	; to 45
	27	[190]	GETTABLE 	15 10 14
	28	[191]	GETGLOBAL	16 -4	; type
	29	[191]	MOVE     	17 15
	30	[191]	CALL     	16 2 2
	31	[191]	EQ       	0 -3 16	; "string" -
	32	[191]	JMP      	5	; to 38
	33	[192]	GETUPVAL 	16 4	; insert
	34	[192]	MOVE     	17 2
	35	[192]	MOVE     	18 15
	36	[192]	CALL     	16 3 1
	37	[192]	JMP      	7	; to 45
	38	[194]	MOVE     	16 3
	39	[194]	CALL     	16 1 1
	40	[195]	SELF     	16 1 -5	; "add"
	41	[195]	MOVE     	18 15
	42	[195]	CALL     	16 3 1
	43	[196]	NEWTABLE 	16 0 0
	44	[196]	MOVE     	2 16
	45	[189]	FORLOOP  	11 -19	; to 27
	46	[198]	JMP      	4	; to 51
	47	[200]	GETUPVAL 	10 4	; insert
	48	[200]	MOVE     	11 2
	49	[200]	MOVE     	12 8
	50	[200]	CALL     	10 3 1
	51	[184]	FORLOOP  	4 -40	; to 12
	52	[203]	GETTABLE 	4 2 -1	; 1
	53	[203]	TEST     	4 0 0
	54	[203]	JMP      	2	; to 57
	55	[204]	MOVE     	4 3
	56	[204]	CALL     	4 1 1
	57	[206]	RETURN   	1 2
	58	[207]	RETURN   	0 1

function <./moonscript/compile.lua:180,183> (13 instructions, 52 bytes at 0x7fe5c9609e30)
0 params, 4 slots, 4 upvalues, 0 locals, 3 constants, 0 functions
	1	[181]	GETUPVAL 	0 0	; buffer
	2	[181]	SELF     	0 0 -1	; "add"
	3	[181]	GETUPVAL 	2 1	; concat
	4	[181]	GETUPVAL 	3 2	; current
	5	[181]	CALL     	2 2 0
	6	[181]	CALL     	0 0 1
	7	[182]	GETUPVAL 	0 0	; buffer
	8	[182]	SELF     	0 0 -2	; "mark_pos"
	9	[182]	GETUPVAL 	2 3	; self
	10	[182]	GETTABLE 	2 2 -3	; "pos"
	11	[182]	TAILCALL 	0 3 0
	12	[182]	RETURN   	0 0
	13	[183]	RETURN   	0 1

function <./moonscript/compile.lua:208,210> (15 instructions, 60 bytes at 0x7fe5c960a520)
1 param, 7 slots, 1 upvalue, 1 local, 7 constants, 0 functions
	1	[209]	LOADK    	1 -1	; "Line<"
	2	[209]	GETGLOBAL	2 -2	; tostring
	3	[209]	GETUPVAL 	3 0	; util
	4	[209]	GETTABLE 	3 3 -3	; "dump"
	5	[209]	MOVE     	4 0
	6	[209]	CALL     	3 2 2
	7	[209]	SELF     	3 3 -4	; "sub"
	8	[209]	LOADK    	5 -5	; 1
	9	[209]	LOADK    	6 -6	; -2
	10	[209]	CALL     	3 4 0
	11	[209]	CALL     	2 0 2
	12	[209]	LOADK    	3 -7	; ">"
	13	[209]	CONCAT   	1 1 3
	14	[209]	RETURN   	1 2
	15	[210]	RETURN   	0 1

function <./moonscript/compile.lua:214,214> (1 instruction, 4 bytes at 0x7fe5c960a730)
0 params, 2 slots, 0 upvalues, 0 locals, 0 constants, 0 functions
	1	[214]	RETURN   	0 1

function <./moonscript/compile.lua:219,223> (10 instructions, 40 bytes at 0x7fe5c960a7f0)
1+ param, 6 slots, 1 upvalue, 3 locals, 2 constants, 0 functions
	1	[220]	GETGLOBAL	2 -1	; setmetatable
	2	[220]	NEWTABLE 	3 0 0
	3	[220]	GETUPVAL 	4 0	; _base_0
	4	[220]	CALL     	2 3 2
	5	[221]	GETTABLE 	3 0 -2	; "__init"
	6	[221]	MOVE     	4 2
	7	[221]	VARARG   	5 0
	8	[221]	CALL     	3 0 1
	9	[222]	RETURN   	2 2
	10	[223]	RETURN   	0 1

function <./moonscript/compile.lua:231,231> (1 instruction, 4 bytes at 0x7fe5c960ac60)
0 params, 2 slots, 0 upvalues, 0 locals, 0 constants, 0 functions
	1	[231]	RETURN   	0 1

function <./moonscript/compile.lua:232,235> (7 instructions, 28 bytes at 0x7fe5c960ad10)
1 param, 3 slots, 1 upvalue, 1 local, 1 constant, 0 functions
	1	[233]	SELF     	1 0 -1	; "prepare"
	2	[233]	CALL     	1 2 1
	3	[234]	GETUPVAL 	1 0	; concat
	4	[234]	MOVE     	2 0
	5	[234]	TAILCALL 	1 2 0
	6	[234]	RETURN   	1 0
	7	[235]	RETURN   	0 1

function <./moonscript/compile.lua:239,241> (2 instructions, 8 bytes at 0x7fe5c96070d0)
2 params, 2 slots, 0 upvalues, 2 locals, 1 constant, 0 functions
	1	[240]	SETTABLE 	0 -1 1	; "prepare" -
	2	[241]	RETURN   	0 1

function <./moonscript/compile.lua:246,250> (10 instructions, 40 bytes at 0x7fe5c9608800)
1+ param, 6 slots, 1 upvalue, 3 locals, 2 constants, 0 functions
	1	[247]	GETGLOBAL	2 -1	; setmetatable
	2	[247]	NEWTABLE 	3 0 0
	3	[247]	GETUPVAL 	4 0	; _base_0
	4	[247]	CALL     	2 3 2
	5	[248]	GETTABLE 	3 0 -2	; "__init"
	6	[248]	MOVE     	4 2
	7	[248]	VARARG   	5 0
	8	[248]	CALL     	3 0 1
	9	[249]	RETURN   	2 2
	10	[250]	RETURN   	0 1

function <./moonscript/compile.lua:264,272> (25 instructions, 100 bytes at 0x7fe5c9606670)
1 param, 7 slots, 1 upvalue, 2 locals, 8 constants, 0 functions
	1	[266]	GETGLOBAL	2 -2	; type
	2	[266]	GETTABLE 	3 0 -3	; "header"
	3	[266]	CALL     	2 2 2
	4	[266]	EQ       	0 -1 2	; "string" -
	5	[266]	JMP      	2	; to 8
	6	[267]	GETTABLE 	1 0 -3	; "header"
	7	[267]	JMP      	7	; to 15
	8	[269]	GETUPVAL 	2 0	; unpack
	9	[269]	GETTABLE 	3 0 -3	; "header"
	10	[269]	SELF     	3 3 -4	; "render"
	11	[269]	NEWTABLE 	5 0 0
	12	[269]	CALL     	3 3 0
	13	[269]	CALL     	2 0 2
	14	[269]	MOVE     	1 2
	15	[271]	LOADK    	2 -5	; "Block<"
	16	[271]	GETGLOBAL	3 -6	; tostring
	17	[271]	MOVE     	4 1
	18	[271]	CALL     	3 2 2
	19	[271]	LOADK    	4 -7	; "> <- "
	20	[271]	GETGLOBAL	5 -6	; tostring
	21	[271]	GETTABLE 	6 0 -8	; "parent"
	22	[271]	CALL     	5 2 2
	23	[271]	CONCAT   	2 2 5
	24	[271]	RETURN   	2 2
	25	[272]	RETURN   	0 1

function <./moonscript/compile.lua:273,275> (3 instructions, 12 bytes at 0x7fe5c9606f90)
3 params, 4 slots, 0 upvalues, 3 locals, 1 constant, 0 functions
	1	[274]	GETTABLE 	3 0 -1	; "_state"
	2	[274]	SETTABLE 	3 1 2
	3	[275]	RETURN   	0 1

function <./moonscript/compile.lua:276,278> (4 instructions, 16 bytes at 0x7fe5c9606b60)
2 params, 3 slots, 0 upvalues, 2 locals, 1 constant, 0 functions
	1	[277]	GETTABLE 	2 0 -1	; "_state"
	2	[277]	GETTABLE 	2 2 1
	3	[277]	RETURN   	2 2
	4	[278]	RETURN   	0 1

function <./moonscript/compile.lua:279,281> (6 instructions, 24 bytes at 0x7fe5c9608b40)
2 params, 5 slots, 0 upvalues, 2 locals, 2 constants, 0 functions
	1	[280]	GETGLOBAL	2 -1	; rawget
	2	[280]	GETTABLE 	3 0 -2	; "_state"
	3	[280]	MOVE     	4 1
	4	[280]	TAILCALL 	2 3 0
	5	[280]	RETURN   	2 0
	6	[281]	RETURN   	0 1

function <./moonscript/compile.lua:282,284> (3 instructions, 12 bytes at 0x7fe5c9608be0)
3 params, 4 slots, 0 upvalues, 3 locals, 1 constant, 0 functions
	1	[283]	GETTABLE 	3 0 -1	; "_listeners"
	2	[283]	SETTABLE 	3 1 2
	3	[284]	RETURN   	0 1

function <./moonscript/compile.lua:285,287> (3 instructions, 12 bytes at 0x7fe5c96091c0)
2 params, 3 slots, 0 upvalues, 2 locals, 2 constants, 0 functions
	1	[286]	GETTABLE 	2 0 -1	; "_listeners"
	2	[286]	SETTABLE 	2 1 -2	; - nil
	3	[287]	RETURN   	0 1

function <./moonscript/compile.lua:288,295> (10 instructions, 40 bytes at 0x7fe5c9609810)
2+ params, 7 slots, 0 upvalues, 4 locals, 1 constant, 0 functions
	1	[290]	GETTABLE 	3 0 -1	; "_listeners"
	2	[290]	GETTABLE 	3 3 1
	3	[291]	TEST     	3 0 0
	4	[291]	JMP      	5	; to 10
	5	[292]	MOVE     	4 3
	6	[292]	MOVE     	5 0
	7	[292]	VARARG   	6 0
	8	[292]	TAILCALL 	4 0 0
	9	[292]	RETURN   	4 0
	10	[295]	RETURN   	0 1

function <./moonscript/compile.lua:296,311> (39 instructions, 156 bytes at 0x7fe5c960a9a0)
2 params, 8 slots, 3 upvalues, 5 locals, 6 constants, 0 functions
	1	[297]	LOADBOOL 	2 0 0
	2	[298]	LOADNIL  	3 3
	3	[299]	GETUPVAL 	4 0	; mtype
	4	[299]	MOVE     	5 1
	5	[299]	CALL     	4 2 2
	6	[300]	GETUPVAL 	5 1	; LocalName
	7	[300]	EQ       	0 5 4
	8	[300]	JMP      	6	; to 15
	9	[301]	LOADBOOL 	2 1 0
	10	[302]	SELF     	5 1 -1	; "get_name"
	11	[302]	MOVE     	7 0
	12	[302]	CALL     	5 3 2
	13	[302]	MOVE     	3 5
	14	[302]	JMP      	21	; to 36
	15	[303]	GETUPVAL 	5 2	; NameProxy
	16	[303]	EQ       	0 5 4
	17	[303]	JMP      	5	; to 23
	18	[304]	SELF     	5 1 -1	; "get_name"
	19	[304]	MOVE     	7 0
	20	[304]	CALL     	5 3 2
	21	[304]	MOVE     	3 5
	22	[304]	JMP      	13	; to 36
	23	[305]	EQ       	0 -2 4	; "table" -
	24	[305]	JMP      	8	; to 33
	25	[306]	GETTABLE 	5 1 -3	; 1
	26	[306]	EQ       	0 5 -4	; - "ref"
	27	[306]	JMP      	2	; to 30
	28	[306]	GETTABLE 	3 1 -5	; 2
	29	[306]	JMP      	6	; to 36
	30	[306]	LOADBOOL 	3 0 1
	31	[306]	LOADBOOL 	3 1 0
	32	[306]	JMP      	3	; to 36
	33	[307]	EQ       	0 -6 4	; "string" -
	34	[307]	JMP      	1	; to 36
	35	[308]	MOVE     	3 1
	36	[310]	MOVE     	5 3
	37	[310]	MOVE     	6 2
	38	[310]	RETURN   	5 3
	39	[311]	RETURN   	0 1

function <./moonscript/compile.lua:312,343> (45 instructions, 180 bytes at 0x7fe5c960b2e0)
2 params, 17 slots, 0 upvalues, 14 locals, 5 constants, 0 functions
	1	[315]	NEWTABLE 	3 0 0
	2	[316]	LOADK    	4 -1	; 1
	3	[317]	LOADK    	5 -1	; 1
	4	[317]	LEN      	6 1
	5	[317]	LOADK    	7 -1	; 1
	6	[317]	FORPREP  	5 35	; to 42
	7	[318]	LOADBOOL 	9 0 0
	8	[320]	GETTABLE 	10 1 8
	9	[321]	SELF     	11 0 -2	; "extract_assign_name"
	10	[321]	MOVE     	13 10
	11	[321]	CALL     	11 3 3
	12	[322]	TEST     	12 0 1
	13	[322]	JMP      	11	; to 25
	14	[322]	TEST     	11 0 0
	15	[322]	JMP      	7	; to 23
	16	[322]	SELF     	13 0 -3	; "has_name"
	17	[322]	MOVE     	15 11
	18	[322]	LOADBOOL 	16 1 0
	19	[322]	CALL     	13 4 2
	20	[322]	NOT      	13 13
	21	[322]	TEST     	13 0 1
	22	[322]	JMP      	2	; to 25
	23	[323]	LOADBOOL 	9 1 0
	24	[324]	JMP      	14	; to 39
	25	[326]	SELF     	13 0 -4	; "put_name"
	26	[326]	MOVE     	15 11
	27	[326]	CALL     	13 3 1
	28	[327]	SELF     	13 0 -5	; "name_exported"
	29	[327]	MOVE     	15 11
	30	[327]	CALL     	13 3 2
	31	[327]	TEST     	13 0 0
	32	[327]	JMP      	2	; to 35
	33	[328]	LOADBOOL 	9 1 0
	34	[329]	JMP      	4	; to 39
	35	[331]	MOVE     	13 11
	36	[332]	SETTABLE 	3 4 13
	37	[333]	ADD      	4 4 -1	; - 1
	38	[334]	LOADBOOL 	9 1 0
	39	[336]	TEST     	9 0 1
	40	[336]	JMP      	1	; to 42
	41	[337]	JMP      	1	; to 43
	42	[317]	FORLOOP  	5 -36	; to 7
	43	[340]	MOVE     	2 3
	44	[342]	RETURN   	2 2
	45	[343]	RETURN   	0 1

function <./moonscript/compile.lua:344,346> (5 instructions, 20 bytes at 0x7fe5c960b6d0)
2 params, 4 slots, 1 upvalue, 2 locals, 1 constant, 0 functions
	1	[345]	GETUPVAL 	2 0	; Set
	2	[345]	MOVE     	3 1
	3	[345]	CALL     	2 2 2
	4	[345]	SETTABLE 	0 -1 2	; "_name_whitelist" -
	5	[346]	RETURN   	0 1

function <./moonscript/compile.lua:347,354> (16 instructions, 64 bytes at 0x7fe5c960bb90)
2 params, 5 slots, 0 upvalues, 2 locals, 4 constants, 0 functions
	1	[348]	GETTABLE 	2 0 -1	; "export_all"
	2	[348]	TEST     	2 0 0
	3	[348]	JMP      	2	; to 6
	4	[349]	LOADBOOL 	2 1 0
	5	[349]	RETURN   	2 2
	6	[351]	GETTABLE 	2 0 -2	; "export_proper"
	7	[351]	TEST     	2 0 0
	8	[351]	JMP      	7	; to 16
	9	[351]	SELF     	2 1 -3	; "match"
	10	[351]	LOADK    	4 -4	; "^%u"
	11	[351]	CALL     	2 3 2
	12	[351]	TEST     	2 0 0
	13	[351]	JMP      	2	; to 16
	14	[352]	LOADBOOL 	2 1 0
	15	[352]	RETURN   	2 2
	16	[354]	RETURN   	0 1

function <./moonscript/compile.lua:355,364> (21 instructions, 84 bytes at 0x7fe5c960bf20)
2+ params, 7 slots, 2 upvalues, 4 locals, 5 constants, 0 functions
	1	[356]	VARARG   	3 2
	2	[357]	GETGLOBAL	4 -1	; select
	3	[357]	LOADK    	5 -2	; "#"
	4	[357]	VARARG   	6 0
	5	[357]	CALL     	4 0 2
	6	[357]	EQ       	0 4 -3	; - 0
	7	[357]	JMP      	1	; to 9
	8	[358]	LOADBOOL 	3 1 0
	9	[360]	GETUPVAL 	4 0	; NameProxy
	10	[360]	GETUPVAL 	5 1	; mtype
	11	[360]	MOVE     	6 1
	12	[360]	CALL     	5 2 2
	13	[360]	EQ       	0 4 5
	14	[360]	JMP      	4	; to 19
	15	[361]	SELF     	4 1 -4	; "get_name"
	16	[361]	MOVE     	6 0
	17	[361]	CALL     	4 3 2
	18	[361]	MOVE     	1 4
	19	[363]	GETTABLE 	4 0 -5	; "_names"
	20	[363]	SETTABLE 	4 1 3
	21	[364]	RETURN   	0 1

function <./moonscript/compile.lua:365,377> (32 instructions, 128 bytes at 0x7fe5c960c340)
3 params, 8 slots, 0 upvalues, 4 locals, 6 constants, 0 functions
	1	[366]	TEST     	2 0 1
	2	[366]	JMP      	7	; to 10
	3	[366]	SELF     	3 0 -1	; "name_exported"
	4	[366]	MOVE     	5 1
	5	[366]	CALL     	3 3 2
	6	[366]	TEST     	3 0 0
	7	[366]	JMP      	2	; to 10
	8	[367]	LOADBOOL 	3 1 0
	9	[367]	RETURN   	3 2
	10	[369]	GETTABLE 	3 0 -2	; "_names"
	11	[369]	GETTABLE 	3 3 1
	12	[370]	EQ       	0 3 -3	; - nil
	13	[370]	JMP      	17	; to 31
	14	[370]	GETTABLE 	4 0 -4	; "parent"
	15	[370]	TEST     	4 0 0
	16	[370]	JMP      	14	; to 31
	17	[371]	GETTABLE 	4 0 -5	; "_name_whitelist"
	18	[371]	TEST     	4 0 0
	19	[371]	JMP      	4	; to 24
	20	[371]	GETTABLE 	4 0 -5	; "_name_whitelist"
	21	[371]	GETTABLE 	4 4 1
	22	[371]	TEST     	4 0 0
	23	[371]	JMP      	8	; to 32
	24	[372]	GETTABLE 	4 0 -4	; "parent"
	25	[372]	SELF     	4 4 -6	; "has_name"
	26	[372]	MOVE     	6 1
	27	[372]	LOADBOOL 	7 1 0
	28	[372]	TAILCALL 	4 4 0
	29	[372]	RETURN   	4 0
	30	[373]	JMP      	1	; to 32
	31	[375]	RETURN   	3 2
	32	[377]	RETURN   	0 1

function <./moonscript/compile.lua:378,392> (36 instructions, 144 bytes at 0x7fe5c960ca90)
2 params, 7 slots, 3 upvalues, 3 locals, 8 constants, 0 functions
	1	[379]	GETUPVAL 	2 0	; mtype
	2	[379]	MOVE     	3 1
	3	[379]	CALL     	2 2 2
	4	[380]	EQ       	0 2 -1	; - "string"
	5	[380]	JMP      	5	; to 11
	6	[381]	SELF     	3 0 -2	; "has_name"
	7	[381]	MOVE     	5 1
	8	[381]	LOADBOOL 	6 0 0
	9	[381]	TAILCALL 	3 4 0
	10	[381]	RETURN   	3 0
	11	[383]	GETUPVAL 	3 1	; NameProxy
	12	[383]	EQ       	1 2 3
	13	[383]	JMP      	3	; to 17
	14	[383]	GETUPVAL 	3 2	; LocalName
	15	[383]	EQ       	0 2 3
	16	[383]	JMP      	2	; to 19
	17	[384]	LOADBOOL 	3 1 0
	18	[384]	RETURN   	3 2
	19	[386]	EQ       	0 2 -3	; - "table"
	20	[386]	JMP      	13	; to 34
	21	[387]	GETTABLE 	3 1 -4	; 1
	22	[387]	EQ       	1 3 -5	; - "ref"
	23	[387]	JMP      	6	; to 30
	24	[387]	GETTABLE 	3 1 -4	; 1
	25	[387]	EQ       	0 3 -6	; - "chain"
	26	[387]	JMP      	7	; to 34
	27	[387]	LEN      	3 1
	28	[387]	EQ       	0 3 -7	; - 2
	29	[387]	JMP      	4	; to 34
	30	[388]	SELF     	3 0 -8	; "is_local"
	31	[388]	GETTABLE 	5 1 -7	; 2
	32	[388]	TAILCALL 	3 3 0
	33	[388]	RETURN   	3 0
	34	[391]	LOADBOOL 	3 0 0
	35	[391]	RETURN   	3 2
	36	[392]	RETURN   	0 1

function <./moonscript/compile.lua:393,410> (31 instructions, 124 bytes at 0x7fe5c960cc50)
3 params, 11 slots, 1 upvalue, 6 locals, 7 constants, 0 functions
	1	[394]	TEST     	1 0 1
	2	[394]	JMP      	1	; to 4
	3	[394]	LOADK    	1 -1	; "moon"
	4	[395]	LOADBOOL 	3 1 0
	5	[396]	LOADNIL  	4 4
	6	[396]	LOADK    	5 -2	; 0
	7	[397]	TEST     	3 0 0
	8	[397]	JMP      	16	; to 25
	9	[398]	GETUPVAL 	6 0	; concat
	10	[398]	NEWTABLE 	7 3 0
	11	[399]	LOADK    	8 -3	; ""
	12	[400]	MOVE     	9 1
	13	[402]	MOVE     	10 5
	14	[402]	SETLIST  	7 3 1	; 1
	15	[402]	LOADK    	8 -4	; "_"
	16	[398]	CALL     	6 3 2
	17	[402]	MOVE     	4 6
	18	[403]	ADD      	5 5 -5	; - 1
	19	[404]	SELF     	6 0 -6	; "has_name"
	20	[404]	MOVE     	8 4
	21	[404]	LOADBOOL 	9 1 0
	22	[404]	CALL     	6 4 2
	23	[404]	MOVE     	3 6
	24	[404]	JMP      	-18	; to 7
	25	[406]	TEST     	2 0 1
	26	[406]	JMP      	3	; to 30
	27	[407]	SELF     	6 0 -7	; "put_name"
	28	[407]	MOVE     	8 4
	29	[407]	CALL     	6 3 1
	30	[409]	RETURN   	4 2
	31	[410]	RETURN   	0 1

function <./moonscript/compile.lua:411,423> (17 instructions, 68 bytes at 0x7fe5c960d1b0)
3 params, 11 slots, 0 upvalues, 4 locals, 3 constants, 0 functions
	1	[412]	SELF     	3 0 -1	; "free_name"
	2	[412]	MOVE     	5 1
	3	[412]	LOADBOOL 	6 1 0
	4	[412]	CALL     	3 4 2
	5	[413]	SELF     	4 0 -2	; "stm"
	6	[413]	NEWTABLE 	6 3 0
	7	[414]	LOADK    	7 -3	; "assign"
	8	[414]	NEWTABLE 	8 1 0
	9	[417]	MOVE     	9 3
	10	[417]	SETLIST  	8 1 1	; 1
	11	[417]	NEWTABLE 	9 1 0
	12	[420]	MOVE     	10 2
	13	[420]	SETLIST  	9 1 1	; 1
	14	[421]	SETLIST  	6 3 1	; 1
	15	[413]	CALL     	4 3 1
	16	[422]	RETURN   	3 2
	17	[423]	RETURN   	0 1

function <./moonscript/compile.lua:424,433> (11 instructions, 44 bytes at 0x7fe5c960d4d0)
3 params, 7 slots, 0 upvalues, 4 locals, 3 constants, 0 functions
	1	[426]	GETTABLE 	3 0 -1	; "_lines"
	2	[427]	SELF     	4 3 -2	; "add"
	3	[427]	MOVE     	6 1
	4	[427]	CALL     	4 3 1
	5	[428]	TEST     	2 0 0
	6	[428]	JMP      	3	; to 10
	7	[429]	SELF     	4 3 -3	; "mark_pos"
	8	[429]	MOVE     	6 2
	9	[429]	CALL     	4 3 1
	10	[432]	RETURN   	1 2
	11	[433]	RETURN   	0 1

function <./moonscript/compile.lua:434,450> (52 instructions, 208 bytes at 0x7fe5c960b260)
2 params, 9 slots, 2 upvalues, 2 locals, 12 constants, 0 functions
	1	[435]	SELF     	2 1 -1	; "add"
	2	[435]	GETTABLE 	4 0 -2	; "header"
	3	[435]	CALL     	2 3 1
	4	[436]	SELF     	2 1 -3	; "mark_pos"
	5	[436]	GETTABLE 	4 0 -4	; "pos"
	6	[436]	CALL     	2 3 1
	7	[437]	GETTABLE 	2 0 -5	; "next"
	8	[437]	TEST     	2 0 0
	9	[437]	JMP      	8	; to 18
	10	[438]	SELF     	2 1 -1	; "add"
	11	[438]	GETTABLE 	4 0 -6	; "_lines"
	12	[438]	CALL     	2 3 1
	13	[439]	GETTABLE 	2 0 -5	; "next"
	14	[439]	SELF     	2 2 -7	; "render"
	15	[439]	MOVE     	4 1
	16	[439]	CALL     	2 3 1
	17	[439]	JMP      	33	; to 51
	18	[441]	GETTABLE 	2 0 -6	; "_lines"
	19	[441]	LEN      	2 2
	20	[441]	EQ       	0 2 -8	; - 0
	21	[441]	JMP      	20	; to 42
	22	[441]	GETGLOBAL	2 -10	; type
	23	[441]	LEN      	3 1
	24	[441]	GETTABLE 	3 1 3
	25	[441]	CALL     	2 2 2
	26	[441]	EQ       	0 -9 2	; "string" -
	27	[441]	JMP      	14	; to 42
	28	[442]	LEN      	2 1
	29	[442]	LEN      	3 1
	30	[442]	GETTABLE 	3 1 3
	31	[442]	LOADK    	4 -11	; " "
	32	[442]	GETUPVAL 	5 0	; unpack
	33	[442]	GETUPVAL 	6 1	; Lines
	34	[442]	CALL     	6 1 2
	35	[442]	SELF     	6 6 -1	; "add"
	36	[442]	GETTABLE 	8 0 -12	; "footer"
	37	[442]	CALL     	6 3 0
	38	[442]	CALL     	5 0 2
	39	[442]	CONCAT   	3 3 5
	40	[442]	SETTABLE 	1 2 3
	41	[442]	JMP      	9	; to 51
	42	[444]	SELF     	2 1 -1	; "add"
	43	[444]	GETTABLE 	4 0 -6	; "_lines"
	44	[444]	CALL     	2 3 1
	45	[445]	SELF     	2 1 -1	; "add"
	46	[445]	GETTABLE 	4 0 -12	; "footer"
	47	[445]	CALL     	2 3 1
	48	[446]	SELF     	2 1 -3	; "mark_pos"
	49	[446]	GETTABLE 	4 0 -4	; "pos"
	50	[446]	CALL     	2 3 1
	51	[449]	RETURN   	1 2
	52	[450]	RETURN   	0 1

function <./moonscript/compile.lua:451,453> (7 instructions, 28 bytes at 0x7fe5c960df20)
3 params, 7 slots, 1 upvalue, 3 locals, 0 constants, 0 functions
	1	[452]	GETUPVAL 	3 0	; Block
	2	[452]	MOVE     	4 0
	3	[452]	MOVE     	5 1
	4	[452]	MOVE     	6 2
	5	[452]	TAILCALL 	3 4 0
	6	[452]	RETURN   	3 0
	7	[453]	RETURN   	0 1

function <./moonscript/compile.lua:454,460> (7 instructions, 28 bytes at 0x7fe5c960dde0)
1+ param, 6 slots, 1 upvalue, 3 locals, 1 constant, 0 functions
	1	[456]	GETUPVAL 	2 0	; Line
	2	[456]	CALL     	2 1 2
	3	[457]	SELF     	3 2 -1	; "append"
	4	[457]	VARARG   	5 0
	5	[457]	CALL     	3 0 1
	6	[458]	RETURN   	2 2
	7	[460]	RETURN   	0 1

function <./moonscript/compile.lua:461,463> (11 instructions, 44 bytes at 0x7fe5c960e4e0)
2 params, 5 slots, 1 upvalue, 2 locals, 2 constants, 0 functions
	1	[462]	GETTABLE 	2 0 -1	; "statement_compilers"
	2	[462]	GETUPVAL 	3 0	; ntype
	3	[462]	MOVE     	4 1
	4	[462]	CALL     	3 2 2
	5	[462]	GETTABLE 	2 2 3
	6	[462]	EQ       	0 2 -2	; - nil
	7	[462]	JMP      	1	; to 9
	8	[462]	LOADBOOL 	2 0 1
	9	[462]	LOADBOOL 	2 1 0
	10	[462]	RETURN   	2 2
	11	[463]	RETURN   	0 1

function <./moonscript/compile.lua:464,467> (13 instructions, 52 bytes at 0x7fe5c960eb10)
2 params, 4 slots, 1 upvalue, 3 locals, 3 constants, 0 functions
	1	[465]	GETUPVAL 	2 0	; ntype
	2	[465]	MOVE     	3 1
	3	[465]	CALL     	2 2 2
	4	[466]	GETTABLE 	3 0 -1	; "value_compilers"
	5	[466]	GETTABLE 	3 3 2
	6	[466]	EQ       	0 3 -2	; - nil
	7	[466]	JMP      	3	; to 11
	8	[466]	EQ       	1 2 -3	; - "value"
	9	[466]	JMP      	1	; to 11
	10	[466]	LOADBOOL 	3 0 1
	11	[466]	LOADBOOL 	3 1 0
	12	[466]	RETURN   	3 2
	13	[467]	RETURN   	0 1

function <./moonscript/compile.lua:468,474> (13 instructions, 52 bytes at 0x7fe5c960ecc0)
2+ params, 7 slots, 0 upvalues, 3 locals, 3 constants, 0 functions
	1	[469]	GETGLOBAL	3 -1	; type
	2	[469]	MOVE     	4 1
	3	[469]	CALL     	3 2 2
	4	[469]	EQ       	0 3 -2	; - "string"
	5	[469]	JMP      	2	; to 8
	6	[470]	RETURN   	1 2
	7	[470]	JMP      	5	; to 13
	8	[472]	SELF     	3 0 -3	; "value"
	9	[472]	MOVE     	5 1
	10	[472]	VARARG   	6 0
	11	[472]	TAILCALL 	3 0 0
	12	[472]	RETURN   	3 0
	13	[474]	RETURN   	0 1

function <./moonscript/compile.lua:475,503> (58 instructions, 232 bytes at 0x7fe5c960f130)
2+ params, 11 slots, 2 upvalues, 7 locals, 14 constants, 0 functions
	1	[476]	GETTABLE 	3 0 -1	; "transform"
	2	[476]	GETTABLE 	3 3 -2	; "value"
	3	[476]	MOVE     	4 1
	4	[476]	CALL     	3 2 2
	5	[476]	MOVE     	1 3
	6	[477]	LOADNIL  	3 3
	7	[478]	GETGLOBAL	4 -3	; type
	8	[478]	MOVE     	5 1
	9	[478]	CALL     	4 2 2
	10	[478]	EQ       	1 4 -4	; - "table"
	11	[478]	JMP      	2	; to 14
	12	[479]	LOADK    	3 -5	; "raw_value"
	13	[479]	JMP      	1	; to 15
	14	[481]	GETTABLE 	3 1 -6	; 1
	15	[483]	GETTABLE 	4 0 -7	; "value_compilers"
	16	[483]	GETTABLE 	4 4 3
	17	[484]	TEST     	4 0 1
	18	[484]	JMP      	12	; to 31
	19	[485]	GETGLOBAL	5 -8	; error
	20	[485]	NEWTABLE 	6 3 0
	21	[486]	LOADK    	7 -9	; "compile-error"
	22	[487]	LOADK    	8 -10	; "Failed to find value compiler for: "
	23	[487]	GETUPVAL 	9 0	; dump
	24	[487]	GETTABLE 	9 9 -2	; "value"
	25	[487]	MOVE     	10 1
	26	[487]	CALL     	9 2 2
	27	[487]	CONCAT   	8 8 9
	28	[489]	GETTABLE 	9 1 -11	; -1
	29	[489]	SETLIST  	6 3 1	; 1
	30	[485]	CALL     	5 2 1
	31	[491]	MOVE     	5 4
	32	[491]	MOVE     	6 0
	33	[491]	MOVE     	7 1
	34	[491]	VARARG   	8 0
	35	[491]	CALL     	5 0 2
	36	[492]	GETGLOBAL	6 -3	; type
	37	[492]	MOVE     	7 1
	38	[492]	CALL     	6 2 2
	39	[492]	EQ       	0 6 -4	; - "table"
	40	[492]	JMP      	16	; to 57
	41	[492]	GETTABLE 	6 1 -11	; -1
	42	[492]	TEST     	6 0 0
	43	[492]	JMP      	13	; to 57
	44	[493]	GETGLOBAL	6 -3	; type
	45	[493]	MOVE     	7 5
	46	[493]	CALL     	6 2 2
	47	[493]	EQ       	0 6 -12	; - "string"
	48	[493]	JMP      	6	; to 55
	49	[495]	GETUPVAL 	6 1	; Line
	50	[495]	CALL     	6 1 2
	51	[496]	SELF     	7 6 -13	; "append"
	52	[496]	MOVE     	9 5
	53	[496]	CALL     	7 3 1
	54	[497]	MOVE     	5 6
	55	[500]	GETTABLE 	6 1 -11	; -1
	56	[500]	SETTABLE 	5 -14 6	; "pos" -
	57	[502]	RETURN   	5 2
	58	[503]	RETURN   	0 1

function <./moonscript/compile.lua:504,520> (14 instructions, 56 bytes at 0x7fe5c960f6b0)
3 params, 8 slots, 1 upvalue, 4 locals, 2 constants, 1 function
	1	[505]	TEST     	2 0 1
	2	[505]	JMP      	1	; to 4
	3	[505]	LOADK    	2 -1	; ", "
	4	[507]	GETUPVAL 	3 0	; Line
	5	[507]	CALL     	3 1 2
	6	[508]	SELF     	4 3 -2	; "append_list"
	7	[517]	CLOSURE  	6 0	; 0x7fe5c960fa40
	8	[517]	MOVE     	0 1
	9	[517]	MOVE     	0 0
	10	[517]	CALL     	6 1 2
	11	[517]	MOVE     	7 2
	12	[508]	CALL     	4 4 1
	13	[518]	RETURN   	3 2
	14	[520]	RETURN   	0 1

function <./moonscript/compile.lua:508,517> (18 instructions, 72 bytes at 0x7fe5c960fa40)
0 params, 10 slots, 2 upvalues, 7 locals, 2 constants, 0 functions
	1	[509]	NEWTABLE 	0 0 0
	2	[510]	LOADK    	1 -1	; 1
	3	[511]	LOADK    	2 -1	; 1
	4	[511]	GETUPVAL 	3 0	; values
	5	[511]	LEN      	3 3
	6	[511]	LOADK    	4 -1	; 1
	7	[511]	FORPREP  	2 8	; to 16
	8	[512]	GETUPVAL 	6 0	; values
	9	[512]	GETTABLE 	6 6 5
	10	[513]	GETUPVAL 	7 1	; self
	11	[513]	SELF     	7 7 -2	; "value"
	12	[513]	MOVE     	9 6
	13	[513]	CALL     	7 3 2
	14	[513]	SETTABLE 	0 1 7
	15	[514]	ADD      	1 1 -1	; - 1
	16	[511]	FORLOOP  	2 -9	; to 8
	17	[516]	RETURN   	0 2
	18	[517]	RETURN   	0 1

function <./moonscript/compile.lua:521,554> (68 instructions, 272 bytes at 0x7fe5c960fff0)
2+ params, 12 slots, 2 upvalues, 5 locals, 12 constants, 0 functions
	1	[522]	TEST     	1 0 1
	2	[522]	JMP      	1	; to 4
	3	[523]	RETURN   	0 1
	4	[525]	GETTABLE 	3 0 -1	; "transform"
	5	[525]	GETTABLE 	3 3 -2	; "statement"
	6	[525]	MOVE     	4 1
	7	[525]	CALL     	3 2 2
	8	[525]	MOVE     	1 3
	9	[526]	LOADNIL  	3 3
	10	[528]	GETTABLE 	4 0 -3	; "statement_compilers"
	11	[528]	GETUPVAL 	5 0	; ntype
	12	[528]	MOVE     	6 1
	13	[528]	CALL     	5 2 2
	14	[528]	GETTABLE 	4 4 5
	15	[529]	TEST     	4 0 0
	16	[529]	JMP      	7	; to 24
	17	[530]	MOVE     	5 4
	18	[530]	MOVE     	6 0
	19	[530]	MOVE     	7 1
	20	[530]	VARARG   	8 0
	21	[530]	CALL     	5 0 2
	22	[530]	MOVE     	3 5
	23	[530]	JMP      	22	; to 46
	24	[532]	GETUPVAL 	5 1	; value_can_be_statement
	25	[532]	MOVE     	6 1
	26	[532]	CALL     	5 2 2
	27	[532]	TEST     	5 0 0
	28	[532]	JMP      	5	; to 34
	29	[533]	SELF     	5 0 -4	; "value"
	30	[533]	MOVE     	7 1
	31	[533]	CALL     	5 3 2
	32	[533]	MOVE     	3 5
	33	[533]	JMP      	12	; to 46
	34	[535]	SELF     	5 0 -5	; "stm"
	35	[535]	NEWTABLE 	7 3 0
	36	[536]	LOADK    	8 -6	; "assign"
	37	[536]	NEWTABLE 	9 1 0
	38	[539]	LOADK    	10 -7	; "_"
	39	[539]	SETLIST  	9 1 1	; 1
	40	[539]	NEWTABLE 	10 1 0
	41	[542]	MOVE     	11 1
	42	[542]	SETLIST  	10 1 1	; 1
	43	[543]	SETLIST  	7 3 1	; 1
	44	[535]	CALL     	5 3 2
	45	[543]	MOVE     	3 5
	46	[547]	TEST     	3 0 0
	47	[547]	JMP      	18	; to 66
	48	[548]	GETGLOBAL	4 -8	; type
	49	[548]	MOVE     	5 1
	50	[548]	CALL     	4 2 2
	51	[548]	EQ       	0 4 -9	; - "table"
	52	[548]	JMP      	10	; to 63
	53	[548]	GETGLOBAL	4 -8	; type
	54	[548]	MOVE     	5 3
	55	[548]	CALL     	4 2 2
	56	[548]	EQ       	0 4 -9	; - "table"
	57	[548]	JMP      	5	; to 63
	58	[548]	GETTABLE 	4 1 -10	; -1
	59	[548]	TEST     	4 0 0
	60	[548]	JMP      	2	; to 63
	61	[549]	GETTABLE 	4 1 -10	; -1
	62	[549]	SETTABLE 	3 -11 4	; "pos" -
	63	[551]	SELF     	4 0 -12	; "add"
	64	[551]	MOVE     	6 3
	65	[551]	CALL     	4 3 1
	66	[553]	LOADNIL  	4 4
	67	[553]	RETURN   	4 2
	68	[554]	RETURN   	0 1

function <./moonscript/compile.lua:555,569> (24 instructions, 96 bytes at 0x7fe5c9610550)
3 params, 12 slots, 0 upvalues, 9 locals, 6 constants, 0 functions
	1	[556]	TEST     	2 0 0
	2	[556]	JMP      	3	; to 6
	3	[557]	GETGLOBAL	3 -1	; error
	4	[557]	LOADK    	4 -2	; "deprecated stms call, use transformer"
	5	[557]	CALL     	3 2 1
	6	[559]	LOADNIL  	3 4
	7	[560]	GETTABLE 	5 0 -3	; "current_stms"
	8	[560]	GETTABLE 	4 0 -4	; "current_stm_i"
	9	[560]	MOVE     	3 5
	10	[561]	SETTABLE 	0 -3 1	; "current_stms" -
	11	[562]	LOADK    	5 -5	; 1
	12	[562]	LEN      	6 1
	13	[562]	LOADK    	7 -5	; 1
	14	[562]	FORPREP  	5 4	; to 19
	15	[563]	SETTABLE 	0 -4 8	; "current_stm_i" -
	16	[564]	SELF     	9 0 -6	; "stm"
	17	[564]	GETTABLE 	11 1 8
	18	[564]	CALL     	9 3 1
	19	[562]	FORLOOP  	5 -5	; to 15
	20	[566]	SETTABLE 	0 -3 3	; "current_stms" -
	21	[567]	SETTABLE 	0 -4 4	; "current_stm_i" -
	22	[568]	LOADNIL  	5 5
	23	[568]	RETURN   	5 2
	24	[569]	RETURN   	0 1

function <./moonscript/compile.lua:570,577> (14 instructions, 56 bytes at 0x7fe5c94049f0)
2 params, 7 slots, 1 upvalue, 3 locals, 3 constants, 0 functions
	1	[571]	NEWTABLE 	2 2 0
	2	[572]	LOADK    	3 -1	; "lines"
	3	[574]	GETTABLE 	4 0 -2	; "_lines"
	4	[574]	SETLIST  	2 2 1	; 1
	5	[575]	GETUPVAL 	3 0	; Lines
	6	[575]	CALL     	3 1 2
	7	[575]	SETTABLE 	0 -2 3	; "_lines" -
	8	[576]	SELF     	3 0 -3	; "stms"
	9	[576]	MOVE     	5 1
	10	[576]	MOVE     	6 2
	11	[576]	CALL     	5 2 0
	12	[576]	TAILCALL 	3 0 0
	13	[576]	RETURN   	3 0
	14	[577]	RETURN   	0 1

function <./moonscript/compile.lua:581,605> (56 instructions, 224 bytes at 0x7fe5c9404d00)
4 params, 8 slots, 2 upvalues, 4 locals, 19 constants, 0 functions
	1	[582]	MOVE     	4 1
	2	[582]	MOVE     	5 2
	3	[582]	SETTABLE 	0 -3 3	; "footer" -
	4	[582]	SETTABLE 	0 -2 5	; "header" -
	5	[582]	SETTABLE 	0 -1 4	; "parent" -
	6	[583]	GETUPVAL 	4 0	; Lines
	7	[583]	CALL     	4 1 2
	8	[583]	SETTABLE 	0 -4 4	; "_lines" -
	9	[584]	NEWTABLE 	4 0 0
	10	[584]	SETTABLE 	0 -5 4	; "_names" -
	11	[585]	NEWTABLE 	4 0 0
	12	[585]	SETTABLE 	0 -6 4	; "_state" -
	13	[586]	NEWTABLE 	4 0 0
	14	[586]	SETTABLE 	0 -7 4	; "_listeners" -
	15	[588]	NEWTABLE 	4 0 2
	16	[589]	GETUPVAL 	5 1	; transform
	17	[589]	GETTABLE 	5 5 -10	; "Value"
	18	[589]	SELF     	5 5 -11	; "bind"
	19	[589]	MOVE     	7 0
	20	[589]	CALL     	5 3 2
	21	[589]	SETTABLE 	4 -9 5	; "value" -
	22	[590]	GETUPVAL 	5 1	; transform
	23	[590]	GETTABLE 	5 5 -13	; "Statement"
	24	[590]	SELF     	5 5 -11	; "bind"
	25	[590]	MOVE     	7 0
	26	[590]	CALL     	5 3 2
	27	[590]	SETTABLE 	4 -12 5	; "statement" -
	28	[591]	SETTABLE 	0 -8 4	; "transform" -
	29	[593]	GETTABLE 	4 0 -1	; "parent"
	30	[593]	TEST     	4 0 0
	31	[593]	JMP      	23	; to 55
	32	[594]	GETTABLE 	4 0 -1	; "parent"
	33	[594]	GETTABLE 	4 4 -14	; "root"
	34	[594]	SETTABLE 	0 -14 4	; "root" -
	35	[595]	GETTABLE 	4 0 -1	; "parent"
	36	[595]	GETTABLE 	4 4 -15	; "indent"
	37	[595]	ADD      	4 4 -16	; - 1
	38	[595]	SETTABLE 	0 -15 4	; "indent" -
	39	[596]	GETGLOBAL	4 -17	; setmetatable
	40	[596]	GETTABLE 	5 0 -6	; "_state"
	41	[596]	NEWTABLE 	6 0 1
	42	[597]	GETTABLE 	7 0 -1	; "parent"
	43	[597]	GETTABLE 	7 7 -6	; "_state"
	44	[597]	SETTABLE 	6 -18 7	; "__index" -
	45	[596]	CALL     	4 3 1
	46	[599]	GETGLOBAL	4 -17	; setmetatable
	47	[599]	GETTABLE 	5 0 -7	; "_listeners"
	48	[599]	NEWTABLE 	6 0 1
	49	[600]	GETTABLE 	7 0 -1	; "parent"
	50	[600]	GETTABLE 	7 7 -7	; "_listeners"
	51	[600]	SETTABLE 	6 -18 7	; "__index" -
	52	[599]	TAILCALL 	4 3 0
	53	[601]	RETURN   	4 0
	54	[601]	JMP      	1	; to 56
	55	[603]	SETTABLE 	0 -15 -19	; "indent" 0
	56	[605]	RETURN   	0 1

function <./moonscript/compile.lua:610,614> (10 instructions, 40 bytes at 0x7fe5c9405200)
1+ param, 6 slots, 1 upvalue, 3 locals, 2 constants, 0 functions
	1	[611]	GETGLOBAL	2 -1	; setmetatable
	2	[611]	NEWTABLE 	3 0 0
	3	[611]	GETUPVAL 	4 0	; _base_0
	4	[611]	CALL     	2 3 2
	5	[612]	GETTABLE 	3 0 -2	; "__init"
	6	[612]	MOVE     	4 2
	7	[612]	VARARG   	5 0
	8	[612]	CALL     	3 0 1
	9	[613]	RETURN   	2 2
	10	[614]	RETURN   	0 1

function <./moonscript/compile.lua:623,625> (3 instructions, 12 bytes at 0x7fe5c9405870)
1 param, 2 slots, 0 upvalues, 1 local, 1 constant, 0 functions
	1	[624]	LOADK    	1 -1	; "RootBlock<>"
	2	[624]	RETURN   	1 2
	3	[625]	RETURN   	0 1

function <./moonscript/compile.lua:626,631> (17 instructions, 68 bytes at 0x7fe5c9405180)
2 params, 5 slots, 1 upvalue, 2 locals, 7 constants, 0 functions
	1	[627]	GETTABLE 	2 0 -1	; "options"
	2	[627]	GETTABLE 	2 2 -2	; "implicitly_return_root"
	3	[627]	EQ       	1 2 -3	; - false
	4	[627]	JMP      	8	; to 13
	5	[628]	GETUPVAL 	2 0	; transform
	6	[628]	GETTABLE 	2 2 -4	; "Statement"
	7	[628]	GETTABLE 	2 2 -5	; "transformers"
	8	[628]	GETTABLE 	2 2 -6	; "root_stms"
	9	[628]	MOVE     	3 0
	10	[628]	MOVE     	4 1
	11	[628]	CALL     	2 3 2
	12	[628]	MOVE     	1 2
	13	[630]	SELF     	2 0 -7	; "stms"
	14	[630]	MOVE     	4 1
	15	[630]	TAILCALL 	2 3 0
	16	[630]	RETURN   	2 0
	17	[631]	RETURN   	0 1

function <./moonscript/compile.lua:632,638> (15 instructions, 60 bytes at 0x7fe5c94061b0)
1 param, 4 slots, 0 upvalues, 2 locals, 6 constants, 0 functions
	1	[633]	GETTABLE 	1 0 -1	; "_lines"
	2	[633]	SELF     	1 1 -2	; "flatten"
	3	[633]	CALL     	1 2 2
	4	[634]	LEN      	2 1
	5	[634]	GETTABLE 	2 1 2
	6	[634]	EQ       	0 2 -3	; - "\n"
	7	[634]	JMP      	2	; to 10
	8	[635]	LEN      	2 1
	9	[635]	SETTABLE 	1 2 -4	; - nil
	10	[637]	GETGLOBAL	2 -5	; table
	11	[637]	GETTABLE 	2 2 -6	; "concat"
	12	[637]	MOVE     	3 1
	13	[637]	TAILCALL 	2 2 0
	14	[637]	RETURN   	2 0
	15	[638]	RETURN   	0 1

function <./moonscript/compile.lua:643,647> (9 instructions, 36 bytes at 0x7fe5c9406350)
2 params, 4 slots, 1 upvalue, 2 locals, 4 constants, 0 functions
	1	[644]	SETTABLE 	0 -1 1	; "options" -
	2	[645]	SETTABLE 	0 -2 0	; "root" -
	3	[646]	GETUPVAL 	2 0	; _class_0
	4	[646]	GETTABLE 	2 2 -3	; "__parent"
	5	[646]	GETTABLE 	2 2 -4	; "__init"
	6	[646]	MOVE     	3 0
	7	[646]	TAILCALL 	2 2 0
	8	[646]	RETURN   	2 0
	9	[647]	RETURN   	0 1

function <./moonscript/compile.lua:652,662> (17 instructions, 68 bytes at 0x7fe5c9406940)
2 params, 6 slots, 1 upvalue, 4 locals, 3 constants, 0 functions
	1	[653]	GETGLOBAL	2 -1	; rawget
	2	[653]	GETUPVAL 	3 0	; _base_0
	3	[653]	MOVE     	4 1
	4	[653]	CALL     	2 3 2
	5	[654]	EQ       	0 2 -2	; - nil
	6	[654]	JMP      	9	; to 16
	7	[655]	GETGLOBAL	3 -1	; rawget
	8	[655]	MOVE     	4 0
	9	[655]	LOADK    	5 -3	; "__parent"
	10	[655]	CALL     	3 3 2
	11	[656]	TEST     	3 0 0
	12	[656]	JMP      	4	; to 17
	13	[657]	GETTABLE 	4 3 1
	14	[657]	RETURN   	4 2
	15	[658]	JMP      	1	; to 17
	16	[660]	RETURN   	2 2
	17	[662]	RETURN   	0 1

function <./moonscript/compile.lua:663,667> (10 instructions, 40 bytes at 0x7fe5c9406eb0)
1+ param, 6 slots, 1 upvalue, 3 locals, 2 constants, 0 functions
	1	[664]	GETGLOBAL	2 -1	; setmetatable
	2	[664]	NEWTABLE 	3 0 0
	3	[664]	GETUPVAL 	4 0	; _base_0
	4	[664]	CALL     	2 3 2
	5	[665]	GETTABLE 	3 0 -2	; "__init"
	6	[665]	MOVE     	4 2
	7	[665]	VARARG   	5 0
	8	[665]	CALL     	3 0 1
	9	[666]	RETURN   	2 2
	10	[667]	RETURN   	0 1

function <./moonscript/compile.lua:676,689> (35 instructions, 140 bytes at 0x7fe5c9406fe0)
3 params, 11 slots, 4 upvalues, 6 locals, 5 constants, 0 functions
	1	[678]	TEST     	1 0 0
	2	[678]	JMP      	22	; to 25
	3	[679]	GETUPVAL 	4 0	; pos_to_line
	4	[679]	MOVE     	5 2
	5	[679]	MOVE     	6 1
	6	[679]	CALL     	4 3 2
	7	[680]	LOADNIL  	5 5
	8	[681]	GETUPVAL 	6 1	; get_closest_line
	9	[681]	MOVE     	7 2
	10	[681]	MOVE     	8 4
	11	[681]	CALL     	6 3 3
	12	[681]	MOVE     	4 7
	13	[681]	MOVE     	5 6
	14	[682]	TEST     	5 0 1
	15	[682]	JMP      	1	; to 17
	16	[682]	LOADK    	5 -1	; ""
	17	[683]	LOADK    	6 -2	; " [%d] >>    %s"
	18	[683]	SELF     	6 6 -3	; "format"
	19	[683]	MOVE     	8 4
	20	[683]	GETUPVAL 	9 2	; trim
	21	[683]	MOVE     	10 5
	22	[683]	CALL     	9 2 0
	23	[683]	CALL     	6 0 2
	24	[683]	MOVE     	3 6
	25	[685]	GETUPVAL 	4 3	; concat
	26	[685]	NEWTABLE 	5 2 0
	27	[686]	LOADK    	6 -4	; "Compile error: "
	28	[686]	MOVE     	7 0
	29	[686]	CONCAT   	6 6 7
	30	[688]	MOVE     	7 3
	31	[688]	SETLIST  	5 2 1	; 1
	32	[688]	LOADK    	6 -5	; "\n"
	33	[685]	TAILCALL 	4 3 0
	34	[688]	RETURN   	4 0
	35	[689]	RETURN   	0 1

function <./moonscript/compile.lua:691,699> (12 instructions, 48 bytes at 0x7fe5c9407530)
1 param, 8 slots, 1 upvalue, 3 locals, 3 constants, 0 functions
	1	[694]	GETUPVAL 	2 0	; RootBlock
	2	[694]	CALL     	2 1 2
	3	[695]	SELF     	3 2 -1	; "add"
	4	[695]	SELF     	5 2 -2	; "value"
	5	[695]	MOVE     	7 0
	6	[695]	CALL     	5 3 0
	7	[695]	CALL     	3 0 1
	8	[696]	SELF     	3 2 -3	; "render"
	9	[696]	CALL     	3 2 2
	10	[696]	MOVE     	1 3
	11	[698]	RETURN   	1 2
	12	[699]	RETURN   	0 1

function <./moonscript/compile.lua:701,731> (81 instructions, 324 bytes at 0x7fe5c9407930)
2 params, 13 slots, 4 upvalues, 11 locals, 23 constants, 1 function
	1	[702]	EQ       	0 1 -1	; - nil
	2	[702]	JMP      	2	; to 5
	3	[703]	NEWTABLE 	2 0 0
	4	[703]	MOVE     	1 2
	5	[705]	GETGLOBAL	2 -2	; assert
	6	[705]	MOVE     	3 0
	7	[705]	LOADK    	4 -3	; "missing tree"
	8	[705]	CALL     	2 3 1
	9	[706]	GETTABLE 	2 1 -4	; "scope"
	10	[706]	TEST     	2 0 1
	11	[706]	JMP      	1	; to 13
	12	[706]	GETUPVAL 	2 0	; RootBlock
	13	[706]	MOVE     	3 1
	14	[706]	CALL     	2 2 2
	15	[707]	GETGLOBAL	3 -5	; coroutine
	16	[707]	GETTABLE 	3 3 -6	; "create"
	17	[709]	CLOSURE  	4 0	; 0x7fe5c9407f10
	18	[709]	MOVE     	0 2
	19	[709]	MOVE     	0 0
	20	[707]	CALL     	3 2 2
	21	[710]	GETGLOBAL	4 -5	; coroutine
	22	[710]	GETTABLE 	4 4 -7	; "resume"
	23	[710]	MOVE     	5 3
	24	[710]	CALL     	4 2 3
	25	[711]	TEST     	4 0 1
	26	[711]	JMP      	46	; to 73
	27	[712]	LOADNIL  	6 7
	28	[713]	GETGLOBAL	8 -8	; type
	29	[713]	MOVE     	9 5
	30	[713]	CALL     	8 2 2
	31	[713]	EQ       	0 8 -9	; - "table"
	32	[713]	JMP      	22	; to 55
	33	[714]	GETTABLE 	8 5 -10	; 1
	34	[715]	EQ       	1 -11 8	; "user-error" -
	35	[715]	JMP      	2	; to 38
	36	[715]	EQ       	0 -12 8	; "compile-error" -
	37	[715]	JMP      	7	; to 45
	38	[716]	GETUPVAL 	9 1	; unpack
	39	[716]	MOVE     	10 5
	40	[716]	LOADK    	11 -13	; 2
	41	[716]	CALL     	9 3 3
	42	[716]	MOVE     	7 10
	43	[716]	MOVE     	6 9
	44	[716]	JMP      	22	; to 67
	45	[718]	GETGLOBAL	9 -14	; error
	46	[718]	LOADK    	10 -15	; "Unknown error thrown"
	47	[718]	GETUPVAL 	11 2	; util
	48	[718]	GETTABLE 	11 11 -16	; "dump"
	49	[718]	MOVE     	12 6
	50	[718]	CALL     	11 2 0
	51	[718]	CALL     	9 0 3
	52	[718]	MOVE     	7 10
	53	[718]	MOVE     	6 9
	54	[719]	JMP      	12	; to 67
	55	[721]	GETUPVAL 	8 3	; concat
	56	[721]	NEWTABLE 	9 1 0
	57	[722]	MOVE     	10 5
	58	[723]	GETGLOBAL	11 -17	; debug
	59	[723]	GETTABLE 	11 11 -18	; "traceback"
	60	[723]	MOVE     	12 3
	61	[723]	CALL     	11 2 0
	62	[724]	SETLIST  	9 0 1	; 1
	63	[724]	LOADK    	10 -19	; "\n"
	64	[721]	CALL     	8 3 3
	65	[724]	MOVE     	7 9
	66	[724]	MOVE     	6 8
	67	[726]	LOADNIL  	8 8
	68	[726]	MOVE     	9 6
	69	[726]	TESTSET  	10 7 1
	70	[726]	JMP      	1	; to 72
	71	[726]	GETTABLE 	10 2 -20	; "last_pos"
	72	[726]	RETURN   	8 4
	73	[728]	SELF     	6 2 -21	; "render"
	74	[728]	CALL     	6 2 2
	75	[729]	GETTABLE 	7 2 -22	; "_lines"
	76	[729]	SELF     	7 7 -23	; "flatten_posmap"
	77	[729]	CALL     	7 2 2
	78	[730]	MOVE     	8 6
	79	[730]	MOVE     	9 7
	80	[730]	RETURN   	8 3
	81	[731]	RETURN   	0 1

function <./moonscript/compile.lua:707,709> (6 instructions, 24 bytes at 0x7fe5c9407f10)
0 params, 3 slots, 2 upvalues, 0 locals, 1 constant, 0 functions
	1	[708]	GETUPVAL 	0 0	; scope
	2	[708]	SELF     	0 0 -1	; "root_stms"
	3	[708]	GETUPVAL 	2 1	; tree
	4	[708]	TAILCALL 	0 3 0
	5	[708]	RETURN   	0 0
	6	[709]	RETURN   	0 1
