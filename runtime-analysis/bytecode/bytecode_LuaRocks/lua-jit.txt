-- BYTECODE -- lua.lua:37-53
0001    GGET     1   0      ; "assert"
0002    MOV      2   0
0003    CALL     1   1   2
0004    UGET     1   0      ; dir
0005    TGETS    1   1   1  ; "normalize"
0006    MOV      2   0
0007    CALL     1   2   2
0008    MOV      0   1
0009    KPRI     1   0
0010    UGET     2   1      ; fs
0011    TGETS    2   2   2  ; "is_dir"
0012    MOV      3   0
0013    CALL     2   2   2
0014    ISF          2
0015    JMP      3 => 0041
0016    UGET     2   0      ; dir
0017    TGETS    2   2   3  ; "path"
0018    MOV      3   0
0019    KSTR     4   4      ; ".tmpluarockstestwritable"
0020    CALL     2   2   3
0021    GGET     3   5      ; "io"
0022    TGETS    3   3   6  ; "open"
0023    MOV      4   2
0024    KSTR     5   7      ; "wb"
0025    CALL     3   2   3
0026    ISNEP    3   0
0027    JMP      4 => 0030
0028    KPRI     1   1
0029    JMP      4 => 0031
0030 => KPRI     1   2
0031 => ISF          3
0032    JMP      4 => 0036
0033    MOV      5   3
0034    TGETS    4   3   8  ; "close"
0035    CALL     4   1   2
0036 => GGET     4   9      ; "os"
0037    TGETS    4   4  10  ; "remove"
0038    MOV      5   2
0039    CALL     4   1   2
0040    JMP      2 => 0056
0041 => GGET     2   5      ; "io"
0042    TGETS    2   2   6  ; "open"
0043    MOV      3   0
0044    KSTR     4  11      ; "r+b"
0045    CALL     2   2   3
0046    ISNEP    2   0
0047    JMP      3 => 0050
0048    KPRI     1   1
0049    JMP      3 => 0051
0050 => KPRI     1   2
0051 => ISF          2
0052    JMP      3 => 0056
0053    MOV      4   2
0054    TGETS    3   2   8  ; "close"
0055    CALL     3   1   2
0056 => RET1     1   2

-- BYTECODE -- lua.lua:55-62
0001    TNEW     1   3
0002    TSETB    0   1   1
0003    GGET     2   0      ; "ipairs"
0004    TNEW     3   3
0005    VARG     4   0   1
0006    TSETM    4   0      ; 1
0007    CALL     2   4   2
0008    JMP      5 => 0026
0009 => GGET     7   1      ; "assert"
0010    GGET     8   2      ; "type"
0011    MOV      9   6
0012    CALL     8   2   2
0013    ISEQS    8   3      ; "string"
0014    JMP      8 => 0017
0015    KPRI     8   1
0016    JMP      9 => 0018
0017 => KPRI     8   2
0018 => CALL     7   1   2
0019    LEN      7   1
0020    ADDVN    7   7   1  ; 1
0021    UGET     8   0      ; fs
0022    TGETS    8   8   4  ; "Q"
0023    MOV      9   6
0024    CALL     8   2   2
0025    TSETV    8   1   7
0026 => ITERC    5   3   3
0027    ITERL    5 => 0009
0028    GGET     2   5      ; "table"
0029    TGETS    2   2   6  ; "concat"
0030    MOV      3   1
0031    KSTR     4   7      ; " "
0032    CALLT    2   3

-- BYTECODE -- lua.lua:71-74
0001    GGET     1   0      ; "assert"
0002    GGET     2   1      ; "type"
0003    MOV      3   0
0004    CALL     2   2   2
0005    ISEQS    2   2      ; "string"
0006    JMP      2 => 0009
0007    KPRI     2   1
0008    JMP      3 => 0010
0009 => KPRI     2   2
0010 => CALL     1   1   2
0011    UGET     1   0      ; fs
0012    TGETS    1   1   3  ; "execute_string"
0013    UGET     2   1      ; quote_args
0014    MOV      3   0
0015    VARG     4   0   1
0016    CALLM    2   0   1
0017    CALLMT   1   0

-- BYTECODE -- lua.lua:84-91
0001    GGET     1   0      ; "assert"
0002    GGET     2   1      ; "type"
0003    MOV      3   0
0004    CALL     2   2   2
0005    ISEQS    2   2      ; "string"
0006    JMP      2 => 0009
0007    KPRI     2   1
0008    JMP      3 => 0010
0009 => KPRI     2   2
0010 => CALL     1   1   2
0011    UGET     1   0      ; cfg
0012    TGETS    1   1   3  ; "verbose"
0013    ISF          1
0014    JMP      2 => 0023
0015    UGET     1   1      ; fs
0016    TGETS    1   1   4  ; "execute_string"
0017    UGET     2   2      ; quote_args
0018    MOV      3   0
0019    VARG     4   0   1
0020    CALLM    2   0   1
0021    CALLMT   1   0
0022    JMP      1 => 0033
0023 => UGET     1   1      ; fs
0024    TGETS    1   1   4  ; "execute_string"
0025    UGET     2   1      ; fs
0026    TGETS    2   2   5  ; "quiet"
0027    UGET     3   2      ; quote_args
0028    MOV      4   0
0029    VARG     5   0   1
0030    CALLM    3   0   1
0031    CALLM    2   0   0
0032    CALLMT   1   0
0033 => RET0     0   1

-- BYTECODE -- lua.lua:93-100
0001    GGET     2   0      ; "assert"
0002    GGET     3   1      ; "type"
0003    MOV      4   1
0004    CALL     3   2   2
0005    ISEQS    3   2      ; "string"
0006    JMP      3 => 0009
0007    KPRI     3   1
0008    JMP      4 => 0010
0009 => KPRI     3   2
0010 => CALL     2   1   2
0011    TNEW     2   0
0012    GGET     3   3      ; "pairs"
0013    MOV      4   0
0014    CALL     3   4   2
0015    ISNEXT   6 => 0025
0016 => GGET     8   4      ; "table"
0017    TGETS    8   8   5  ; "insert"
0018    MOV      9   2
0019    UGET    10   0      ; fs
0020    TGETS   10  10   6  ; "export_cmd"
0021    MOV     11   6
0022    MOV     12   7
0023    CALL    10   0   3
0024    CALLM    8   1   1
0025 => ITERN    6   3   3
0026    ITERL    6 => 0016
0027    UGET     3   0      ; fs
0028    TGETS    3   3   7  ; "execute_string"
0029    GGET     4   4      ; "table"
0030    TGETS    4   4   8  ; "concat"
0031    MOV      5   2
0032    KSTR     6   9      ; "\n"
0033    CALL     4   2   3
0034    KSTR     5   9      ; "\n"
0035    UGET     6   1      ; quote_args
0036    MOV      7   1
0037    VARG     8   0   2
0038    CALLM    6   2   1
0039    CAT      4   4   6
0040    CALLT    3   2

-- BYTECODE -- lua.lua:104-107
0001    GGET     2   0      ; "assert"
0002    GGET     3   1      ; "type"
0003    MOV      4   1
0004    CALL     3   2   2
0005    ISEQS    3   2      ; "boolean"
0006    JMP      3 => 0009
0007    KPRI     3   1
0008    JMP      4 => 0010
0009 => KPRI     3   2
0010 => CALL     2   1   2
0011    UGET     2   0      ; tool_available_cache
0012    TSETV    1   2   0
0013    RET0     0   1

-- BYTECODE -- lua.lua:114-136
0001    GGET     3   0      ; "assert"
0002    GGET     4   1      ; "type"
0003    MOV      5   0
0004    CALL     4   2   2
0005    ISEQS    4   2      ; "string"
0006    JMP      4 => 0009
0007    KPRI     4   1
0008    JMP      5 => 0010
0009 => KPRI     4   2
0010 => CALL     3   1   2
0011    GGET     3   0      ; "assert"
0012    GGET     4   1      ; "type"
0013    MOV      5   1
0014    CALL     4   2   2
0015    ISEQS    4   2      ; "string"
0016    JMP      4 => 0019
0017    KPRI     4   1
0018    JMP      5 => 0020
0019 => KPRI     4   2
0020 => CALL     3   1   2
0021    IST          2
0022    JMP      3 => 0024
0023    KSTR     2   3      ; "--version"
0024 => GGET     3   0      ; "assert"
0025    GGET     4   1      ; "type"
0026    MOV      5   2
0027    CALL     4   2   2
0028    ISEQS    4   2      ; "string"
0029    JMP      4 => 0032
0030    KPRI     4   1
0031    JMP      5 => 0033
0032 => KPRI     4   2
0033 => CALL     3   1   2
0034    KPRI     3   0
0035    UGET     4   0      ; tool_available_cache
0036    TGETV    4   4   1
0037    ISEQP    4   0
0038    JMP      4 => 0042
0039    UGET     4   0      ; tool_available_cache
0040    TGETV    3   4   1
0041    JMP      4 => 0055
0042 => UGET     4   1      ; fs
0043    TGETS    4   4   4  ; "execute_quiet"
0044    MOV      5   0
0045    MOV      6   2
0046    CALL     4   2   3
0047    MOV      3   4
0048    UGET     4   0      ; tool_available_cache
0049    ISEQP    3   2
0050    JMP      5 => 0053
0051    KPRI     5   1
0052    JMP      6 => 0054
0053 => KPRI     5   2
0054 => TSETV    5   4   1
0055 => ISF          3
0056    JMP      4 => 0060
0057    KPRI     4   2
0058    RET1     4   2
0059    JMP      4 => 0076
0060 => KSTR     4   5      ; "'%s' program not found. Make sure %s is "~
0061    KSTR     5   6      ; "(or you may want to edit the 'variables."~
0062    CAT      4   4   5
0063    KPRI     5   0
0064    MOV      7   4
0065    TGETS    6   4   7  ; "format"
0066    MOV      8   0
0067    MOV      9   1
0068    MOV     11   1
0069    TGETS   10   1   8  ; "upper"
0070    CALL    10   2   2
0071    UGET    11   2      ; cfg
0072    TGETS   11  11   9  ; "config_files"
0073    TGETS   11  11  10  ; "nearest"
0074    CALL     6   0   6
0075    RETM     5   1
0076 => RET0     0   1

-- BYTECODE -- lua.lua:143-154
0001    UGET     2   0      ; dir
0002    TGETS    2   2   0  ; "normalize"
0003    MOV      3   0
0004    CALL     2   2   2
0005    MOV      0   2
0006    UGET     2   1      ; fs
0007    TGETS    2   2   1  ; "get_md5"
0008    MOV      3   0
0009    CALL     2   3   2
0010    IST          2
0011    JMP      4 => 0015
0012    KPRI     4   1
0013    MOV      5   3
0014    RET      4   3
0015 => MOV      5   2
0016    TGETS    4   2   2  ; "match"
0017    KSTR     6   3      ; "^"
0018    MOV      7   1
0019    CAT      6   6   7
0020    CALL     4   2   3
0021    ISF          4
0022    JMP      5 => 0026
0023    KPRI     4   2
0024    RET1     4   2
0025    JMP      4 => 0031
0026 => KPRI     4   1
0027    KSTR     5   4      ; "Mismatch MD5 hash for file "
0028    MOV      6   0
0029    CAT      5   5   6
0030    RET      4   3
0031 => RET0     0   1

-- BYTECODE -- lua.lua:161-167
0001    TNEW     1   0
0002    UGET     2   0      ; fs
0003    TGETS    2   2   0  ; "dir"
0004    MOV      3   0
0005    CALL     2   4   2
0006    JMP      5 => 0010
0007 => LEN      6   1
0008    ADDVN    6   6   0  ; 1
0009    TSETV    5   1   6
0010 => ITERC    5   2   3
0011    ITERL    5 => 0007
0012    RET1     1   2

-- BYTECODE -- lua.lua:180-180
0001    RET0     0   1

-- BYTECODE -- lua.lua:182-182
0001    UGET     0   0      ; fs
0002    TGETS    0   0   0  ; "dir_iterator"
0003    UGET     1   1      ; at
0004    CALL     0   1   2
0005    RET0     0   1

-- BYTECODE -- lua.lua:174-183
0001    IST          0
0002    JMP      1 => 0007
0003    UGET     1   0      ; fs
0004    TGETS    1   1   0  ; "current_dir"
0005    CALL     1   2   1
0006    MOV      0   1
0007 => UGET     1   1      ; dir
0008    TGETS    1   1   1  ; "normalize"
0009    MOV      2   0
0010    CALL     1   2   2
0011    MOV      0   1
0012    UGET     1   0      ; fs
0013    TGETS    1   1   2  ; "is_dir"
0014    MOV      2   0
0015    CALL     1   2   2
0016    IST          1
0017    JMP      1 => 0021
0018    FNEW     1   3      ; lua.lua:180
0019    UCLO     0 => 0020
0020 => RET1     1   2
0021 => GGET     1   4      ; "coroutine"
0022    TGETS    1   1   5  ; "wrap"
0023    FNEW     2   6      ; lua.lua:182
0024    UCLO     0 => 0025
0025 => CALLT    1   2

-- BYTECODE -- lua.lua:188-228
0001    IST          0
0002    JMP      1 => 0004
0003    KSTR     0   0      ; ""
0004 => LEN      1   0
0005    KSHORT   2   0
0006    ISGE     2   1
0007    JMP      1 => 0027
0008    MOV      2   0
0009    TGETS    1   0   1  ; "gsub"
0010    KSTR     3   2      ; "%."
0011    GGET     4   3      ; "package"
0012    TGETS    4   4   4  ; "config"
0013    MOV      5   4
0014    TGETS    4   4   5  ; "sub"
0015    KSHORT   6   1
0016    KSHORT   7   1
0017    CALL     4   0   4
0018    CALLM    1   2   2
0019    GGET     2   3      ; "package"
0020    TGETS    2   2   4  ; "config"
0021    MOV      3   2
0022    TGETS    2   2   5  ; "sub"
0023    KSHORT   4   1
0024    KSHORT   5   1
0025    CALL     2   2   4
0026    CAT      0   1   2
0027 => GGET     1   3      ; "package"
0028    TGETS    1   1   6  ; "path"
0029    MOV      2   1
0030    TGETS    1   1   5  ; "sub"
0031    KSHORT   3  -1
0032    KSHORT   4  -1
0033    CALL     1   2   4
0034    ISNES    1   7      ; ";"
0035    JMP      1 => 0040
0036    GGET     1   3      ; "package"
0037    TGETS    1   1   6  ; "path"
0038    IST          1
0039    JMP      2 => 0044
0040 => GGET     1   3      ; "package"
0041    TGETS    1   1   6  ; "path"
0042    KSTR     2   7      ; ";"
0043    CAT      1   1   2
0044 => TNEW     2   0
0045    MOV      4   1
0046    TGETS    3   1   8  ; "gmatch"
0047    KSTR     5   9      ; "(.-);"
0048    CALL     3   4   3
0049    JMP      6 => 0080
0050 => MOV      8   6
0051    TGETS    7   6  10  ; "lower"
0052    CALL     7   2   2
0053    ISNES    7  11      ; "?.lua"
0054    JMP      7 => 0056
0055    KSTR     6  12      ; "./?.lua"
0056 => MOV      8   6
0057    TGETS    7   6   1  ; "gsub"
0058    KSTR     9  13      ; "%?"
0059    KSTR    10   0      ; ""
0060    CALL     7   3   4
0061    MOV     10   6
0062    TGETS    9   6  14  ; "match"
0063    KSTR    11  15      ; "%?%.[lL][uU][aA]$"
0064    CALL     9   2   3
0065    ISF          9
0066    JMP     10 => 0080
0067    ISNEN    8   0      ; 1
0068    JMP      9 => 0080
0069    MOV     10   6
0070    TGETS    9   6   1  ; "gsub"
0071    KSTR    11  15      ; "%?%.[lL][uU][aA]$"
0072    MOV     12   0
0073    CALL     9   2   4
0074    MOV      6   9
0075    GGET     9  16      ; "table"
0076    TGETS    9   9  17  ; "insert"
0077    MOV     10   2
0078    MOV     11   6
0079    CALL     9   1   3
0080 => ITERC    6   2   3
0081    ITERL    6 => 0050
0082    LEN      3   2
0083    ISNEN    3   1      ; 0
0084    JMP      3 => 0087
0085    TNEW     3   0
0086    RET1     3   2
0087 => TNEW     3   0
0088    TNEW     4   0
0089    GGET     5  18      ; "ipairs"
0090    MOV      6   2
0091    CALL     5   4   2
0092    JMP      8 => 0127
0093 => UGET    10   0      ; fs
0094    TGETS   10  10  19  ; "list_dir"
0095    MOV     11   9
0096    CALL    10   2   2
0097    GGET    11  18      ; "ipairs"
0098    ISTC    12  10
0099    JMP     12 => 0101
0100    TNEW    12   0
0101 => CALL    11   4   2
0102    JMP     14 => 0125
0103 => MOV     17  15
0104    TGETS   16  15  14  ; "match"
0105    KSTR    18  20      ; "%.[lL][uU][aA]$"
0106    CALL    16   2   3
0107    ISF         16
0108    JMP     17 => 0125
0109    MOV     17  15
0110    TGETS   16  15   5  ; "sub"
0111    KSHORT  18   1
0112    KSHORT  19  -5
0113    CALL    16   2   4
0114    MOV     15  16
0115    TGETV   16   4  15
0116    IST         16
0117    JMP     16 => 0125
0118    KPRI    16   2
0119    TSETV   16   4  15
0120    GGET    16  16      ; "table"
0121    TGETS   16  16  17  ; "insert"
0122    MOV     17   3
0123    MOV     18  15
0124    CALL    16   1   3
0125 => ITERC   14   3   3
0126    ITERL   14 => 0103
0127 => ITERC    8   3   3
0128    ITERL    8 => 0093
0129    RET1     3   2

-- BYTECODE -- lua.lua:230-259
0001    GGET     3   0      ; "io"
0002    TGETS    3   3   1  ; "open"
0003    MOV      4   1
0004    KSTR     5   2      ; "rb"
0005    CALL     3   3   3
0006    IST          3
0007    JMP      5 => 0011
0008    KPRI     5   0
0009    MOV      6   4
0010    RET      5   3
0011 => MOV      6   3
0012    TGETS    5   3   3  ; "read"
0013    KSTR     7   4      ; "*a"
0014    CALL     5   3   3
0015    MOV      8   3
0016    TGETS    7   3   5  ; "close"
0017    CALL     7   1   2
0018    IST          5
0019    JMP      7 => 0023
0020    KPRI     7   0
0021    MOV      8   6
0022    RET      7   3
0023 => MOV      7   0
0024    MOV      8   5
0025    CALL     7   3   2
0026    IST          7
0027    JMP      9 => 0031
0028    KPRI     9   0
0029    MOV     10   8
0030    RET      9   3
0031 => GGET     9   0      ; "io"
0032    TGETS    9   9   1  ; "open"
0033    MOV     10   2
0034    KSTR    11   6      ; "wb"
0035    CALL     9   3   3
0036    MOV      8  10
0037    MOV      3   9
0038    IST          3
0039    JMP      9 => 0043
0040    KPRI     9   0
0041    MOV     10   8
0042    RET      9   3
0043 => MOV     10   3
0044    TGETS    9   3   7  ; "write"
0045    MOV     11   7
0046    CALL     9   3   3
0047    MOV     12   3
0048    TGETS   11   3   5  ; "close"
0049    CALL    11   1   2
0050    IST          9
0051    JMP     11 => 0055
0052    KPRI    11   0
0053    MOV     12  10
0054    RET     11   3
0055 => KPRI    11   2
0056    RET1    11   2

-- BYTECODE -- lua.lua:261-263
0001    GGET     0   0      ; "os"
0002    TGETS    0   0   1  ; "getenv"
0003    KSTR     1   2      ; "TMPDIR"
0004    CALL     0   2   2
0005    IST          0
0006    JMP      1 => 0014
0007    GGET     0   0      ; "os"
0008    TGETS    0   0   1  ; "getenv"
0009    KSTR     1   3      ; "TEMP"
0010    CALL     0   2   2
0011    IST          0
0012    JMP      1 => 0014
0013    KSTR     0   4      ; "/tmp"
0014 => RET1     0   2

-- BYTECODE -- lua.lua:276-279
0001    GGET     1   0      ; "os"
0002    TGETS    1   1   1  ; "execute"
0003    MOV      2   0
0004    CALL     1   2   2
0005    ISEQN    1   0      ; 0
0006    JMP      2 => 0011
0007    ISEQP    1   2
0008    JMP      2 => 0011
0009    KPRI     2   1
0010    JMP      3 => 0012
0011 => KPRI     2   2
0012 => RET1     2   2

-- BYTECODE -- lua.lua:284-286
0001    UGET     0   0      ; lfs
0002    TGETS    0   0   0  ; "currentdir"
0003    CALLT    0   1

-- BYTECODE -- lua.lua:293-297
0001    GGET     1   0      ; "table"
0002    TGETS    1   1   1  ; "insert"
0003    UGET     2   0      ; dir_stack
0004    UGET     3   1      ; lfs
0005    TGETS    3   3   2  ; "currentdir"
0006    CALL     3   0   1
0007    CALLM    1   1   1
0008    UGET     1   2      ; dir
0009    TGETS    1   1   3  ; "normalize"
0010    MOV      2   0
0011    CALL     1   2   2
0012    MOV      0   1
0013    UGET     1   1      ; lfs
0014    TGETS    1   1   4  ; "chdir"
0015    MOV      2   0
0016    CALLT    1   2

-- BYTECODE -- lua.lua:302-310
0001    UGET     0   0      ; lfs
0002    TGETS    0   0   0  ; "currentdir"
0003    CALL     0   2   1
0004    ISF          0
0005    JMP      1 => 0008
0006    ISNES    0   1      ; ""
0007    JMP      1 => 0010
0008 => KPRI     1   1
0009    RET1     1   2
0010 => GGET     1   2      ; "table"
0011    TGETS    1   1   3  ; "insert"
0012    UGET     2   1      ; dir_stack
0013    MOV      3   0
0014    CALL     1   1   3
0015    UGET     1   0      ; lfs
0016    TGETS    1   1   4  ; "chdir"
0017    KSTR     2   5      ; "/"
0018    CALL     1   1   2
0019    KPRI     1   2
0020    RET1     1   2

-- BYTECODE -- lua.lua:314-322
0001    GGET     0   0      ; "table"
0002    TGETS    0   0   1  ; "remove"
0003    UGET     1   0      ; dir_stack
0004    CALL     0   2   2
0005    ISF          0
0006    JMP      1 => 0014
0007    UGET     1   1      ; lfs
0008    TGETS    1   1   2  ; "chdir"
0009    MOV      2   0
0010    CALL     1   1   2
0011    KPRI     1   2
0012    RET1     1   2
0013    JMP      1 => 0016
0014 => KPRI     1   1
0015    RET1     1   2
0016 => RET0     0   1

-- BYTECODE -- lua.lua:329-358
0001    GGET     1   0      ; "assert"
0002    GGET     2   1      ; "type"
0003    MOV      3   0
0004    CALL     2   2   2
0005    ISEQS    2   2      ; "string"
0006    JMP      2 => 0009
0007    KPRI     2   1
0008    JMP      3 => 0010
0009 => KPRI     2   2
0010 => CALL     1   1   2
0011    UGET     1   0      ; dir
0012    TGETS    1   1   3  ; "normalize"
0013    MOV      2   0
0014    CALL     1   2   2
0015    MOV      0   1
0016    KPRI     1   0
0017    MOV      3   0
0018    TGETS    2   0   4  ; "sub"
0019    KSHORT   4   2
0020    KSHORT   5   2
0021    CALL     2   2   4
0022    ISNES    2   5      ; ":"
0023    JMP      2 => 0036
0024    MOV      3   0
0025    TGETS    2   0   4  ; "sub"
0026    KSHORT   4   1
0027    KSHORT   5   2
0028    CALL     2   2   4
0029    MOV      1   2
0030    MOV      3   0
0031    TGETS    2   0   4  ; "sub"
0032    KSHORT   4   4
0033    CALL     2   2   3
0034    MOV      0   2
0035    JMP      2 => 0043
0036 => MOV      3   0
0037    TGETS    2   0   6  ; "match"
0038    KSTR     4   7      ; "^/"
0039    CALL     2   2   3
0040    ISF          2
0041    JMP      3 => 0043
0042    KSTR     1   8      ; ""
0043 => MOV      3   0
0044    TGETS    2   0   9  ; "gmatch"
0045    KSTR     4  10      ; "([^/]+)/*"
0046    CALL     2   4   3
0047    JMP      5 => 0094
0048 => ISF          1
0049    JMP      6 => 0056
0050    MOV      6   1
0051    KSTR     7  11      ; "/"
0052    MOV      8   5
0053    CAT      6   6   8
0054    ISTC     1   6
0055    JMP      7 => 0057
0056 => MOV      1   5
0057 => UGET     6   1      ; lfs
0058    TGETS    6   6  12  ; "attributes"
0059    MOV      7   1
0060    KSTR     8  13      ; "mode"
0061    CALL     6   2   3
0062    IST          6
0063    JMP      7 => 0087
0064    UGET     7   1      ; lfs
0065    TGETS    7   7  14  ; "mkdir"
0066    MOV      8   1
0067    CALL     7   3   2
0068    IST          7
0069    JMP      9 => 0073
0070    KPRI     9   1
0071    MOV     10   8
0072    RET      9   3
0073 => UGET     9   2      ; fs
0074    TGETS    9   9  15  ; "set_permissions"
0075    MOV     10   1
0076    KSTR    11  16      ; "exec"
0077    KSTR    12  17      ; "all"
0078    CALL     9   3   4
0079    MOV      8  10
0080    MOV      7   9
0081    IST          7
0082    JMP      9 => 0094
0083    KPRI     9   1
0084    MOV     10   8
0085    RET      9   3
0086    JMP      7 => 0094
0087 => ISEQS    6  18      ; "directory"
0088    JMP      7 => 0094
0089    KPRI     7   1
0090    MOV      8   1
0091    KSTR     9  19      ; " is not a directory"
0092    CAT      8   8   9
0093    RET      7   3
0094 => ITERC    5   2   3
0095    ITERL    5 => 0048
0096    KPRI     2   2
0097    RET1     2   2

-- BYTECODE -- lua.lua:364-368
0001    GGET     1   0      ; "assert"
0002    MOV      2   0
0003    CALL     1   1   2
0004    UGET     1   0      ; dir
0005    TGETS    1   1   1  ; "normalize"
0006    MOV      2   0
0007    CALL     1   2   2
0008    MOV      0   1
0009    UGET     1   1      ; lfs
0010    TGETS    1   1   2  ; "rmdir"
0011    MOV      2   0
0012    CALL     1   1   2
0013    RET0     0   1

-- BYTECODE -- lua.lua:374-381
0001    GGET     1   0      ; "assert"
0002    MOV      2   0
0003    CALL     1   1   2
0004    UGET     1   0      ; dir
0005    TGETS    1   1   1  ; "normalize"
0006    MOV      2   0
0007    CALL     1   2   2
0008    MOV      0   1
0009    KSHORT   1   1
0010    KSHORT   2  10
0011    KSHORT   3   1
0012    FORI     1 => 0023
0013 => UGET     5   1      ; lfs
0014    TGETS    5   5   2  ; "rmdir"
0015    MOV      6   0
0016    CALL     5   1   2
0017    UGET     5   0      ; dir
0018    TGETS    5   5   3  ; "dir_name"
0019    MOV      6   0
0020    CALL     5   2   2
0021    MOV      0   5
0022    FORL     1 => 0013
0023 => RET0     0   1

-- BYTECODE -- lua.lua:383-395
0001    ISNEV    0   1
0002    JMP      2 => 0005
0003    KPRI     2   2
0004    RET1     2   2
0005 => UGET     2   0      ; cfg
0006    TGETS    2   2   0  ; "is_platform"
0007    KSTR     3   1      ; "unix"
0008    CALL     2   2   2
0009    ISF          2
0010    JMP      3 => 0027
0011    UGET     2   1      ; lfs
0012    TGETS    2   2   2  ; "attributes"
0013    MOV      3   0
0014    KSTR     4   3      ; "ino"
0015    CALL     2   2   3
0016    UGET     3   1      ; lfs
0017    TGETS    3   3   2  ; "attributes"
0018    MOV      4   1
0019    KSTR     5   3      ; "ino"
0020    CALL     3   2   3
0021    ISEQP    2   0
0022    JMP      4 => 0027
0023    ISNEV    2   3
0024    JMP      4 => 0027
0025    KPRI     4   2
0026    RET1     4   2
0027 => KPRI     2   1
0028    RET1     2   2

-- BYTECODE -- lua.lua:404-439
0001    GGET     3   0      ; "assert"
0002    ISFC     4   0
0003    JMP      4 => 0005
0004    MOV      4   1
0005 => CALL     3   1   2
0006    UGET     3   0      ; dir
0007    TGETS    3   3   1  ; "normalize"
0008    MOV      4   0
0009    CALL     3   2   2
0010    MOV      0   3
0011    UGET     3   0      ; dir
0012    TGETS    3   3   1  ; "normalize"
0013    MOV      4   1
0014    CALL     3   2   2
0015    MOV      1   3
0016    UGET     3   1      ; lfs
0017    TGETS    3   3   2  ; "attributes"
0018    MOV      4   1
0019    KSTR     5   3      ; "mode"
0020    CALL     3   2   3
0021    ISNES    3   4      ; "directory"
0022    JMP      4 => 0032
0023    UGET     4   0      ; dir
0024    TGETS    4   4   5  ; "path"
0025    MOV      5   1
0026    UGET     6   0      ; dir
0027    TGETS    6   6   6  ; "base_name"
0028    MOV      7   0
0029    CALL     6   0   2
0030    CALLM    4   2   1
0031    MOV      1   4
0032 => UGET     4   2      ; are_the_same_file
0033    MOV      5   0
0034    MOV      6   1
0035    CALL     4   2   3
0036    ISF          4
0037    JMP      5 => 0041
0038    KPRI     4   0
0039    KSTR     5   7      ; "The source and destination are the same "~
0040    RET      4   3
0041 => GGET     4   8      ; "io"
0042    TGETS    4   4   9  ; "open"
0043    MOV      5   0
0044    KSTR     6  10      ; "rb"
0045    CALL     4   3   3
0046    IST          4
0047    JMP      6 => 0051
0048    KPRI     6   0
0049    MOV      7   5
0050    RET      6   3
0051 => GGET     6   8      ; "io"
0052    TGETS    6   6   9  ; "open"
0053    MOV      7   1
0054    KSTR     8  11      ; "w+b"
0055    CALL     6   3   3
0056    IST          6
0057    JMP      8 => 0064
0058    MOV      9   4
0059    TGETS    8   4  12  ; "close"
0060    CALL     8   1   2
0061    KPRI     8   0
0062    MOV      9   7
0063    RET      8   3
0064 => LOOP     8 => 0077
0065    MOV      9   4
0066    TGETS    8   4  13  ; "read"
0067    KSHORT  10 8192
0068    CALL     8   2   3
0069    IST          8
0070    JMP      9 => 0072
0071    JMP      8 => 0077
0072 => MOV     10   6
0073    TGETS    9   6  14  ; "write"
0074    MOV     11   8
0075    CALL     9   1   3
0076    JMP      8 => 0064
0077 => MOV      9   4
0078    TGETS    8   4  12  ; "close"
0079    CALL     8   1   2
0080    MOV      9   6
0081    TGETS    8   6  12  ; "close"
0082    CALL     8   1   2
0083    KPRI     8   0
0084    IST          2
0085    JMP      9 => 0092
0086    UGET     9   1      ; lfs
0087    TGETS    9   9   2  ; "attributes"
0088    MOV     10   0
0089    KSTR    11  15      ; "permissions"
0090    CALL     9   2   3
0091    MOV      8   9
0092 => ISF          8
0093    JMP      9 => 0103
0094    UGET     9   3      ; posix_ok
0095    ISF          9
0096    JMP     10 => 0103
0097    UGET     9   4      ; posix
0098    TGETS    9   9  16  ; "chmod"
0099    MOV     10   1
0100    MOV     11   8
0101    CALLT    9   3
0102    JMP      9 => 0120
0103 => IST          2
0104    JMP      9 => 0114
0105    MOV     10   8
0106    TGETS    9   8  17  ; "match"
0107    KSTR    11  18      ; "x"
0108    CALL     9   2   3
0109    ISF          9
0110    JMP     10 => 0113
0111    KSTR     2  19      ; "exec"
0112    JMP      9 => 0114
0113 => KSTR     2  13      ; "read"
0114 => UGET     9   5      ; fs
0115    TGETS    9   9  20  ; "set_permissions"
0116    MOV     10   1
0117    MOV     11   2
0118    KSTR    12  21      ; "all"
0119    CALLT    9   4
0120 => RET0     0   1

-- BYTECODE -- lua.lua:448-469
0001    UGET     3   0      ; lfs
0002    TGETS    3   3   0  ; "attributes"
0003    MOV      4   0
0004    KSTR     5   1      ; "mode"
0005    CALL     3   2   3
0006    ISNES    3   2      ; "file"
0007    JMP      4 => 0019
0008    UGET     4   1      ; fs
0009    TGETS    4   4   3  ; "copy"
0010    MOV      5   0
0011    MOV      6   1
0012    MOV      7   2
0013    CALL     4   2   4
0014    IST          4
0015    JMP      5 => 0071
0016    KPRI     5   1
0017    RET1     5   2
0018    JMP      4 => 0071
0019 => ISNES    3   4      ; "directory"
0020    JMP      4 => 0071
0021    UGET     4   2      ; dir
0022    TGETS    4   4   5  ; "path"
0023    MOV      5   1
0024    UGET     6   2      ; dir
0025    TGETS    6   6   6  ; "base_name"
0026    MOV      7   0
0027    CALL     6   0   2
0028    CALLM    4   2   1
0029    UGET     5   1      ; fs
0030    TGETS    5   5   7  ; "make_dir"
0031    MOV      6   4
0032    CALL     5   3   2
0033    IST          5
0034    JMP      7 => 0038
0035    KPRI     7   0
0036    MOV      8   6
0037    RET      7   3
0038 => GGET     7   8      ; "pcall"
0039    UGET     8   0      ; lfs
0040    TGETS    8   8   9  ; "dir"
0041    MOV      9   0
0042    CALL     7   2   3
0043    ISNEP    7   1
0044    JMP      7 => 0047
0045    KPRI     7   1
0046    RET1     7   2
0047 => UGET     7   0      ; lfs
0048    TGETS    7   7   9  ; "dir"
0049    MOV      8   0
0050    CALL     7   4   2
0051    JMP     10 => 0069
0052 => ISEQS   10  10      ; "."
0053    JMP     11 => 0069
0054    ISEQS   10  11      ; ".."
0055    JMP     11 => 0069
0056    UGET    11   3      ; recursive_copy
0057    UGET    12   2      ; dir
0058    TGETS   12  12   5  ; "path"
0059    MOV     13   0
0060    MOV     14  10
0061    CALL    12   2   3
0062    MOV     13   4
0063    MOV     14   2
0064    CALL    11   2   4
0065    IST         11
0066    JMP     12 => 0069
0067    KPRI    12   1
0068    RET1    12   2
0069 => ITERC   10   2   3
0070    ITERL   10 => 0052
0071 => KPRI     4   2
0072    RET1     4   2

-- BYTECODE -- lua.lua:477-496
0001    GGET     3   0      ; "assert"
0002    ISFC     4   0
0003    JMP      4 => 0005
0004    MOV      4   1
0005 => CALL     3   1   2
0006    UGET     3   0      ; dir
0007    TGETS    3   3   1  ; "normalize"
0008    MOV      4   0
0009    CALL     3   2   2
0010    MOV      0   3
0011    UGET     3   0      ; dir
0012    TGETS    3   3   1  ; "normalize"
0013    MOV      4   1
0014    CALL     3   2   2
0015    MOV      1   3
0016    UGET     3   1      ; fs
0017    TGETS    3   3   2  ; "is_dir"
0018    MOV      4   0
0019    CALL     3   2   2
0020    IST          3
0021    JMP      3 => 0027
0022    KPRI     3   1
0023    MOV      4   0
0024    KSTR     5   3      ; " is not a directory"
0025    CAT      4   4   5
0026    RET      3   3
0027 => GGET     3   4      ; "pcall"
0028    UGET     4   2      ; lfs
0029    TGETS    4   4   5  ; "dir"
0030    MOV      5   0
0031    CALL     3   2   3
0032    ISNEP    3   1
0033    JMP      3 => 0037
0034    KPRI     3   1
0035    KSTR     4   6      ; "Permission denied"
0036    RET      3   3
0037 => UGET     3   2      ; lfs
0038    TGETS    3   3   5  ; "dir"
0039    MOV      4   0
0040    CALL     3   4   2
0041    JMP      6 => 0064
0042 => ISEQS    6   7      ; "."
0043    JMP      7 => 0064
0044    ISEQS    6   8      ; ".."
0045    JMP      7 => 0064
0046    UGET     7   3      ; recursive_copy
0047    UGET     8   0      ; dir
0048    TGETS    8   8   9  ; "path"
0049    MOV      9   0
0050    MOV     10   6
0051    CALL     8   2   3
0052    MOV      9   1
0053    MOV     10   2
0054    CALL     7   2   4
0055    IST          7
0056    JMP      8 => 0064
0057    KPRI     8   1
0058    KSTR     9  10      ; "Failed copying "
0059    MOV     10   0
0060    KSTR    11  11      ; " to "
0061    MOV     12   1
0062    CAT      9   9  12
0063    RET      8   3
0064 => ITERC    6   2   3
0065    ITERL    6 => 0042
0066    KPRI     3   2
0067    RET1     3   2

-- BYTECODE -- lua.lua:506-515
0001    UGET     0   0      ; lfs
0002    TGETS    0   0   0  ; "dir"
0003    UGET     1   1      ; name
0004    CALL     0   4   2
0005    JMP      3 => 0022
0006 => ISEQS    3   1      ; "."
0007    JMP      4 => 0022
0008    ISEQS    3   2      ; ".."
0009    JMP      4 => 0022
0010    UGET     4   2      ; recursive_delete
0011    UGET     5   3      ; dir
0012    TGETS    5   5   3  ; "path"
0013    UGET     6   1      ; name
0014    MOV      7   3
0015    CALL     5   0   3
0016    CALLM    4   3   0
0017    IST          4
0018    JMP      6 => 0022
0019    KPRI     6   0
0020    MOV      7   5
0021    RET      6   3
0022 => ITERC    3   2   3
0023    ITERL    3 => 0006
0024    UGET     0   0      ; lfs
0025    TGETS    0   0   4  ; "rmdir"
0026    UGET     1   1      ; name
0027    CALL     0   3   2
0028    MOV      2   0
0029    IST          0
0030    JMP      3 => 0033
0031    MOV      3   1
0032    JMP      4 => 0036
0033 => KPRI     3   1
0034    JMP      4 => 0036
0035    KPRI     3   2
0036 => RET      2   3

-- BYTECODE -- lua.lua:503-521
0001    GGET     1   0      ; "os"
0002    TGETS    1   1   1  ; "remove"
0003    MOV      2   0
0004    CALL     1   2   2
0005    ISF          1
0006    JMP      2 => 0009
0007    KPRI     2   2
0008    UCLO     0 => 0025
0009 => GGET     2   2      ; "pcall"
0010    FNEW     3   3      ; lua.lua:506
0011    CALL     2   4   2
0012    ISF          2
0013    JMP      5 => 0019
0014    MOV      5   3
0015    MOV      6   4
0016    UCLO     0 => 0017
0017 => RET      5   3
0018    JMP      5 => 0023
0019 => MOV      5   2
0020    MOV      6   3
0021    UCLO     0 => 0022
0022 => RET      5   3
0023 => UCLO     0 => 0024
0024 => RET0     0   1
0025 => RET1     2   2

-- BYTECODE -- lua.lua:526-529
0001    UGET     1   0      ; dir
0002    TGETS    1   1   0  ; "normalize"
0003    MOV      2   0
0004    CALL     1   2   2
0005    MOV      0   1
0006    UGET     1   1      ; recursive_delete
0007    MOV      2   0
0008    CALL     1   1   2
0009    RET0     0   1

-- BYTECODE -- lua.lua:535-545
0001    GGET     1   0      ; "pcall"
0002    UGET     2   0      ; lfs
0003    TGETS    2   2   1  ; "dir"
0004    MOV      3   0
0005    CALL     1   4   3
0006    IST          1
0007    JMP      4 => 0011
0008    KPRI     4   0
0009    MOV      5   2
0010    RET      4   3
0011 => MOV      4   2
0012    MOV      5   3
0013    KPRI     6   0
0014    JMP      7 => 0023
0015 => ISEQS    7   2      ; "."
0016    JMP      8 => 0023
0017    ISEQS    7   3      ; ".."
0018    JMP      8 => 0023
0019    GGET     8   4      ; "coroutine"
0020    TGETS    8   8   5  ; "yield"
0021    MOV      9   7
0022    CALL     8   1   2
0023 => ITERC    7   2   3
0024    ITERL    7 => 0015
0025    RET0     0   1

-- BYTECODE -- lua.lua:552-567
0001    GGET     3   0      ; "pcall"
0002    UGET     4   0      ; lfs
0003    TGETS    4   4   1  ; "dir"
0004    MOV      5   0
0005    CALL     3   4   3
0006    IST          3
0007    JMP      6 => 0010
0008    KPRI     6   0
0009    RET1     6   2
0010 => MOV      6   4
0011    MOV      7   5
0012    KPRI     8   0
0013    JMP      9 => 0045
0014 => ISEQS    9   2      ; "."
0015    JMP     10 => 0045
0016    ISEQS    9   3      ; ".."
0017    JMP     10 => 0045
0018    MOV     10   1
0019    MOV     11   9
0020    CAT     10  10  11
0021    GGET    11   4      ; "table"
0022    TGETS   11  11   5  ; "insert"
0023    MOV     12   2
0024    MOV     13  10
0025    CALL    11   1   3
0026    UGET    11   1      ; dir
0027    TGETS   11  11   6  ; "path"
0028    MOV     12   0
0029    MOV     13   9
0030    CALL    11   2   3
0031    UGET    12   0      ; lfs
0032    TGETS   12  12   7  ; "attributes"
0033    MOV     13  11
0034    KSTR    14   8      ; "mode"
0035    CALL    12   2   3
0036    ISNES   12   9      ; "directory"
0037    JMP     12 => 0045
0038    UGET    12   2      ; recursive_find
0039    MOV     13  11
0040    MOV     14  10
0041    KSTR    15  10      ; "/"
0042    CAT     14  14  15
0043    MOV     15   2
0044    CALL    12   1   4
0045 => ITERC    9   2   3
0046    ITERL    9 => 0014
0047    RET0     0   1

-- BYTECODE -- lua.lua:574-583
0001    GGET     1   0      ; "assert"
0002    GGET     2   1      ; "type"
0003    MOV      3   0
0004    CALL     2   2   2
0005    ISEQS    2   2      ; "string"
0006    JMP      2 => 0011
0007    NOT      2   0
0008    JMP      3 => 0012
0009    KPRI     2   1
0010    JMP      3 => 0012
0011 => KPRI     2   2
0012 => CALL     1   1   2
0013    IST          0
0014    JMP      1 => 0019
0015    UGET     1   0      ; fs
0016    TGETS    1   1   3  ; "current_dir"
0017    CALL     1   2   1
0018    MOV      0   1
0019 => UGET     1   1      ; dir
0020    TGETS    1   1   4  ; "normalize"
0021    MOV      2   0
0022    CALL     1   2   2
0023    MOV      0   1
0024    TNEW     1   0
0025    UGET     2   2      ; recursive_find
0026    MOV      3   0
0027    KSTR     4   5      ; ""
0028    MOV      5   1
0029    CALL     2   1   4
0030    RET1     1   2

-- BYTECODE -- lua.lua:588-592
0001    GGET     1   0      ; "assert"
0002    MOV      2   0
0003    CALL     1   1   2
0004    UGET     1   0      ; dir
0005    TGETS    1   1   1  ; "normalize"
0006    MOV      2   0
0007    CALL     1   2   2
0008    MOV      0   1
0009    GGET     1   2      ; "type"
0010    UGET     2   1      ; lfs
0011    TGETS    2   2   3  ; "attributes"
0012    MOV      3   0
0013    CALL     2   0   2
0014    CALLM    1   2   0
0015    ISEQS    1   4      ; "table"
0016    JMP      1 => 0019
0017    KPRI     1   1
0018    JMP      2 => 0020
0019 => KPRI     1   2
0020 => RET1     1   2

-- BYTECODE -- lua.lua:597-601
0001    GGET     1   0      ; "assert"
0002    MOV      2   0
0003    CALL     1   1   2
0004    UGET     1   0      ; dir
0005    TGETS    1   1   1  ; "normalize"
0006    MOV      2   0
0007    CALL     1   2   2
0008    MOV      0   1
0009    UGET     1   1      ; lfs
0010    TGETS    1   1   2  ; "attributes"
0011    MOV      2   0
0012    KSTR     3   3      ; "mode"
0013    CALL     1   2   3
0014    ISEQS    1   4      ; "directory"
0015    JMP      1 => 0018
0016    KPRI     1   1
0017    JMP      2 => 0019
0018 => KPRI     1   2
0019 => RET1     1   2

-- BYTECODE -- lua.lua:606-610
0001    GGET     1   0      ; "assert"
0002    MOV      2   0
0003    CALL     1   1   2
0004    UGET     1   0      ; dir
0005    TGETS    1   1   1  ; "normalize"
0006    MOV      2   0
0007    CALL     1   2   2
0008    MOV      0   1
0009    UGET     1   1      ; lfs
0010    TGETS    1   1   2  ; "attributes"
0011    MOV      2   0
0012    KSTR     3   3      ; "mode"
0013    CALL     1   2   3
0014    ISEQS    1   4      ; "file"
0015    JMP      1 => 0018
0016    KPRI     1   1
0017    JMP      2 => 0019
0018 => KPRI     1   2
0019 => RET1     1   2

-- BYTECODE -- lua.lua:617-624
0001    GGET     2   0      ; "assert"
0002    ISEQP    1   0
0003    JMP      3 => 0016
0004    GGET     3   1      ; "type"
0005    MOV      4   1
0006    CALL     3   2   2
0007    ISEQS    3   2      ; "table"
0008    JMP      3 => 0016
0009    GGET     3   1      ; "type"
0010    MOV      4   1
0011    CALL     3   2   2
0012    ISEQS    3   3      ; "number"
0013    JMP      3 => 0016
0014    KPRI     3   1
0015    JMP      4 => 0017
0016 => KPRI     3   2
0017 => CALL     2   1   2
0018    UGET     2   0      ; dir
0019    TGETS    2   2   4  ; "normalize"
0020    MOV      3   0
0021    CALL     2   2   2
0022    MOV      0   2
0023    GGET     2   1      ; "type"
0024    MOV      3   1
0025    CALL     2   2   2
0026    ISNES    2   2      ; "table"
0027    JMP      2 => 0033
0028    GGET     2   5      ; "os"
0029    TGETS    2   2   6  ; "time"
0030    MOV      3   1
0031    CALL     2   2   2
0032    MOV      1   2
0033 => UGET     2   1      ; lfs
0034    TGETS    2   2   7  ; "touch"
0035    MOV      3   0
0036    MOV      4   1
0037    CALLT    2   3

-- BYTECODE -- lua.lua:628-633
0001    GGET     1   0      ; "assert"
0002    MOV      2   0
0003    CALL     1   1   2
0004    UGET     1   0      ; dir
0005    TGETS    1   1   1  ; "normalize"
0006    UGET     2   1      ; fs
0007    TGETS    2   2   2  ; "absolute_name"
0008    MOV      3   0
0009    CALL     2   0   2
0010    CALLM    1   2   0
0011    MOV      0   1
0012    UGET     1   2      ; util
0013    TGETS    1   1   3  ; "exists"
0014    MOV      2   0
0015    CALLT    1   2

-- BYTECODE -- lua.lua:643-651
0001    UGET     1   0      ; bz2
0002    TGETS    1   1   0  ; "initDecompress"
0003    CALL     1   2   1
0004    MOV      3   1
0005    TGETS    2   1   1  ; "update"
0006    MOV      4   0
0007    CALL     2   3   3
0008    IST          2
0009    JMP      4 => 0013
0010    KPRI     4   0
0011    MOV      5   3
0012    RET      4   3
0013 => MOV      5   1
0014    TGETS    4   1   2  ; "close"
0015    CALL     4   1   2
0016    RET1     2   2

-- BYTECODE -- lua.lua:658-666
0001    GGET     2   0      ; "assert"
0002    GGET     3   1      ; "type"
0003    MOV      4   0
0004    CALL     3   2   2
0005    ISEQS    3   2      ; "string"
0006    JMP      3 => 0009
0007    KPRI     3   1
0008    JMP      4 => 0010
0009 => KPRI     3   2
0010 => CALL     2   1   2
0011    GGET     2   0      ; "assert"
0012    ISEQP    1   0
0013    JMP      3 => 0021
0014    GGET     3   1      ; "type"
0015    MOV      4   1
0016    CALL     3   2   2
0017    ISEQS    3   2      ; "string"
0018    JMP      3 => 0021
0019    KPRI     3   1
0020    JMP      4 => 0022
0021 => KPRI     3   2
0022 => CALL     2   1   2
0023    IST          1
0024    JMP      2 => 0031
0025    MOV      3   0
0026    TGETS    2   0   3  ; "gsub"
0027    KSTR     4   4      ; "%.bz2$"
0028    KSTR     5   5      ; ""
0029    CALL     2   2   4
0030    MOV      1   2
0031 => UGET     2   0      ; fs
0032    TGETS    2   2   6  ; "filter_file"
0033    UGET     3   1      ; bunzip2_string
0034    MOV      4   0
0035    MOV      5   1
0036    CALLT    2   4

-- BYTECODE -- lua.lua:676-678
0001    UGET     1   0      ; zip
0002    TGETS    1   1   0  ; "zip"
0003    MOV      2   0
0004    VARG     3   0   1
0005    CALLMT   1   1

-- BYTECODE -- lua.lua:680-682
0001    UGET     1   0      ; zip
0002    TGETS    1   1   0  ; "unzip"
0003    MOV      2   0
0004    CALLT    1   2

-- BYTECODE -- lua.lua:684-686
0001    UGET     2   0      ; zip
0002    TGETS    2   2   0  ; "gunzip"
0003    MOV      3   0
0004    MOV      4   1
0005    CALLT    2   3

-- BYTECODE -- lua.lua:731-740
0001    GGET     0   0      ; "io"
0002    TGETS    0   0   1  ; "write"
0003    KSTR     1   2      ; "."
0004    CALL     0   1   2
0005    GGET     0   0      ; "io"
0006    TGETS    0   0   3  ; "flush"
0007    CALL     0   1   1
0008    UGET     0   0      ; dots
0009    ADDVN    0   0   0  ; 1
0010    USETV    0   0      ; dots
0011    UGET     0   0      ; dots
0012    ISNEN    0   1      ; 70
0013    JMP      0 => 0019
0014    GGET     0   0      ; "io"
0015    TGETS    0   0   1  ; "write"
0016    KSTR     1   4      ; "\n"
0017    CALL     0   1   2
0018    USETN    0   2      ; dots ; 0
0019 => UGET     0   1      ; ltn12
0020    TGETS    0   0   5  ; "pump"
0021    TGETS    0   0   6  ; "step"
0022    VARG     1   0   0
0023    CALLMT   0   0

-- BYTECODE -- lua.lua:704-772
0001    TNEW     4   0
0002    UGET     5   0      ; cfg
0003    TGETS    5   5   0  ; "verbose"
0004    ISF          5
0005    JMP      6 => 0010
0006    GGET     5   1      ; "print"
0007    MOV      6   1
0008    MOV      7   0
0009    CALL     5   1   3
0010 => GGET     5   2      ; "os"
0011    TGETS    5   5   3  ; "getenv"
0012    KSTR     6   4      ; "http_proxy"
0013    CALL     5   2   2
0014    GGET     6   5      ; "type"
0015    MOV      7   5
0016    CALL     6   2   2
0017    ISEQS    6   6      ; "string"
0018    JMP      6 => 0020
0019    KPRI     5   0
0020 => ISF          5
0021    JMP      6 => 0031
0022    MOV      7   5
0023    TGETS    6   5   7  ; "find"
0024    KSTR     8   8      ; "://"
0025    CALL     6   2   3
0026    IST          6
0027    JMP      6 => 0031
0028    KSTR     6   9      ; "http://"
0029    MOV      7   5
0030    CAT      5   6   7
0031 => UGET     6   0      ; cfg
0032    TGETS    6   6  10  ; "show_downloads"
0033    ISF          6
0034    JMP      7 => 0043
0035    GGET     6  11      ; "io"
0036    TGETS    6   6  12  ; "write"
0037    MOV      7   1
0038    KSTR     8  13      ; " "
0039    MOV      9   0
0040    KSTR    10  14      ; " ...\n"
0041    CAT      7   7  10
0042    CALL     6   1   2
0043 => KSHORT   6   0
0044    UGET     7   0      ; cfg
0045    TGETS    7   7  15  ; "connection_timeout"
0046    ISF          7
0047    JMP      8 => 0056
0048    UGET     7   0      ; cfg
0049    TGETS    7   7  15  ; "connection_timeout"
0050    KSHORT   8   0
0051    ISGE     8   7
0052    JMP      7 => 0056
0053    UGET     7   0      ; cfg
0054    TGETS    7   7  15  ; "connection_timeout"
0055    TSETS    7   2  16  ; "TIMEOUT"
0056 => TGETS    7   2  17  ; "request"
0057    TDUP     8  18
0058    TSETS    0   8  19  ; "url"
0059    TSETS    5   8  20  ; "proxy"
0060    TSETS    1   8  21  ; "method"
0061    UGET     9   1      ; ltn12
0062    TGETS    9   9  22  ; "sink"
0063    TGETS    9   9  23  ; "table"
0064    MOV     10   4
0065    CALL     9   2   2
0066    TSETS    9   8  22  ; "sink"
0067    UGET     9   0      ; cfg
0068    TGETS    9   9  10  ; "show_downloads"
0069    ISF          9
0070    JMP     10 => 0072
0071    FNEW     9  24      ; lua.lua:731
0072 => TSETS    9   8  25  ; "step"
0073    TDUP     9  28
0074    UGET    10   0      ; cfg
0075    TGETS   10  10  26  ; "user_agent"
0076    KSTR    11  27      ; " via LuaSocket"
0077    CAT     10  10  11
0078    TSETS   10   9  29  ; "user-agent"
0079    TSETS    9   8  30  ; "headers"
0080    CALL     7   5   2
0081    UGET    11   0      ; cfg
0082    TGETS   11  11  10  ; "show_downloads"
0083    ISF         11
0084    JMP     12 => 0089
0085    GGET    11  11      ; "io"
0086    TGETS   11  11  12  ; "write"
0087    KSTR    12  31      ; "\n"
0088    CALL    11   1   2
0089 => IST          7
0090    JMP     11 => 0096
0091    KPRI    11   0
0092    MOV     12   8
0093    UCLO     0 => 0094
0094 => RET     11   3
0095    JMP     11 => 0156
0096 => ISEQN    8   0      ; 301
0097    JMP     11 => 0100
0098    ISNEN    8   1      ; 302
0099    JMP     11 => 0143
0100 => TGETS   11   9  32  ; "location"
0101    ISF         11
0102    JMP     12 => 0138
0103    UGET    12   2      ; dir
0104    TGETS   12  12  33  ; "split_url"
0105    MOV     13  11
0106    CALL    12   3   2
0107    UGET    14   3      ; redirect_protocols
0108    TGETV   14  14  12
0109    ISF         14
0110    JMP     15 => 0133
0111    IST          3
0112    JMP     14 => 0115
0113    TNEW     3   0
0114    JMP     14 => 0122
0115 => TGETV   14   3  11
0116    ISF         14
0117    JMP     15 => 0122
0118    KPRI    14   0
0119    KSTR    15  34      ; "Redirection loop -- broken URL?"
0120    UCLO     0 => 0121
0121 => RET     14   3
0122 => KPRI    14   2
0123    TSETV   14   3   0
0124    UGET    14   4      ; request
0125    MOV     15  11
0126    MOV     16   1
0127    UGET    17   3      ; redirect_protocols
0128    TGETV   17  17  12
0129    MOV     18   3
0130    UCLO     0 => 0131
0131 => CALLT   14   5
0132    JMP     14 => 0138
0133 => KPRI    14   0
0134    KSTR    15  35      ; "URL redirected to unsupported protocol -"~
0135    KSTR    16  36      ; "https"
0136    UCLO     0 => 0137
0137 => RET     14   4
0138 => KPRI    12   0
0139    MOV     13  10
0140    UCLO     0 => 0141
0141 => RET     12   3
0142    JMP     11 => 0156
0143 => ISEQN    8   2      ; 200
0144    JMP     11 => 0150
0145    KPRI    11   0
0146    MOV     12  10
0147    UCLO     0 => 0148
0148 => RET     11   3
0149    JMP     11 => 0156
0150 => MOV     11   4
0151    MOV     12   8
0152    MOV     13   9
0153    MOV     14  10
0154    UCLO     0 => 0155
0155 => RET     11   5
0156 => UCLO     0 => 0157
0157 => RET0     0   1

-- BYTECODE -- lua.lua:774-780
0001    GGET     2   0      ; "io"
0002    TGETS    2   2   1  ; "open"
0003    MOV      3   0
0004    KSTR     4   2      ; "w"
0005    CALL     2   2   3
0006    ISF          2
0007    JMP      3 => 0015
0008    MOV      4   2
0009    TGETS    3   2   3  ; "write"
0010    MOV      5   1
0011    CALL     3   1   3
0012    MOV      4   2
0013    TGETS    3   2   4  ; "close"
0014    CALL     3   1   2
0015 => RET0     0   1

-- BYTECODE -- lua.lua:782-789
0001    GGET     1   0      ; "io"
0002    TGETS    1   1   1  ; "open"
0003    MOV      2   0
0004    KSTR     3   2      ; "r"
0005    CALL     1   2   3
0006    ISF          1
0007    JMP      2 => 0016
0008    MOV      3   1
0009    TGETS    2   1   3  ; "read"
0010    KSTR     4   4      ; "*a"
0011    CALL     2   2   3
0012    MOV      4   1
0013    TGETS    3   1   5  ; "close"
0014    CALL     3   1   2
0015    RET1     2   2
0016 => RET0     0   1

-- BYTECODE -- lua.lua:791-795
0001    UGET     3   0      ; write_timestamp
0002    MOV      4   0
0003    KSTR     5   0      ; ".unixtime"
0004    CAT      4   4   5
0005    GGET     5   1      ; "os"
0006    TGETS    5   5   2  ; "time"
0007    CALL     5   0   1
0008    CALLM    3   1   1
0009    UGET     3   0      ; write_timestamp
0010    MOV      4   0
0011    KSTR     5   3      ; ".status"
0012    CAT      4   4   5
0013    MOV      5   1
0014    CALL     3   1   3
0015    KPRI     3   0
0016    MOV      4   1
0017    MOV      5   2
0018    RET      3   4

-- BYTECODE -- lua.lua:804-850
0001    ISF          3
0002    JMP      4 => 0079
0003    UGET     4   0      ; read_timestamp
0004    MOV      5   1
0005    KSTR     6   0      ; ".status"
0006    CAT      5   5   6
0007    CALL     4   2   2
0008    UGET     5   0      ; read_timestamp
0009    MOV      6   1
0010    KSTR     7   1      ; ".timestamp"
0011    CAT      6   6   7
0012    CALL     5   2   2
0013    IST          4
0014    JMP      6 => 0017
0015    ISF          5
0016    JMP      6 => 0079
0017 => UGET     6   0      ; read_timestamp
0018    MOV      7   1
0019    KSTR     8   2      ; ".unixtime"
0020    CAT      7   7   8
0021    CALL     6   2   2
0022    ISF          6
0023    JMP      7 => 0050
0024    GGET     7   3      ; "os"
0025    TGETS    7   7   4  ; "time"
0026    CALL     7   2   1
0027    GGET     8   5      ; "tonumber"
0028    MOV      9   6
0029    CALL     8   2   2
0030    SUBVV    7   7   8
0031    ISF          4
0032    JMP      8 => 0042
0033    UGET     8   1      ; cfg
0034    TGETS    8   8   6  ; "cache_fail_timeout"
0035    ISGE     7   8
0036    JMP      8 => 0050
0037    KPRI     8   0
0038    MOV      9   4
0039    TNEW    10   0
0040    RET      8   4
0041    JMP      8 => 0050
0042 => UGET     8   1      ; cfg
0043    TGETS    8   8   7  ; "cache_timeout"
0044    ISGE     7   8
0045    JMP      8 => 0050
0046    KPRI     8   2
0047    KNIL     9  10
0048    KPRI    11   2
0049    RET      8   5
0050 => UGET     7   2      ; request
0051    MOV      8   0
0052    KSTR     9   8      ; "HEAD"
0053    MOV     10   2
0054    CALL     7   5   4
0055    IST          7
0056    JMP     11 => 0062
0057    UGET    11   3      ; fail_with_status
0058    MOV     12   1
0059    MOV     13   8
0060    MOV     14   9
0061    CALLT   11   4
0062 => ISNEN    8   0      ; 200
0063    JMP     11 => 0079
0064    TGETS   11   9   9  ; "last-modified"
0065    ISNEV   11   5
0066    JMP     11 => 0079
0067    UGET    11   4      ; write_timestamp
0068    MOV     12   1
0069    KSTR    13   2      ; ".unixtime"
0070    CAT     12  12  13
0071    GGET    13   3      ; "os"
0072    TGETS   13  13   4  ; "time"
0073    CALL    13   0   1
0074    CALLM   11   1   1
0075    KPRI    11   2
0076    KNIL    12  13
0077    KPRI    14   2
0078    RET     11   5
0079 => UGET     4   2      ; request
0080    MOV      5   0
0081    KSTR     6  10      ; "GET"
0082    MOV      7   2
0083    CALL     4   5   4
0084    IST          4
0085    JMP      8 => 0093
0086    ISF          5
0087    JMP      8 => 0093
0088    UGET     8   3      ; fail_with_status
0089    MOV      9   1
0090    MOV     10   5
0091    MOV     11   6
0092    CALLT    8   4
0093 => ISF          3
0094    JMP      8 => 0112
0095    TGETS    8   6   9  ; "last-modified"
0096    ISF          8
0097    JMP      9 => 0112
0098    UGET     8   4      ; write_timestamp
0099    MOV      9   1
0100    KSTR    10   1      ; ".timestamp"
0101    CAT      9   9  10
0102    TGETS   10   6   9  ; "last-modified"
0103    CALL     8   1   3
0104    UGET     8   4      ; write_timestamp
0105    MOV      9   1
0106    KSTR    10   2      ; ".unixtime"
0107    CAT      9   9  10
0108    GGET    10   3      ; "os"
0109    TGETS   10  10   4  ; "time"
0110    CALL    10   0   1
0111    CALLM    8   1   1
0112 => GGET     8  11      ; "io"
0113    TGETS    8   8  12  ; "open"
0114    MOV      9   1
0115    KSTR    10  13      ; "wb"
0116    CALL     8   2   3
0117    IST          8
0118    JMP      9 => 0123
0119    KPRI     9   0
0120    KSHORT  10   0
0121    TNEW    11   0
0122    RET      9   4
0123 => GGET     9  14      ; "ipairs"
0124    MOV     10   4
0125    CALL     9   4   2
0126    JMP     12 => 0131
0127 => MOV     15   8
0128    TGETS   14   8  15  ; "write"
0129    MOV     16  13
0130    CALL    14   1   3
0131 => ITERC   12   3   3
0132    ITERL   12 => 0127
0133    MOV     10   8
0134    TGETS    9   8  16  ; "close"
0135    CALL     9   1   2
0136    KPRI     9   2
0137    RET1     9   2

-- BYTECODE -- lua.lua:852-862
0001    UGET     2   0      ; ftp
0002    TGETS    2   2   0  ; "get"
0003    MOV      3   0
0004    CALL     2   3   2
0005    IST          2
0006    JMP      4 => 0010
0007    KPRI     4   1
0008    MOV      5   3
0009    RET      4   3
0010 => GGET     4   1      ; "io"
0011    TGETS    4   4   2  ; "open"
0012    MOV      5   1
0013    KSTR     6   3      ; "wb"
0014    CALL     4   2   3
0015    IST          4
0016    JMP      5 => 0020
0017    KPRI     5   1
0018    MOV      6   3
0019    RET      5   3
0020 => MOV      6   4
0021    TGETS    5   4   4  ; "write"
0022    MOV      7   2
0023    CALL     5   1   3
0024    MOV      6   4
0025    TGETS    5   4   5  ; "close"
0026    CALL     5   1   2
0027    KPRI     5   2
0028    RET1     5   2

-- BYTECODE -- lua.lua:880-918
0001    GGET     3   0      ; "assert"
0002    GGET     4   1      ; "type"
0003    MOV      5   0
0004    CALL     4   2   2
0005    ISEQS    4   2      ; "string"
0006    JMP      4 => 0009
0007    KPRI     4   1
0008    JMP      5 => 0010
0009 => KPRI     4   2
0010 => CALL     3   1   2
0011    GGET     3   0      ; "assert"
0012    GGET     4   1      ; "type"
0013    MOV      5   1
0014    CALL     4   2   2
0015    ISEQS    4   2      ; "string"
0016    JMP      4 => 0021
0017    NOT      4   1
0018    JMP      5 => 0022
0019    KPRI     4   1
0020    JMP      5 => 0022
0021 => KPRI     4   2
0022 => CALL     3   1   2
0023    UGET     3   0      ; fs
0024    TGETS    3   3   3  ; "absolute_name"
0025    ISTC     4   1
0026    JMP      4 => 0031
0027    UGET     4   1      ; dir
0028    TGETS    4   4   4  ; "base_name"
0029    MOV      5   0
0030    CALL     4   2   2
0031 => CALL     3   2   2
0032    MOV      1   3
0033    GGET     3   5      ; "os"
0034    TGETS    3   3   6  ; "getenv"
0035    KSTR     4   7      ; "no_proxy"
0036    CALL     3   2   2
0037    ISF          3
0038    JMP      4 => 0045
0039    UGET     3   0      ; fs
0040    TGETS    3   3   8  ; "use_downloader"
0041    MOV      4   0
0042    MOV      5   1
0043    MOV      6   2
0044    CALLT    3   4
0045 => KNIL     3   6
0046    UGET     7   2      ; util
0047    TGETS    7   7   9  ; "starts_with"
0048    MOV      8   0
0049    KSTR     9  10      ; "http:"
0050    CALL     7   2   3
0051    ISF          7
0052    JMP      8 => 0064
0053    UGET     7   3      ; http_request
0054    MOV      8   0
0055    MOV      9   1
0056    UGET    10   4      ; http
0057    MOV     11   2
0058    CALL     7   5   5
0059    MOV      6  10
0060    MOV      5   9
0061    MOV      4   8
0062    MOV      3   7
0063    JMP      7 => 0109
0064 => UGET     7   2      ; util
0065    TGETS    7   7   9  ; "starts_with"
0066    MOV      8   0
0067    KSTR     9  11      ; "ftp:"
0068    CALL     7   2   3
0069    ISF          7
0070    JMP      8 => 0078
0071    UGET     7   5      ; ftp_request
0072    MOV      8   0
0073    MOV      9   1
0074    CALL     7   3   3
0075    MOV      4   8
0076    MOV      3   7
0077    JMP      7 => 0109
0078 => UGET     7   2      ; util
0079    TGETS    7   7   9  ; "starts_with"
0080    MOV      8   0
0081    KSTR     9  12      ; "https:"
0082    CALL     7   2   3
0083    ISF          7
0084    JMP      8 => 0108
0085    UGET     7   6      ; luasec_ok
0086    ISF          7
0087    JMP      8 => 0106
0088    GGET     7   5      ; "os"
0089    TGETS    7   7   6  ; "getenv"
0090    KSTR     8  13      ; "https_proxy"
0091    CALL     7   2   2
0092    IST          7
0093    JMP      7 => 0106
0094    KPRI     7   0
0095    UGET     8   3      ; http_request
0096    MOV      9   0
0097    MOV     10   1
0098    UGET    11   7      ; https
0099    MOV     12   2
0100    CALL     8   5   5
0101    MOV      6  11
0102    MOV      7  10
0103    MOV      4   9
0104    MOV      3   8
0105    JMP      7 => 0109
0106 => KPRI     5   2
0107    JMP      7 => 0109
0108 => KSTR     4  14      ; "Unsupported protocol"
0109 => ISF          5
0110    JMP      7 => 0133
0111    UGET     7   8      ; downloader_warning
0112    IST          7
0113    JMP      7 => 0126
0114    UGET     7   0      ; fs
0115    TGETS    7   7  15  ; "which_tool"
0116    KSTR     8  16      ; "downloader"
0117    CALL     7   2   2
0118    UGET     8   2      ; util
0119    TGETS    8   8  17  ; "warning"
0120    KSTR     9  18      ; "falling back to "
0121    MOV     10   7
0122    KSTR    11  19      ; " - install luasec to get native HTTPS su"~
0123    CAT      9   9  11
0124    CALL     8   1   2
0125    USETP    8   2      ; downloader_warning
0126 => UGET     7   0      ; fs
0127    TGETS    7   7   8  ; "use_downloader"
0128    MOV      8   0
0129    MOV      9   1
0130    MOV     10   2
0131    CALLT    7   4
0132    JMP      7 => 0138
0133 => IST          3
0134    JMP      7 => 0138
0135    KPRI     7   0
0136    MOV      8   4
0137    RET      7   3
0138 => KPRI     7   2
0139    MOV      8   1
0140    MOV      9   6
0141    RET      7   4

-- BYTECODE -- lua.lua:922-924
0001    UGET     3   0      ; fs
0002    TGETS    3   3   0  ; "use_downloader"
0003    MOV      4   0
0004    MOV      5   1
0005    MOV      6   2
0006    CALLT    3   4

-- BYTECODE -- lua.lua:936-938
0001    UGET     1   0      ; md5
0002    TGETS    1   1   0  ; "digest"
0003    MOV      2   0
0004    CALLT    1   2

-- BYTECODE -- lua.lua:946-954
0001    UGET     1   0      ; fs
0002    TGETS    1   1   0  ; "absolute_name"
0003    MOV      2   0
0004    CALL     1   2   2
0005    MOV      0   1
0006    GGET     1   1      ; "io"
0007    TGETS    1   1   2  ; "open"
0008    MOV      2   0
0009    KSTR     3   3      ; "rb"
0010    CALL     1   2   3
0011    IST          1
0012    JMP      2 => 0018
0013    KPRI     2   0
0014    KSTR     3   4      ; "Failed to open file for reading: "
0015    MOV      4   0
0016    CAT      3   3   4
0017    RET      2   3
0018 => UGET     2   1      ; md5
0019    TGETS    2   2   5  ; "sumhexa"
0020    MOV      4   1
0021    TGETS    3   1   6  ; "read"
0022    KSTR     5   7      ; "*a"
0023    CALL     3   0   3
0024    CALLM    2   2   0
0025    MOV      4   1
0026    TGETS    3   1   8  ; "close"
0027    CALL     3   1   2
0028    ISF          2
0029    JMP      3 => 0031
0030    RET1     2   2
0031 => KPRI     3   0
0032    KSTR     4   9      ; "Failed to compute MD5 hash for file "
0033    MOV      5   0
0034    CAT      4   4   5
0035    RET      3   3

-- BYTECODE -- lua.lua:963-973
0001    KSHORT   2   0
0002    IST          1
0003    JMP      3 => 0005
0004    KPRI     1   1
0005 => KSHORT   3   1
0006    KSHORT   4   9
0007    KSHORT   5   1
0008    FORI     3 => 0026
0009 => MOV      8   0
0010    TGETS    7   0   0  ; "sub"
0011    SUBNV    9   6   0  ; 10
0012    SUBNV   10   6   0  ; 10
0013    CALL     7   2   4
0014    ISEQS    7   1      ; "-"
0015    JMP      7 => 0018
0016    KPRI     7   1
0017    JMP      8 => 0019
0018 => KPRI     7   2
0019 => ISNEV    1   7
0020    JMP      8 => 0025
0021    SUBVN    8   6   1  ; 1
0022    KSHORT   9   2
0023    POW      8   9   8
0024    ADDVV    2   2   8
0025 => FORL     3 => 0009
0026 => GGET     3   2      ; "math"
0027    TGETS    3   3   3  ; "floor"
0028    MOV      4   2
0029    CALLT    3   2

-- BYTECODE -- lua.lua:990-999
0001    UGET     0   0      ; umask_cache
0002    ISF          0
0003    JMP      1 => 0006
0004    UGET     0   0      ; umask_cache
0005    RET1     0   2
0006 => UGET     0   1      ; posix
0007    TGETS    0   0   0  ; "umask"
0008    CALL     0   2   1
0009    UGET     1   2      ; fs_lua
0010    TGETS    1   1   1  ; "_unix_rwx_to_number"
0011    MOV      2   0
0012    KPRI     3   2
0013    CALL     1   2   3
0014    KSTR     2   2      ; "%03o"
0015    MOV      3   2
0016    TGETS    2   2   3  ; "format"
0017    MOV      4   1
0018    CALL     2   2   3
0019    USETV    0   2      ; umask_cache
0020    UGET     2   0      ; umask_cache
0021    RET1     2   2

-- BYTECODE -- lua.lua:1002-1024
0001    KPRI     3   0
0002    ISNES    1   0      ; "read"
0003    JMP      4 => 0012
0004    ISNES    2   1      ; "user"
0005    JMP      4 => 0012
0006    UGET     4   0      ; fs
0007    TGETS    4   4   2  ; "_unix_moderate_permissions"
0008    KSTR     5   3      ; "600"
0009    CALL     4   2   2
0010    MOV      3   4
0011    JMP      4 => 0049
0012 => ISNES    1   4      ; "exec"
0013    JMP      4 => 0022
0014    ISNES    2   1      ; "user"
0015    JMP      4 => 0022
0016    UGET     4   0      ; fs
0017    TGETS    4   4   2  ; "_unix_moderate_permissions"
0018    KSTR     5   5      ; "700"
0019    CALL     4   2   2
0020    MOV      3   4
0021    JMP      4 => 0049
0022 => ISNES    1   0      ; "read"
0023    JMP      4 => 0032
0024    ISNES    2   6      ; "all"
0025    JMP      4 => 0032
0026    UGET     4   0      ; fs
0027    TGETS    4   4   2  ; "_unix_moderate_permissions"
0028    KSTR     5   7      ; "644"
0029    CALL     4   2   2
0030    MOV      3   4
0031    JMP      4 => 0049
0032 => ISNES    1   4      ; "exec"
0033    JMP      4 => 0042
0034    ISNES    2   6      ; "all"
0035    JMP      4 => 0042
0036    UGET     4   0      ; fs
0037    TGETS    4   4   2  ; "_unix_moderate_permissions"
0038    KSTR     5   8      ; "755"
0039    CALL     4   2   2
0040    MOV      3   4
0041    JMP      4 => 0049
0042 => KPRI     4   1
0043    KSTR     5   9      ; "Invalid permission "
0044    MOV      6   1
0045    KSTR     7  10      ; " for "
0046    MOV      8   2
0047    CAT      5   5   8
0048    RET      4   3
0049 => TNEW     4   0
0050    MOV      6   3
0051    TGETS    5   3  11  ; "sub"
0052    KSHORT   7  -3
0053    CALL     5   2   3
0054    MOV      6   5
0055    TGETS    5   5  12  ; "gmatch"
0056    KSTR     7  13      ; "."
0057    CALL     5   4   3
0058    JMP      8 => 0065
0059 => GGET     9  14      ; "table"
0060    TGETS    9   9  15  ; "insert"
0061    MOV     10   4
0062    UGET    11   1      ; octal_to_rwx
0063    TGETV   11  11   8
0064    CALL     9   1   3
0065 => ITERC    8   2   3
0066    ITERL    8 => 0059
0067    GGET     5  14      ; "table"
0068    TGETS    5   5  16  ; "concat"
0069    MOV      6   4
0070    CALL     5   2   2
0071    MOV      3   5
0072    UGET     5   2      ; posix
0073    TGETS    5   5  17  ; "chmod"
0074    MOV      6   0
0075    MOV      7   3
0076    CALL     5   2   3
0077    ISEQN    5   0      ; 0
0078    JMP      6 => 0081
0079    KPRI     6   1
0080    JMP      7 => 0082
0081 => KPRI     6   2
0082 => RET1     6   2

-- BYTECODE -- lua.lua:1026-1028
0001    UGET     0   0      ; posix
0002    TGETS    0   0   0  ; "getpwuid"
0003    UGET     1   0      ; posix
0004    TGETS    1   1   1  ; "geteuid"
0005    CALL     1   0   1
0006    CALLM    0   2   0
0007    TGETS    0   0   2  ; "pw_name"
0008    RET1     0   2

-- BYTECODE -- lua.lua:1037-1042
0001    GGET     1   0      ; "assert"
0002    GGET     2   1      ; "type"
0003    MOV      3   0
0004    CALL     2   2   2
0005    ISEQS    2   2      ; "string"
0006    JMP      2 => 0009
0007    KPRI     2   1
0008    JMP      3 => 0010
0009 => KPRI     2   2
0010 => CALL     1   1   2
0011    UGET     1   0      ; dir
0012    TGETS    1   1   3  ; "normalize"
0013    MOV      2   0
0014    CALL     1   2   2
0015    MOV      0   1
0016    UGET     1   1      ; posix
0017    TGETS    1   1   4  ; "mkdtemp"
0018    UGET     2   2      ; fs
0019    TGETS    2   2   5  ; "system_temp_dir"
0020    CALL     2   2   1
0021    KSTR     3   6      ; "/luarocks_"
0022    MOV      5   0
0023    TGETS    4   0   7  ; "gsub"
0024    KSTR     6   8      ; "/"
0025    KSTR     7   9      ; "_"
0026    CALL     4   2   4
0027    KSTR     5  10      ; "-XXXXXX"
0028    CAT      2   2   5
0029    CALLT    1   2

-- BYTECODE -- lua.lua:1054-1066
0001    GGET     1   0      ; "assert"
0002    GGET     2   1      ; "type"
0003    MOV      3   0
0004    CALL     2   2   2
0005    ISEQS    2   2      ; "string"
0006    JMP      2 => 0009
0007    KPRI     2   1
0008    JMP      3 => 0010
0009 => KPRI     2   2
0010 => CALL     1   1   2
0011    UGET     1   0      ; dir
0012    TGETS    1   1   3  ; "normalize"
0013    MOV      2   0
0014    CALL     1   2   2
0015    MOV      0   1
0016    UGET     1   1      ; fs
0017    TGETS    1   1   4  ; "system_temp_dir"
0018    CALL     1   2   1
0019    KSTR     2   5      ; "/luarocks_"
0020    MOV      4   0
0021    TGETS    3   0   6  ; "gsub"
0022    KSTR     5   7      ; "/"
0023    KSTR     6   8      ; "_"
0024    CALL     3   2   4
0025    KSTR     4   9      ; "-"
0026    CAT      1   1   4
0027 => LOOP     2 => 0044
0028    MOV      2   1
0029    GGET     3  10      ; "tostring"
0030    GGET     4  11      ; "math"
0031    TGETS    4   4  12  ; "random"
0032    KNUM     5   0      ; 10000000
0033    CALL     4   0   2
0034    CALLM    3   2   0
0035    CAT      2   2   3
0036    UGET     3   2      ; lfs
0037    TGETS    3   3  13  ; "mkdir"
0038    MOV      4   2
0039    CALL     3   2   2
0040    ISF          3
0041    JMP      4 => 0027
0042    RET1     2   2
0043    JMP      2 => 0027
0044 => RET0     0   1

-- BYTECODE -- lua.lua:1074-1082
0001    UGET     3   0      ; patch
0002    TGETS    3   3   0  ; "read_patch"
0003    MOV      4   0
0004    MOV      5   1
0005    CALL     3   3   3
0006    IST          4
0007    JMP      5 => 0013
0008    KPRI     5   0
0009    KSTR     6   1      ; "Failed reading patch "
0010    MOV      7   0
0011    CAT      6   6   7
0012    RET      5   3
0013 => ISF          3
0014    JMP      5 => 0021
0015    UGET     5   0      ; patch
0016    TGETS    5   5   2  ; "apply_patch"
0017    MOV      6   3
0018    KSHORT   7   1
0019    MOV      8   2
0020    CALLT    5   4
0021 => RET0     0   1

-- BYTECODE -- lua.lua:1091-1105
0001    GGET     3   0      ; "assert"
0002    ISFC     4   0
0003    JMP      4 => 0005
0004    MOV      4   1
0005 => CALL     3   1   2
0006    UGET     3   0      ; fs
0007    TGETS    3   3   1  ; "exists"
0008    MOV      4   1
0009    CALL     3   2   2
0010    ISF          3
0011    JMP      4 => 0023
0012    UGET     3   0      ; fs
0013    TGETS    3   3   2  ; "is_dir"
0014    MOV      4   1
0015    CALL     3   2   2
0016    IST          3
0017    JMP      3 => 0023
0018    KPRI     3   1
0019    KSTR     4   3      ; "File already exists: "
0020    MOV      5   1
0021    CAT      4   4   5
0022    RET      3   3
0023 => UGET     3   0      ; fs
0024    TGETS    3   3   4  ; "copy"
0025    MOV      4   0
0026    MOV      5   1
0027    MOV      6   2
0028    CALL     3   3   4
0029    IST          3
0030    JMP      5 => 0034
0031    KPRI     5   1
0032    MOV      6   4
0033    RET      5   3
0034 => UGET     5   0      ; fs
0035    TGETS    5   5   5  ; "delete"
0036    MOV      6   0
0037    CALL     5   1   2
0038    UGET     5   0      ; fs
0039    TGETS    5   5   1  ; "exists"
0040    MOV      6   0
0041    CALL     5   2   2
0042    ISF          5
0043    JMP      6 => 0050
0044    KPRI     5   1
0045    KSTR     6   6      ; "Failed move: could not delete "
0046    MOV      7   0
0047    KSTR     8   7      ; " after copy."
0048    CAT      6   6   8
0049    RET      5   3
0050 => KPRI     5   2
0051    RET1     5   2

-- BYTECODE -- lua.lua:1112-1148
0001    KPRI     1   2
0002    KSTR     2   0      ; ""
0003    GGET     3   1      ; "ipairs"
0004    TNEW     4   5
0005    UGET     5   0      ; cfg
0006    TGETS    5   5   2  ; "rocks_dir"
0007    TSETB    5   4   1
0008    UGET     5   0      ; cfg
0009    TGETS    5   5   3  ; "deploy_lua_dir"
0010    TSETB    5   4   2
0011    UGET     5   0      ; cfg
0012    TGETS    5   5   4  ; "deploy_bin_dir"
0013    TSETB    5   4   3
0014    UGET     5   0      ; cfg
0015    TGETS    5   5   3  ; "deploy_lua_dir"
0016    TSETB    5   4   4
0017    CALL     3   4   2
0018    JMP      6 => 0071
0019 => UGET     8   1      ; fs
0020    TGETS    8   8   5  ; "exists"
0021    MOV      9   7
0022    CALL     8   2   2
0023    ISF          8
0024    JMP      9 => 0037
0025    UGET     8   1      ; fs
0026    TGETS    8   8   6  ; "is_writable"
0027    MOV      9   7
0028    CALL     8   2   2
0029    IST          8
0030    JMP      8 => 0071
0031    KPRI     1   1
0032    KSTR     8   7      ; "Your user does not have write permission"~
0033    MOV      9   7
0034    CAT      2   8   9
0035    JMP      3 => 0073
0036    JMP      8 => 0071
0037 => UGET     8   1      ; fs
0038    TGETS    8   8   8  ; "root_of"
0039    MOV      9   7
0040    CALL     8   2   2
0041    MOV      9   7
0042 => LOOP    10 => 0059
0043    UGET    10   2      ; dir
0044    TGETS   10  10   9  ; "dir_name"
0045    MOV     11   9
0046    CALL    10   2   2
0047    MOV      9  10
0048    ISNES    9   0      ; ""
0049    JMP     10 => 0051
0050    MOV      9   8
0051 => ISEQV    9   8
0052    JMP     10 => 0059
0053    UGET    10   1      ; fs
0054    TGETS   10  10   5  ; "exists"
0055    MOV     11   9
0056    CALL    10   2   2
0057    ISF         10
0058    JMP     11 => 0042
0059 => UGET    10   1      ; fs
0060    TGETS   10  10   6  ; "is_writable"
0061    MOV     11   9
0062    CALL    10   2   2
0063    IST         10
0064    JMP     10 => 0071
0065    KPRI     1   1
0066    MOV     10   7
0067    KSTR    11  10      ; " does not exist and your user does not h"~
0068    MOV     12   9
0069    CAT      2  10  12
0070    JMP      3 => 0073
0071 => ITERC    6   3   3
0072    ITERL    6 => 0019
0073 => ISF          1
0074    JMP      3 => 0078
0075    KPRI     3   2
0076    RET1     3   2
0077    JMP      3 => 0095
0078 => TGETS    3   0  11  ; "local"
0079    IST          3
0080    JMP      4 => 0085
0081    UGET     3   0      ; cfg
0082    TGETS    3   3  12  ; "local_by_default"
0083    ISF          3
0084    JMP      4 => 0089
0085 => MOV      3   2
0086    KSTR     4  13      ; " \n-- please check your permissions."
0087    CAT      2   3   4
0088    JMP      3 => 0092
0089 => MOV      3   2
0090    KSTR     4  14      ; " \n-- you may want to run as a privilege"~
0091    CAT      2   3   4
0092 => KPRI     3   0
0093    MOV      4   2
0094    RET      3   3
0095 => RET0     0   1

-- BYTECODE -- lua.lua:1155-1161
0001    MOV      2   0
0002    TGETS    1   0   0  ; "gsub"
0003    KSTR     3   1      ; "%\"
0004    KSTR     4   2      ; "/"
0005    CALL     1   2   4
0006    MOV      0   1
0007    UGET     1   0      ; fs
0008    TGETS    1   1   3  ; "Q"
0009    UGET     2   1      ; dir
0010    TGETS    2   2   4  ; "path"
0011    UGET     3   2      ; cfg
0012    TGETS    3   3   5  ; "variables"
0013    TGETS    3   3   6  ; "LUA_BINDIR"
0014    UGET     4   2      ; cfg
0015    TGETS    4   4   7  ; "lua_interpreter"
0016    CALL     2   0   3
0017    CALLM    1   2   0
0018    UGET     2   0      ; fs
0019    TGETS    2   2   8  ; "execute_string"
0020    MOV      3   1
0021    KSTR     4   9      ; " -e "if loadfile('"
0022    MOV      5   0
0023    KSTR     6  10      ; "') then os.exit(0) else os.exit(1) end""
0024    CAT      3   3   6
0025    CALL     2   2   2
0026    ISEQP    2   2
0027    JMP      3 => 0030
0028    KPRI     3   1
0029    JMP      4 => 0031
0030 => KPRI     3   2
0031 => RET1     3   2

-- BYTECODE -- lua.lua:1168-1203
0001    GGET     1   0      ; "assert"
0002    GGET     2   1      ; "type"
0003    MOV      3   0
0004    CALL     2   2   2
0005    ISEQS    2   2      ; "string"
0006    JMP      2 => 0009
0007    KPRI     2   1
0008    JMP      3 => 0010
0009 => KPRI     2   2
0010 => CALL     1   1   2
0011    KNIL     1   2
0012    UGET     3   0      ; fs
0013    TGETS    3   3   3  ; "absolute_name"
0014    MOV      4   0
0015    CALL     3   2   2
0016    MOV      0   3
0017    MOV      4   0
0018    TGETS    3   0   4  ; "match"
0019    KSTR     5   5      ; "%.tar%.gz$"
0020    CALL     3   2   3
0021    ISF          3
0022    JMP      4 => 0045
0023    MOV      4   0
0024    TGETS    3   0   6  ; "gsub"
0025    KSTR     5   7      ; "%.gz$"
0026    KSTR     6   8      ; ""
0027    CALL     3   2   4
0028    UGET     4   0      ; fs
0029    TGETS    4   4   9  ; "gunzip"
0030    MOV      5   0
0031    MOV      6   3
0032    CALL     4   3   3
0033    MOV      2   5
0034    MOV      1   4
0035    ISF          1
0036    JMP      4 => 0135
0037    UGET     4   1      ; tar
0038    TGETS    4   4  10  ; "untar"
0039    MOV      5   3
0040    KSTR     6  11      ; "."
0041    CALL     4   3   3
0042    MOV      2   5
0043    MOV      1   4
0044    JMP      3 => 0135
0045 => MOV      4   0
0046    TGETS    3   0   4  ; "match"
0047    KSTR     5  12      ; "%.tgz$"
0048    CALL     3   2   3
0049    ISF          3
0050    JMP      4 => 0073
0051    MOV      4   0
0052    TGETS    3   0   6  ; "gsub"
0053    KSTR     5  12      ; "%.tgz$"
0054    KSTR     6  13      ; ".tar"
0055    CALL     3   2   4
0056    UGET     4   0      ; fs
0057    TGETS    4   4   9  ; "gunzip"
0058    MOV      5   0
0059    MOV      6   3
0060    CALL     4   3   3
0061    MOV      2   5
0062    MOV      1   4
0063    ISF          1
0064    JMP      4 => 0135
0065    UGET     4   1      ; tar
0066    TGETS    4   4  10  ; "untar"
0067    MOV      5   3
0068    KSTR     6  11      ; "."
0069    CALL     4   3   3
0070    MOV      2   5
0071    MOV      1   4
0072    JMP      3 => 0135
0073 => MOV      4   0
0074    TGETS    3   0   4  ; "match"
0075    KSTR     5  14      ; "%.tar%.bz2$"
0076    CALL     3   2   3
0077    ISF          3
0078    JMP      4 => 0101
0079    MOV      4   0
0080    TGETS    3   0   6  ; "gsub"
0081    KSTR     5  15      ; "%.bz2$"
0082    KSTR     6   8      ; ""
0083    CALL     3   2   4
0084    UGET     4   0      ; fs
0085    TGETS    4   4  16  ; "bunzip2"
0086    MOV      5   0
0087    MOV      6   3
0088    CALL     4   3   3
0089    MOV      2   5
0090    MOV      1   4
0091    ISF          1
0092    JMP      4 => 0135
0093    UGET     4   1      ; tar
0094    TGETS    4   4  10  ; "untar"
0095    MOV      5   3
0096    KSTR     6  11      ; "."
0097    CALL     4   3   3
0098    MOV      2   5
0099    MOV      1   4
0100    JMP      3 => 0135
0101 => MOV      4   0
0102    TGETS    3   0   4  ; "match"
0103    KSTR     5  17      ; "%.zip$"
0104    CALL     3   2   3
0105    ISF          3
0106    JMP      4 => 0114
0107    UGET     3   0      ; fs
0108    TGETS    3   3  18  ; "unzip"
0109    MOV      4   0
0110    CALL     3   3   2
0111    MOV      2   4
0112    MOV      1   3
0113    JMP      3 => 0135
0114 => MOV      4   0
0115    TGETS    3   0   4  ; "match"
0116    KSTR     5  19      ; "%.lua$"
0117    CALL     3   2   3
0118    IST          3
0119    JMP      4 => 0126
0120    MOV      4   0
0121    TGETS    3   0   4  ; "match"
0122    KSTR     5  20      ; "%.c$"
0123    CALL     3   2   3
0124    ISF          3
0125    JMP      4 => 0129
0126 => KPRI     3   2
0127    RET1     3   2
0128    JMP      3 => 0135
0129 => KPRI     3   1
0130    KSTR     4  21      ; "Couldn't extract archive "
0131    MOV      5   0
0132    KSTR     6  22      ; ": unrecognized filename extension"
0133    CAT      4   4   6
0134    RET      3   3
0135 => IST          1
0136    JMP      3 => 0144
0137    KPRI     3   1
0138    KSTR     4  23      ; "Failed extracting "
0139    MOV      5   0
0140    KSTR     6  24      ; ": "
0141    MOV      7   2
0142    CAT      4   4   7
0143    RET      3   3
0144 => KPRI     3   2
0145    RET1     3   2

-- BYTECODE -- lua.lua:0-1206
0001    TNEW     0   0
0002    GGET     1   0      ; "require"
0003    KSTR     2   1      ; "luarocks.fs"
0004    CALL     1   2   2
0005    GGET     2   0      ; "require"
0006    KSTR     3   2      ; "luarocks.core.cfg"
0007    CALL     2   2   2
0008    GGET     3   0      ; "require"
0009    KSTR     4   3      ; "luarocks.dir"
0010    CALL     3   2   2
0011    GGET     4   0      ; "require"
0012    KSTR     5   4      ; "luarocks.util"
0013    CALL     4   2   2
0014    KNIL     5  18
0015    TGETS   19   2   5  ; "fs_use_modules"
0016    ISF         19
0017    JMP     20 => 0060
0018    GGET    19   6      ; "pcall"
0019    GGET    20   0      ; "require"
0020    KSTR    21   7      ; "socket.http"
0021    CALL    19   3   3
0022    MOV     12  20
0023    MOV      5  19
0024    GGET    19   6      ; "pcall"
0025    GGET    20   0      ; "require"
0026    KSTR    21   8      ; "socket.ftp"
0027    CALL    19   3   3
0028    MOV     13  20
0029    MOV     11  19
0030    GGET    19   6      ; "pcall"
0031    GGET    20   0      ; "require"
0032    KSTR    21   9      ; "luarocks.tools.zip"
0033    CALL    19   3   3
0034    MOV     14  20
0035    MOV      6  19
0036    GGET    19   6      ; "pcall"
0037    GGET    20   0      ; "require"
0038    KSTR    21  10      ; "bz2"
0039    CALL    19   3   3
0040    MOV     18  20
0041    MOV     10  19
0042    GGET    19   6      ; "pcall"
0043    GGET    20   0      ; "require"
0044    KSTR    21  11      ; "lfs"
0045    CALL    19   3   3
0046    MOV     15  20
0047    MOV      7  19
0048    GGET    19   6      ; "pcall"
0049    GGET    20   0      ; "require"
0050    KSTR    21  12      ; "md5"
0051    CALL    19   3   3
0052    MOV     16  20
0053    MOV      8  19
0054    GGET    19   6      ; "pcall"
0055    GGET    20   0      ; "require"
0056    KSTR    21  13      ; "posix"
0057    CALL    19   3   3
0058    MOV     17  20
0059    MOV      9  19
0060 => GGET    19   0      ; "require"
0061    KSTR    20  14      ; "luarocks.tools.patch"
0062    CALL    19   2   2
0063    GGET    20   0      ; "require"
0064    KSTR    21  15      ; "luarocks.tools.tar"
0065    CALL    20   2   2
0066    TNEW    21   0
0067    FNEW    22  17      ; lua.lua:37
0068    TSETS   22   0  16  ; "is_writable"
0069    FNEW    22  18      ; lua.lua:55
0070    FNEW    23  20      ; lua.lua:71
0071    TSETS   23   0  19  ; "execute"
0072    FNEW    23  22      ; lua.lua:84
0073    TSETS   23   0  21  ; "execute_quiet"
0074    FNEW    23  24      ; lua.lua:93
0075    TSETS   23   1  23  ; "execute_env"
0076    TNEW    23   0
0077    FNEW    24  26      ; lua.lua:104
0078    TSETS   24   0  25  ; "set_tool_available"
0079    FNEW    24  28      ; lua.lua:114
0080    TSETS   24   0  27  ; "is_tool_available"
0081    FNEW    24  30      ; lua.lua:143
0082    TSETS   24   0  29  ; "check_md5"
0083    FNEW    24  32      ; lua.lua:161
0084    TSETS   24   0  31  ; "list_dir"
0085    FNEW    24  34      ; lua.lua:174
0086    TSETS   24   0  33  ; "dir"
0087    FNEW    24  36      ; lua.lua:188
0088    TSETS   24   0  35  ; "modules"
0089    FNEW    24  38      ; lua.lua:230
0090    TSETS   24   0  37  ; "filter_file"
0091    FNEW    24  40      ; lua.lua:261
0092    TSETS   24   0  39  ; "system_temp_dir"
0093    ISF          7
0094    JMP     24 => 0134
0095    FNEW    24  42      ; lua.lua:276
0096    TSETS   24   0  41  ; "execute_string"
0097    FNEW    24  44      ; lua.lua:284
0098    TSETS   24   0  43  ; "current_dir"
0099    FNEW    24  46      ; lua.lua:293
0100    TSETS   24   0  45  ; "change_dir"
0101    FNEW    24  48      ; lua.lua:302
0102    TSETS   24   0  47  ; "change_dir_to_root"
0103    FNEW    24  50      ; lua.lua:314
0104    TSETS   24   0  49  ; "pop_dir"
0105    FNEW    24  52      ; lua.lua:329
0106    TSETS   24   0  51  ; "make_dir"
0107    FNEW    24  54      ; lua.lua:364
0108    TSETS   24   0  53  ; "remove_dir_if_empty"
0109    FNEW    24  56      ; lua.lua:374
0110    TSETS   24   0  55  ; "remove_dir_tree_if_empty"
0111    FNEW    24  57      ; lua.lua:383
0112    FNEW    25  59      ; lua.lua:404
0113    TSETS   25   0  58  ; "copy"
0114    FNEW    25  60      ; lua.lua:448
0115    FNEW    26  62      ; lua.lua:477
0116    TSETS   26   0  61  ; "copy_contents"
0117    FNEW    26  63      ; lua.lua:503
0118    FNEW    27  65      ; lua.lua:526
0119    TSETS   27   0  64  ; "delete"
0120    FNEW    27  67      ; lua.lua:535
0121    TSETS   27   0  66  ; "dir_iterator"
0122    FNEW    27  68      ; lua.lua:552
0123    FNEW    28  70      ; lua.lua:574
0124    TSETS   28   0  69  ; "find"
0125    FNEW    28  72      ; lua.lua:588
0126    TSETS   28   0  71  ; "exists"
0127    FNEW    28  74      ; lua.lua:597
0128    TSETS   28   0  73  ; "is_dir"
0129    FNEW    28  76      ; lua.lua:606
0130    TSETS   28   0  75  ; "is_file"
0131    FNEW    28  78      ; lua.lua:617
0132    TSETS   28   0  77  ; "set_time"
0133    UCLO    24 => 0136
0134 => FNEW    24  79      ; lua.lua:628
0135    TSETS   24   0  71  ; "exists"
0136 => ISF         10
0137    JMP     24 => 0142
0138    FNEW    24  80      ; lua.lua:643
0139    FNEW    25  82      ; lua.lua:658
0140    TSETS   25   0  81  ; "bunzip2"
0141    UCLO    24 => 0142
0142 => ISF          6
0143    JMP     24 => 0150
0144    FNEW    24  84      ; lua.lua:676
0145    TSETS   24   0  83  ; "zip"
0146    FNEW    24  86      ; lua.lua:680
0147    TSETS   24   0  85  ; "unzip"
0148    FNEW    24  88      ; lua.lua:684
0149    TSETS   24   0  87  ; "gunzip"
0150 => ISF          5
0151    JMP     24 => 0175
0152    GGET    24   0      ; "require"
0153    KSTR    25  89      ; "ltn12"
0154    CALL    24   2   2
0155    GGET    25   6      ; "pcall"
0156    GGET    26   0      ; "require"
0157    KSTR    27  90      ; "ssl.https"
0158    CALL    25   3   3
0159    TDUP    27  91
0160    TSETS   12  27  92  ; "http"
0161    ISFC    28  25
0162    JMP     28 => 0164
0163    MOV     28  26
0164 => TSETS   28  27  93  ; "https"
0165    FNEW    28  94      ; lua.lua:704
0166    FNEW    29  95      ; lua.lua:774
0167    FNEW    30  96      ; lua.lua:782
0168    FNEW    31  97      ; lua.lua:791
0169    FNEW    32  98      ; lua.lua:804
0170    FNEW    33  99      ; lua.lua:852
0171    KPRI    34   1
0172    FNEW    35 101      ; lua.lua:880
0173    TSETS   35   0 100  ; "download"
0174    UCLO    24 => 0177
0175 => FNEW    24 102      ; lua.lua:922
0176    TSETS   24   0 100  ; "download"
0177 => ISF          8
0178    JMP     24 => 0192
0179    TGETS   24  16 103  ; "sumhexa"
0180    IST         24
0181    JMP     24 => 0187
0182    TGETS   24  16 104  ; "digest"
0183    ISF         24
0184    JMP     25 => 0187
0185    FNEW    24 105      ; lua.lua:936
0186    TSETS   24  16 103  ; "sumhexa"
0187 => TGETS   24  16 103  ; "sumhexa"
0188    ISF         24
0189    JMP     25 => 0192
0190    FNEW    24 107      ; lua.lua:946
0191    TSETS   24   0 106  ; "get_md5"
0192 => FNEW    24 109      ; lua.lua:963
0193    TSETS   24   0 108  ; "_unix_rwx_to_number"
0194    ISF          9
0195    JMP     24 => 0211
0196    TDUP    24 110
0197    KPRI    25   0
0198    FNEW    26 112      ; lua.lua:990
0199    TSETS   26   0 111  ; "_unix_umask"
0200    UCLO    25 => 0201
0201 => FNEW    25 114      ; lua.lua:1002
0202    TSETS   25   0 113  ; "set_permissions"
0203    FNEW    25 116      ; lua.lua:1026
0204    TSETS   25   0 115  ; "current_user"
0205    TGETS   25  17 117  ; "mkdtemp"
0206    ISF         25
0207    JMP     26 => 0210
0208    FNEW    25 119      ; lua.lua:1037
0209    TSETS   25   0 118  ; "make_temp_dir"
0210 => UCLO    24 => 0211
0211 => ISF          7
0212    JMP     24 => 0218
0213    TGETS   24   0 118  ; "make_temp_dir"
0214    IST         24
0215    JMP     24 => 0218
0216    FNEW    24 120      ; lua.lua:1054
0217    TSETS   24   0 118  ; "make_temp_dir"
0218 => FNEW    24 122      ; lua.lua:1074
0219    TSETS   24   0 121  ; "apply_patch"
0220    FNEW    24 124      ; lua.lua:1091
0221    TSETS   24   0 123  ; "move"
0222    FNEW    24 126      ; lua.lua:1112
0223    TSETS   24   0 125  ; "check_command_permissions"
0224    FNEW    24 128      ; lua.lua:1155
0225    TSETS   24   0 127  ; "is_lua"
0226    FNEW    24 130      ; lua.lua:1168
0227    TSETS   24   0 129  ; "unpack_archive"
0228    UCLO     0 => 0229
0229 => RET1     0   2

