
main <./tools/zip.lua:0,0> (137 instructions, 548 bytes at 0x7fcab84068a0)
0+ params, 30 slots, 0 upvalues, 29 locals, 24 constants, 26 functions
	1	[4]	NEWTABLE 	0 0 0
	2	[6]	GETGLOBAL	1 -1	; require
	3	[6]	LOADK    	2 -2	; "zlib"
	4	[6]	CALL     	1 2 2
	5	[7]	GETGLOBAL	2 -1	; require
	6	[7]	LOADK    	3 -3	; "luarocks.fs"
	7	[7]	CALL     	2 2 2
	8	[8]	GETGLOBAL	3 -1	; require
	9	[8]	LOADK    	4 -4	; "luarocks.fun"
	10	[8]	CALL     	3 2 2
	11	[9]	GETGLOBAL	4 -1	; require
	12	[9]	LOADK    	5 -5	; "luarocks.dir"
	13	[9]	CALL     	4 2 2
	14	[11]	GETGLOBAL	5 -6	; pcall
	15	[11]	GETGLOBAL	6 -1	; require
	16	[11]	LOADK    	7 -7	; "posix.sys.stat"
	17	[11]	CALL     	5 3 3
	18	[15]	CLOSURE  	7 0	; 0x7fcab84070c0
	19	[19]	CLOSURE  	8 1	; 0x7fcab8406b80
	20	[22]	CLOSURE  	9 2	; 0x7fcab8407530
	21	[32]	CLOSURE  	10 3	; 0x7fcab8407740
	22	[36]	LOADNIL  	11 13
	23	[37]	GETTABLE 	14 1 -8	; "_VERSION"
	24	[37]	SELF     	14 14 -9	; "match"
	25	[37]	LOADK    	16 -10	; "^lua%-zlib"
	26	[37]	CALL     	14 3 2
	27	[37]	TEST     	14 0 0
	28	[37]	JMP      	9	; to 38
	29	[40]	CLOSURE  	11 4	; 0x7fcab8406c30
	30	[40]	MOVE     	0 1
	31	[38]	MOVE     	0 10
	32	[44]	CLOSURE  	12 5	; 0x7fcab8407d00
	33	[44]	MOVE     	0 1
	34	[42]	MOVE     	0 10
	35	[48]	CLOSURE  	13 6	; 0x7fcab8407040
	36	[46]	MOVE     	0 1
	37	[48]	JMP      	19	; to 57
	38	[49]	GETTABLE 	14 1 -8	; "_VERSION"
	39	[49]	SELF     	14 14 -9	; "match"
	40	[49]	LOADK    	16 -11	; "^lzlib"
	41	[49]	CALL     	14 3 2
	42	[49]	TEST     	14 0 0
	43	[49]	JMP      	9	; to 53
	44	[52]	CLOSURE  	11 7	; 0x7fcab8408520
	45	[52]	MOVE     	0 1
	46	[50]	MOVE     	0 10
	47	[56]	CLOSURE  	12 8	; 0x7fcab84088b0
	48	[56]	MOVE     	0 1
	49	[54]	MOVE     	0 10
	50	[60]	CLOSURE  	13 9	; 0x7fcab8408ee0
	51	[58]	MOVE     	0 1
	52	[60]	JMP      	4	; to 57
	53	[62]	GETGLOBAL	14 -12	; error
	54	[62]	LOADK    	15 -13	; "unknown zlib library"
	55	[62]	LOADK    	16 -14	; 0
	56	[62]	CALL     	14 3 1
	57	[73]	CLOSURE  	14 10	; 0x7fcab84091d0
	58	[82]	CLOSURE  	15 11	; 0x7fcab84081e0
	59	[82]	MOVE     	0 8
	60	[84]	MOVE     	16 14
	61	[84]	LOADK    	17 -15	; 67324752
	62	[84]	LOADK    	18 -16	; 4
	63	[84]	CALL     	16 3 2
	64	[85]	MOVE     	17 14
	65	[85]	LOADK    	18 -17	; 134695760
	66	[85]	LOADK    	19 -16	; 4
	67	[85]	CALL     	17 3 2
	68	[86]	MOVE     	18 14
	69	[86]	LOADK    	19 -18	; 33639248
	70	[86]	LOADK    	20 -16	; 4
	71	[86]	CALL     	18 3 2
	72	[87]	MOVE     	19 14
	73	[87]	LOADK    	20 -19	; 101010256
	74	[87]	LOADK    	21 -16	; 4
	75	[87]	CALL     	19 3 2
	76	[108]	CLOSURE  	20 12	; 0x7fcab8409770
	77	[108]	MOVE     	0 8
	78	[125]	CLOSURE  	21 13	; 0x7fcab84083a0
	79	[125]	MOVE     	0 11
	80	[125]	MOVE     	0 13
	81	[166]	CLOSURE  	22 14	; 0x7fcab8408b70
	82	[166]	MOVE     	0 16
	83	[166]	MOVE     	0 14
	84	[166]	MOVE     	0 17
	85	[204]	CLOSURE  	23 15	; 0x7fcab8409a10
	86	[204]	MOVE     	0 2
	87	[250]	CLOSURE  	24 16	; 0x7fcab840a3c0
	88	[250]	MOVE     	0 18
	89	[250]	MOVE     	0 14
	90	[250]	MOVE     	0 19
	91	[273]	CLOSURE  	25 17	; 0x7fcab8408e60
	92	[273]	MOVE     	0 2
	93	[273]	MOVE     	0 23
	94	[273]	MOVE     	0 24
	95	[273]	MOVE     	0 20
	96	[273]	MOVE     	0 21
	97	[273]	MOVE     	0 22
	98	[255]	SETTABLE 	0 -20 25	; "new_zipwriter" -
	99	[305]	CLOSURE  	25 18	; 0x7fcab840b130
	100	[305]	MOVE     	0 0
	101	[305]	MOVE     	0 2
	102	[305]	MOVE     	0 4
	103	[281]	SETTABLE 	0 -21 25	; "zip" -
	104	[322]	CLOSURE  	25 19	; 0x7fcab840aeb0
	105	[322]	MOVE     	0 7
	106	[322]	MOVE     	0 9
	107	[363]	CLOSURE  	26 20	; 0x7fcab840b6b0
	108	[363]	MOVE     	0 16
	109	[363]	MOVE     	0 15
	110	[363]	MOVE     	0 12
	111	[363]	MOVE     	0 13
	112	[397]	CLOSURE  	27 21	; 0x7fcab840c510
	113	[397]	MOVE     	0 19
	114	[397]	MOVE     	0 15
	115	[434]	CLOSURE  	28 22	; 0x7fcab840cc30
	116	[434]	MOVE     	0 18
	117	[434]	MOVE     	0 15
	118	[434]	MOVE     	0 25
	119	[509]	CLOSURE  	29 23	; 0x7fcab840d2a0
	120	[509]	MOVE     	0 2
	121	[509]	MOVE     	0 27
	122	[509]	MOVE     	0 28
	123	[509]	MOVE     	0 4
	124	[509]	MOVE     	0 26
	125	[440]	SETTABLE 	0 -22 29	; "unzip" -
	126	[521]	CLOSURE  	29 24	; 0x7fcab840dba0
	127	[521]	MOVE     	0 3
	128	[521]	MOVE     	0 11
	129	[521]	MOVE     	0 2
	130	[511]	SETTABLE 	0 -23 29	; "gzip" -
	131	[533]	CLOSURE  	29 25	; 0x7fcab840d7f0
	132	[533]	MOVE     	0 3
	133	[533]	MOVE     	0 12
	134	[533]	MOVE     	0 2
	135	[523]	SETTABLE 	0 -24 29	; "gunzip" -
	136	[535]	RETURN   	0 2
	137	[535]	RETURN   	0 1

function <./tools/zip.lua:13,15> (7 instructions, 28 bytes at 0x7fcab84070c0)
2 params, 4 slots, 0 upvalues, 2 locals, 3 constants, 0 functions
	1	[14]	GETGLOBAL	2 -1	; math
	2	[14]	GETTABLE 	2 2 -2	; "floor"
	3	[14]	POW      	3 -3 1	; 2 -
	4	[14]	DIV      	3 0 3
	5	[14]	TAILCALL 	2 2 0
	6	[14]	RETURN   	2 0
	7	[15]	RETURN   	0 1

function <./tools/zip.lua:17,19> (4 instructions, 16 bytes at 0x7fcab8406b80)
2 params, 3 slots, 0 upvalues, 2 locals, 1 constant, 0 functions
	1	[18]	POW      	2 -1 1	; 2 -
	2	[18]	MUL      	2 0 2
	3	[18]	RETURN   	2 2
	4	[19]	RETURN   	0 1

function <./tools/zip.lua:20,22> (4 instructions, 16 bytes at 0x7fcab8407530)
2 params, 3 slots, 0 upvalues, 2 locals, 1 constant, 0 functions
	1	[21]	POW      	2 -1 1	; 2 -
	2	[21]	MOD      	2 0 2
	3	[21]	RETURN   	2 2
	4	[22]	RETURN   	0 1

function <./tools/zip.lua:24,32> (15 instructions, 60 bytes at 0x7fcab8407740)
1 param, 2 slots, 0 upvalues, 1 local, 6 constants, 0 functions
	1	[25]	EQ       	0 0 -1	; - "gzip"
	2	[25]	JMP      	3	; to 6
	3	[26]	LOADK    	1 -2	; 31
	4	[26]	RETURN   	1 2
	5	[26]	JMP      	9	; to 15
	6	[27]	EQ       	0 0 -3	; - "zlib"
	7	[27]	JMP      	3	; to 11
	8	[28]	LOADK    	1 -4	; 0
	9	[28]	RETURN   	1 2
	10	[28]	JMP      	4	; to 15
	11	[29]	EQ       	0 0 -5	; - "raw"
	12	[29]	JMP      	2	; to 15
	13	[30]	LOADK    	1 -6	; -15
	14	[30]	RETURN   	1 2
	15	[32]	RETURN   	0 1

function <./tools/zip.lua:38,40> (12 instructions, 48 bytes at 0x7fcab8406c30)
2 params, 6 slots, 2 upvalues, 2 locals, 3 constants, 0 functions
	1	[39]	GETUPVAL 	2 0	; zlib
	2	[39]	GETTABLE 	2 2 -1	; "deflate"
	3	[39]	LOADK    	3 -2	; 6
	4	[39]	GETUPVAL 	4 1	; mode_to_windowbits
	5	[39]	MOVE     	5 1
	6	[39]	CALL     	4 2 0
	7	[39]	CALL     	2 0 2
	8	[39]	MOVE     	3 0
	9	[39]	LOADK    	4 -3	; "finish"
	10	[39]	CALL     	2 3 2
	11	[39]	RETURN   	2 2
	12	[40]	RETURN   	0 1

function <./tools/zip.lua:42,44> (10 instructions, 40 bytes at 0x7fcab8407d00)
2 params, 5 slots, 2 upvalues, 2 locals, 1 constant, 0 functions
	1	[43]	GETUPVAL 	2 0	; zlib
	2	[43]	GETTABLE 	2 2 -1	; "inflate"
	3	[43]	GETUPVAL 	3 1	; mode_to_windowbits
	4	[43]	MOVE     	4 1
	5	[43]	CALL     	3 2 0
	6	[43]	CALL     	2 0 2
	7	[43]	MOVE     	3 0
	8	[43]	CALL     	2 2 2
	9	[43]	RETURN   	2 2
	10	[44]	RETURN   	0 1

function <./tools/zip.lua:46,48> (7 instructions, 28 bytes at 0x7fcab8407040)
1 param, 3 slots, 1 upvalue, 1 local, 1 constant, 0 functions
	1	[47]	GETUPVAL 	1 0	; zlib
	2	[47]	GETTABLE 	1 1 -1	; "crc32"
	3	[47]	CALL     	1 1 2
	4	[47]	MOVE     	2 0
	5	[47]	TAILCALL 	1 2 0
	6	[47]	RETURN   	1 0
	7	[48]	RETURN   	0 1

function <./tools/zip.lua:50,52> (11 instructions, 44 bytes at 0x7fcab8408520)
2 params, 8 slots, 2 upvalues, 2 locals, 2 constants, 0 functions
	1	[51]	GETUPVAL 	2 0	; zlib
	2	[51]	GETTABLE 	2 2 -1	; "compress"
	3	[51]	MOVE     	3 0
	4	[51]	LOADK    	4 -2	; -1
	5	[51]	LOADNIL  	5 5
	6	[51]	GETUPVAL 	6 1	; mode_to_windowbits
	7	[51]	MOVE     	7 1
	8	[51]	CALL     	6 2 0
	9	[51]	TAILCALL 	2 0 0
	10	[51]	RETURN   	2 0
	11	[52]	RETURN   	0 1

function <./tools/zip.lua:54,56> (9 instructions, 36 bytes at 0x7fcab84088b0)
2 params, 6 slots, 2 upvalues, 2 locals, 1 constant, 0 functions
	1	[55]	GETUPVAL 	2 0	; zlib
	2	[55]	GETTABLE 	2 2 -1	; "decompress"
	3	[55]	MOVE     	3 0
	4	[55]	GETUPVAL 	4 1	; mode_to_windowbits
	5	[55]	MOVE     	5 1
	6	[55]	CALL     	4 2 0
	7	[55]	TAILCALL 	2 0 0
	8	[55]	RETURN   	2 0
	9	[56]	RETURN   	0 1

function <./tools/zip.lua:58,60> (9 instructions, 36 bytes at 0x7fcab8408ee0)
1 param, 4 slots, 1 upvalue, 1 local, 1 constant, 0 functions
	1	[59]	GETUPVAL 	1 0	; zlib
	2	[59]	GETTABLE 	1 1 -1	; "crc32"
	3	[59]	GETUPVAL 	2 0	; zlib
	4	[59]	GETTABLE 	2 2 -1	; "crc32"
	5	[59]	CALL     	2 1 2
	6	[59]	MOVE     	3 0
	7	[59]	TAILCALL 	1 3 0
	8	[59]	RETURN   	1 0
	9	[60]	RETURN   	0 1

function <./tools/zip.lua:65,73> (23 instructions, 92 bytes at 0x7fcab84091d0)
2 params, 12 slots, 0 upvalues, 8 locals, 7 constants, 0 functions
	1	[66]	NEWTABLE 	2 0 0
	2	[67]	LOADK    	3 -1	; 1
	3	[67]	MOVE     	4 1
	4	[67]	LOADK    	5 -1	; 1
	5	[67]	FORPREP  	3 11	; to 17
	6	[68]	MOD      	7 0 -2
	7	[69]	GETGLOBAL	8 -3	; table
	8	[69]	GETTABLE 	8 8 -4	; "insert"
	9	[69]	MOVE     	9 2
	10	[69]	GETGLOBAL	10 -5	; string
	11	[69]	GETTABLE 	10 10 -6	; "char"
	12	[69]	MOVE     	11 7
	13	[69]	CALL     	10 2 0
	14	[69]	CALL     	8 0 1
	15	[70]	SUB      	8 0 7
	16	[70]	DIV      	0 8 -2	; - 256
	17	[67]	FORLOOP  	3 -12	; to 6
	18	[72]	GETGLOBAL	3 -3	; table
	19	[72]	GETTABLE 	3 3 -7	; "concat"
	20	[72]	MOVE     	4 2
	21	[72]	TAILCALL 	3 2 0
	22	[72]	RETURN   	3 0
	23	[73]	RETURN   	0 1

function <./tools/zip.lua:75,82> (26 instructions, 104 bytes at 0x7fcab84081e0)
1 param, 10 slots, 1 upvalue, 7 locals, 7 constants, 0 functions
	1	[76]	LOADK    	1 -1	; 0
	2	[77]	NEWTABLE 	2 0 0
	3	[77]	GETGLOBAL	3 -2	; string
	4	[77]	GETTABLE 	3 3 -3	; "byte"
	5	[77]	MOVE     	4 0
	6	[77]	LOADK    	5 -4	; 1
	7	[77]	LEN      	6 0
	8	[77]	CALL     	3 4 0
	9	[77]	SETLIST  	2 0 1	; 1
	10	[78]	LOADK    	3 -4	; 1
	11	[78]	LEN      	4 0
	12	[78]	LOADK    	5 -4	; 1
	13	[78]	FORPREP  	3 6	; to 20
	14	[79]	GETUPVAL 	7 0	; shl
	15	[79]	GETTABLE 	8 2 6
	16	[79]	SUB      	9 6 -4	; - 1
	17	[79]	MUL      	9 9 -5	; - 8
	18	[79]	CALL     	7 3 2
	19	[79]	ADD      	1 1 7
	20	[78]	FORLOOP  	3 -7	; to 14
	21	[81]	GETGLOBAL	3 -6	; math
	22	[81]	GETTABLE 	3 3 -7	; "floor"
	23	[81]	MOVE     	4 1
	24	[81]	TAILCALL 	3 2 0
	25	[81]	RETURN   	3 0
	26	[82]	RETURN   	0 1

function <./tools/zip.lua:93,108> (28 instructions, 112 bytes at 0x7fcab8409770)
2 params, 7 slots, 1 upvalue, 3 locals, 16 constants, 0 functions
	1	[94]	GETTABLE 	2 0 -1	; "in_open_file"
	2	[94]	TEST     	2 0 0
	3	[94]	JMP      	4	; to 8
	4	[95]	SELF     	2 0 -2	; "close_file_in_zip"
	5	[95]	CALL     	2 2 1
	6	[96]	LOADNIL  	2 2
	7	[96]	RETURN   	2 2
	8	[98]	NEWTABLE 	2 0 0
	9	[99]	SETTABLE 	0 -3 2	; "local_file_header" -
	10	[100]	SETTABLE 	2 -4 -5	; "last_mod_file_time" 0
	11	[101]	SETTABLE 	2 -6 -5	; "last_mod_file_date" 0
	12	[102]	LEN      	3 1
	13	[102]	SETTABLE 	2 -7 3	; "file_name_length" -
	14	[103]	SETTABLE 	2 -8 -5	; "extra_field_length" 0
	15	[104]	SELF     	3 1 -10	; "gsub"
	16	[104]	LOADK    	5 -11	; "\\"
	17	[104]	LOADK    	6 -12	; "/"
	18	[104]	CALL     	3 4 2
	19	[104]	SETTABLE 	2 -9 3	; "file_name" -
	20	[105]	GETUPVAL 	3 0	; shl
	21	[105]	LOADK    	4 -14	; 493
	22	[105]	LOADK    	5 -15	; 16
	23	[105]	CALL     	3 3 2
	24	[105]	SETTABLE 	2 -13 3	; "external_attr" -
	25	[106]	SETTABLE 	0 -1 -16	; "in_open_file" true
	26	[107]	LOADBOOL 	3 1 0
	27	[107]	RETURN   	3 2
	28	[108]	RETURN   	0 1

function <./tools/zip.lua:114,125> (22 instructions, 88 bytes at 0x7fcab84083a0)
2 params, 6 slots, 2 upvalues, 4 locals, 7 constants, 0 functions
	1	[115]	GETTABLE 	2 0 -1	; "in_open_file"
	2	[115]	TEST     	2 0 1
	3	[115]	JMP      	2	; to 6
	4	[116]	LOADNIL  	2 2
	5	[116]	RETURN   	2 2
	6	[118]	GETTABLE 	2 0 -2	; "local_file_header"
	7	[119]	GETUPVAL 	3 0	; zlib_compress
	8	[119]	MOVE     	4 1
	9	[119]	LOADK    	5 -3	; "raw"
	10	[119]	CALL     	3 3 2
	11	[120]	GETUPVAL 	4 1	; zlib_crc32
	12	[120]	MOVE     	5 1
	13	[120]	CALL     	4 2 2
	14	[120]	SETTABLE 	2 -4 4	; "crc32" -
	15	[121]	LEN      	4 3
	16	[121]	SETTABLE 	2 -5 4	; "compressed_size" -
	17	[122]	LEN      	4 1
	18	[122]	SETTABLE 	2 -6 4	; "uncompressed_size" -
	19	[123]	SETTABLE 	0 -7 3	; "data" -
	20	[124]	LOADBOOL 	4 1 0
	21	[124]	RETURN   	4 2
	22	[125]	RETURN   	0 1

function <./tools/zip.lua:130,166> (109 instructions, 436 bytes at 0x7fcab8408b70)
1 param, 8 slots, 3 upvalues, 3 locals, 23 constants, 0 functions
	1	[131]	GETTABLE 	1 0 -1	; "ziphandle"
	2	[133]	GETTABLE 	2 0 -2	; "in_open_file"
	3	[133]	TEST     	2 0 1
	4	[133]	JMP      	2	; to 7
	5	[134]	LOADNIL  	2 2
	6	[134]	RETURN   	2 2
	7	[138]	GETTABLE 	2 0 -3	; "local_file_header"
	8	[139]	SELF     	3 1 -5	; "seek"
	9	[139]	CALL     	3 2 2
	10	[139]	SETTABLE 	2 -4 3	; "offset" -
	11	[140]	SELF     	3 1 -6	; "write"
	12	[140]	GETUPVAL 	5 0	; LOCAL_FILE_HEADER_SIGNATURE
	13	[140]	CALL     	3 3 1
	14	[141]	SELF     	3 1 -6	; "write"
	15	[141]	GETUPVAL 	5 1	; number_to_lestring
	16	[141]	LOADK    	6 -7	; 20
	17	[141]	LOADK    	7 -8	; 2
	18	[141]	CALL     	5 3 0
	19	[141]	CALL     	3 0 1
	20	[142]	SELF     	3 1 -6	; "write"
	21	[142]	GETUPVAL 	5 1	; number_to_lestring
	22	[142]	LOADK    	6 -9	; 4
	23	[142]	LOADK    	7 -8	; 2
	24	[142]	CALL     	5 3 0
	25	[142]	CALL     	3 0 1
	26	[143]	SELF     	3 1 -6	; "write"
	27	[143]	GETUPVAL 	5 1	; number_to_lestring
	28	[143]	LOADK    	6 -10	; 8
	29	[143]	LOADK    	7 -8	; 2
	30	[143]	CALL     	5 3 0
	31	[143]	CALL     	3 0 1
	32	[144]	SELF     	3 1 -6	; "write"
	33	[144]	GETUPVAL 	5 1	; number_to_lestring
	34	[144]	GETTABLE 	6 2 -11	; "last_mod_file_time"
	35	[144]	LOADK    	7 -8	; 2
	36	[144]	CALL     	5 3 0
	37	[144]	CALL     	3 0 1
	38	[145]	SELF     	3 1 -6	; "write"
	39	[145]	GETUPVAL 	5 1	; number_to_lestring
	40	[145]	GETTABLE 	6 2 -12	; "last_mod_file_date"
	41	[145]	LOADK    	7 -8	; 2
	42	[145]	CALL     	5 3 0
	43	[145]	CALL     	3 0 1
	44	[146]	SELF     	3 1 -6	; "write"
	45	[146]	GETUPVAL 	5 1	; number_to_lestring
	46	[146]	GETTABLE 	6 2 -13	; "crc32"
	47	[146]	LOADK    	7 -9	; 4
	48	[146]	CALL     	5 3 0
	49	[146]	CALL     	3 0 1
	50	[147]	SELF     	3 1 -6	; "write"
	51	[147]	GETUPVAL 	5 1	; number_to_lestring
	52	[147]	GETTABLE 	6 2 -14	; "compressed_size"
	53	[147]	LOADK    	7 -9	; 4
	54	[147]	CALL     	5 3 0
	55	[147]	CALL     	3 0 1
	56	[148]	SELF     	3 1 -6	; "write"
	57	[148]	GETUPVAL 	5 1	; number_to_lestring
	58	[148]	GETTABLE 	6 2 -15	; "uncompressed_size"
	59	[148]	LOADK    	7 -9	; 4
	60	[148]	CALL     	5 3 0
	61	[148]	CALL     	3 0 1
	62	[149]	SELF     	3 1 -6	; "write"
	63	[149]	GETUPVAL 	5 1	; number_to_lestring
	64	[149]	GETTABLE 	6 2 -16	; "file_name_length"
	65	[149]	LOADK    	7 -8	; 2
	66	[149]	CALL     	5 3 0
	67	[149]	CALL     	3 0 1
	68	[150]	SELF     	3 1 -6	; "write"
	69	[150]	GETUPVAL 	5 1	; number_to_lestring
	70	[150]	GETTABLE 	6 2 -17	; "extra_field_length"
	71	[150]	LOADK    	7 -8	; 2
	72	[150]	CALL     	5 3 0
	73	[150]	CALL     	3 0 1
	74	[151]	SELF     	3 1 -6	; "write"
	75	[151]	GETTABLE 	5 2 -18	; "file_name"
	76	[151]	CALL     	3 3 1
	77	[154]	SELF     	3 1 -6	; "write"
	78	[154]	GETTABLE 	5 0 -19	; "data"
	79	[154]	CALL     	3 3 1
	80	[157]	SELF     	3 1 -6	; "write"
	81	[157]	GETUPVAL 	5 2	; DATA_DESCRIPTOR_SIGNATURE
	82	[157]	CALL     	3 3 1
	83	[158]	SELF     	3 1 -6	; "write"
	84	[158]	GETUPVAL 	5 1	; number_to_lestring
	85	[158]	GETTABLE 	6 2 -13	; "crc32"
	86	[158]	LOADK    	7 -9	; 4
	87	[158]	CALL     	5 3 0
	88	[158]	CALL     	3 0 1
	89	[159]	SELF     	3 1 -6	; "write"
	90	[159]	GETUPVAL 	5 1	; number_to_lestring
	91	[159]	GETTABLE 	6 2 -14	; "compressed_size"
	92	[159]	LOADK    	7 -9	; 4
	93	[159]	CALL     	5 3 0
	94	[159]	CALL     	3 0 1
	95	[160]	SELF     	3 1 -6	; "write"
	96	[160]	GETUPVAL 	5 1	; number_to_lestring
	97	[160]	GETTABLE 	6 2 -15	; "uncompressed_size"
	98	[160]	LOADK    	7 -9	; 4
	99	[160]	CALL     	5 3 0
	100	[160]	CALL     	3 0 1
	101	[162]	GETGLOBAL	3 -20	; table
	102	[162]	GETTABLE 	3 3 -21	; "insert"
	103	[162]	GETTABLE 	4 0 -22	; "files"
	104	[162]	MOVE     	5 2
	105	[162]	CALL     	3 3 1
	106	[163]	SETTABLE 	0 -2 -23	; "in_open_file" false
	107	[165]	LOADBOOL 	3 1 0
	108	[165]	RETURN   	3 2
	109	[166]	RETURN   	0 1

function <./tools/zip.lua:170,204> (70 instructions, 280 bytes at 0x7fcab8409a10)
2 params, 9 slots, 1 upvalue, 6 locals, 18 constants, 0 functions
	1	[172]	SELF     	3 0 -1	; "open_new_file_in_zip"
	2	[172]	MOVE     	5 1
	3	[172]	CALL     	3 3 3
	4	[173]	TEST     	3 0 1
	5	[173]	JMP      	5	; to 11
	6	[174]	LOADK    	5 -2	; "error in opening "
	7	[174]	MOVE     	6 1
	8	[174]	LOADK    	7 -3	; " in zipfile"
	9	[174]	CONCAT   	4 5 7
	10	[174]	JMP      	16	; to 27
	11	[176]	GETGLOBAL	5 -4	; io
	12	[176]	GETTABLE 	5 5 -5	; "open"
	13	[176]	GETUPVAL 	6 0	; fs
	14	[176]	GETTABLE 	6 6 -6	; "absolute_name"
	15	[176]	MOVE     	7 1
	16	[176]	CALL     	6 2 2
	17	[176]	LOADK    	7 -7	; "rb"
	18	[176]	CALL     	5 3 2
	19	[176]	MOVE     	2 5
	20	[177]	TEST     	2 0 1
	21	[177]	JMP      	5	; to 27
	22	[178]	LOADBOOL 	3 0 0
	23	[179]	LOADK    	5 -8	; "error opening "
	24	[179]	MOVE     	6 1
	25	[179]	LOADK    	7 -9	; " for reading"
	26	[179]	CONCAT   	4 5 7
	27	[182]	TEST     	3 0 0
	28	[182]	JMP      	20	; to 49
	29	[183]	SELF     	5 2 -10	; "read"
	30	[183]	LOADK    	7 -11	; "*a"
	31	[183]	CALL     	5 3 2
	32	[184]	TEST     	5 0 1
	33	[184]	JMP      	5	; to 39
	34	[185]	LOADK    	6 -12	; "error reading "
	35	[185]	MOVE     	7 1
	36	[185]	CONCAT   	4 6 7
	37	[186]	LOADBOOL 	3 0 0
	38	[186]	JMP      	10	; to 49
	39	[188]	SELF     	6 0 -13	; "write_file_in_zip"
	40	[188]	MOVE     	8 5
	41	[188]	CALL     	6 3 2
	42	[188]	MOVE     	3 6
	43	[189]	TEST     	3 0 1
	44	[189]	JMP      	4	; to 49
	45	[190]	LOADK    	6 -14	; "error in writing "
	46	[190]	MOVE     	7 1
	47	[190]	LOADK    	8 -15	; " in the zipfile"
	48	[190]	CONCAT   	4 6 8
	49	[194]	TEST     	2 0 0
	50	[194]	JMP      	2	; to 53
	51	[195]	SELF     	5 2 -16	; "close"
	52	[195]	CALL     	5 2 1
	53	[197]	TEST     	3 0 0
	54	[197]	JMP      	9	; to 64
	55	[198]	SELF     	5 0 -17	; "close_file_in_zip"
	56	[198]	CALL     	5 2 2
	57	[198]	MOVE     	3 5
	58	[199]	TEST     	3 0 1
	59	[199]	JMP      	4	; to 64
	60	[200]	LOADK    	5 -14	; "error in writing "
	61	[200]	MOVE     	6 1
	62	[200]	LOADK    	7 -15	; " in the zipfile"
	63	[200]	CONCAT   	4 5 7
	64	[203]	EQ       	1 3 -18	; - true
	65	[203]	JMP      	1	; to 67
	66	[203]	LOADBOOL 	5 0 1
	67	[203]	LOADBOOL 	5 1 0
	68	[203]	MOVE     	6 4
	69	[203]	RETURN   	5 3
	70	[204]	RETURN   	0 1

function <./tools/zip.lua:209,250> (167 instructions, 668 bytes at 0x7fcab840a3c0)
1 param, 14 slots, 3 upvalues, 9 locals, 23 constants, 0 functions
	1	[210]	GETTABLE 	1 0 -1	; "ziphandle"
	2	[212]	SELF     	2 1 -2	; "seek"
	3	[212]	CALL     	2 2 2
	4	[214]	LOADK    	3 -3	; 0
	5	[216]	GETGLOBAL	4 -4	; ipairs
	6	[216]	GETTABLE 	5 0 -5	; "files"
	7	[216]	CALL     	4 2 4
	8	[216]	JMP      	105	; to 114
	9	[217]	SELF     	9 1 -6	; "write"
	10	[217]	GETUPVAL 	11 0	; CENTRAL_DIRECTORY_SIGNATURE
	11	[217]	CALL     	9 3 1
	12	[218]	SELF     	9 1 -6	; "write"
	13	[218]	GETUPVAL 	11 1	; number_to_lestring
	14	[218]	LOADK    	12 -7	; 3
	15	[218]	LOADK    	13 -8	; 2
	16	[218]	CALL     	11 3 0
	17	[218]	CALL     	9 0 1
	18	[219]	SELF     	9 1 -6	; "write"
	19	[219]	GETUPVAL 	11 1	; number_to_lestring
	20	[219]	LOADK    	12 -9	; 20
	21	[219]	LOADK    	13 -8	; 2
	22	[219]	CALL     	11 3 0
	23	[219]	CALL     	9 0 1
	24	[220]	SELF     	9 1 -6	; "write"
	25	[220]	GETUPVAL 	11 1	; number_to_lestring
	26	[220]	LOADK    	12 -3	; 0
	27	[220]	LOADK    	13 -8	; 2
	28	[220]	CALL     	11 3 0
	29	[220]	CALL     	9 0 1
	30	[221]	SELF     	9 1 -6	; "write"
	31	[221]	GETUPVAL 	11 1	; number_to_lestring
	32	[221]	LOADK    	12 -10	; 8
	33	[221]	LOADK    	13 -8	; 2
	34	[221]	CALL     	11 3 0
	35	[221]	CALL     	9 0 1
	36	[222]	SELF     	9 1 -6	; "write"
	37	[222]	GETUPVAL 	11 1	; number_to_lestring
	38	[222]	GETTABLE 	12 8 -11	; "last_mod_file_time"
	39	[222]	LOADK    	13 -8	; 2
	40	[222]	CALL     	11 3 0
	41	[222]	CALL     	9 0 1
	42	[223]	SELF     	9 1 -6	; "write"
	43	[223]	GETUPVAL 	11 1	; number_to_lestring
	44	[223]	GETTABLE 	12 8 -12	; "last_mod_file_date"
	45	[223]	LOADK    	13 -8	; 2
	46	[223]	CALL     	11 3 0
	47	[223]	CALL     	9 0 1
	48	[224]	SELF     	9 1 -6	; "write"
	49	[224]	GETUPVAL 	11 1	; number_to_lestring
	50	[224]	GETTABLE 	12 8 -13	; "crc32"
	51	[224]	LOADK    	13 -14	; 4
	52	[224]	CALL     	11 3 0
	53	[224]	CALL     	9 0 1
	54	[225]	SELF     	9 1 -6	; "write"
	55	[225]	GETUPVAL 	11 1	; number_to_lestring
	56	[225]	GETTABLE 	12 8 -15	; "compressed_size"
	57	[225]	LOADK    	13 -14	; 4
	58	[225]	CALL     	11 3 0
	59	[225]	CALL     	9 0 1
	60	[226]	SELF     	9 1 -6	; "write"
	61	[226]	GETUPVAL 	11 1	; number_to_lestring
	62	[226]	GETTABLE 	12 8 -16	; "uncompressed_size"
	63	[226]	LOADK    	13 -14	; 4
	64	[226]	CALL     	11 3 0
	65	[226]	CALL     	9 0 1
	66	[227]	SELF     	9 1 -6	; "write"
	67	[227]	GETUPVAL 	11 1	; number_to_lestring
	68	[227]	GETTABLE 	12 8 -17	; "file_name_length"
	69	[227]	LOADK    	13 -8	; 2
	70	[227]	CALL     	11 3 0
	71	[227]	CALL     	9 0 1
	72	[228]	SELF     	9 1 -6	; "write"
	73	[228]	GETUPVAL 	11 1	; number_to_lestring
	74	[228]	GETTABLE 	12 8 -18	; "extra_field_length"
	75	[228]	LOADK    	13 -8	; 2
	76	[228]	CALL     	11 3 0
	77	[228]	CALL     	9 0 1
	78	[229]	SELF     	9 1 -6	; "write"
	79	[229]	GETUPVAL 	11 1	; number_to_lestring
	80	[229]	LOADK    	12 -3	; 0
	81	[229]	LOADK    	13 -8	; 2
	82	[229]	CALL     	11 3 0
	83	[229]	CALL     	9 0 1
	84	[230]	SELF     	9 1 -6	; "write"
	85	[230]	GETUPVAL 	11 1	; number_to_lestring
	86	[230]	LOADK    	12 -3	; 0
	87	[230]	LOADK    	13 -8	; 2
	88	[230]	CALL     	11 3 0
	89	[230]	CALL     	9 0 1
	90	[231]	SELF     	9 1 -6	; "write"
	91	[231]	GETUPVAL 	11 1	; number_to_lestring
	92	[231]	LOADK    	12 -3	; 0
	93	[231]	LOADK    	13 -8	; 2
	94	[231]	CALL     	11 3 0
	95	[231]	CALL     	9 0 1
	96	[232]	SELF     	9 1 -6	; "write"
	97	[232]	GETUPVAL 	11 1	; number_to_lestring
	98	[232]	GETTABLE 	12 8 -19	; "external_attr"
	99	[232]	LOADK    	13 -14	; 4
	100	[232]	CALL     	11 3 0
	101	[232]	CALL     	9 0 1
	102	[233]	SELF     	9 1 -6	; "write"
	103	[233]	GETUPVAL 	11 1	; number_to_lestring
	104	[233]	GETTABLE 	12 8 -20	; "offset"
	105	[233]	LOADK    	13 -14	; 4
	106	[233]	CALL     	11 3 0
	107	[233]	CALL     	9 0 1
	108	[234]	SELF     	9 1 -6	; "write"
	109	[234]	GETTABLE 	11 8 -21	; "file_name"
	110	[234]	CALL     	9 3 1
	111	[235]	ADD      	9 3 -22	; - 46
	112	[235]	GETTABLE 	10 8 -17	; "file_name_length"
	113	[235]	ADD      	3 9 10
	114	[216]	TFORLOOP 	4 2
	115	[235]	JMP      	-107	; to 9
	116	[239]	SELF     	4 1 -6	; "write"
	117	[239]	GETUPVAL 	6 2	; END_OF_CENTRAL_DIR_SIGNATURE
	118	[239]	CALL     	4 3 1
	119	[240]	SELF     	4 1 -6	; "write"
	120	[240]	GETUPVAL 	6 1	; number_to_lestring
	121	[240]	LOADK    	7 -3	; 0
	122	[240]	LOADK    	8 -8	; 2
	123	[240]	CALL     	6 3 0
	124	[240]	CALL     	4 0 1
	125	[241]	SELF     	4 1 -6	; "write"
	126	[241]	GETUPVAL 	6 1	; number_to_lestring
	127	[241]	LOADK    	7 -3	; 0
	128	[241]	LOADK    	8 -8	; 2
	129	[241]	CALL     	6 3 0
	130	[241]	CALL     	4 0 1
	131	[242]	SELF     	4 1 -6	; "write"
	132	[242]	GETUPVAL 	6 1	; number_to_lestring
	133	[242]	GETTABLE 	7 0 -5	; "files"
	134	[242]	LEN      	7 7
	135	[242]	LOADK    	8 -8	; 2
	136	[242]	CALL     	6 3 0
	137	[242]	CALL     	4 0 1
	138	[243]	SELF     	4 1 -6	; "write"
	139	[243]	GETUPVAL 	6 1	; number_to_lestring
	140	[243]	GETTABLE 	7 0 -5	; "files"
	141	[243]	LEN      	7 7
	142	[243]	LOADK    	8 -8	; 2
	143	[243]	CALL     	6 3 0
	144	[243]	CALL     	4 0 1
	145	[244]	SELF     	4 1 -6	; "write"
	146	[244]	GETUPVAL 	6 1	; number_to_lestring
	147	[244]	MOVE     	7 3
	148	[244]	LOADK    	8 -14	; 4
	149	[244]	CALL     	6 3 0
	150	[244]	CALL     	4 0 1
	151	[245]	SELF     	4 1 -6	; "write"
	152	[245]	GETUPVAL 	6 1	; number_to_lestring
	153	[245]	MOVE     	7 2
	154	[245]	LOADK    	8 -14	; 4
	155	[245]	CALL     	6 3 0
	156	[245]	CALL     	4 0 1
	157	[246]	SELF     	4 1 -6	; "write"
	158	[246]	GETUPVAL 	6 1	; number_to_lestring
	159	[246]	LOADK    	7 -3	; 0
	160	[246]	LOADK    	8 -8	; 2
	161	[246]	CALL     	6 3 0
	162	[246]	CALL     	4 0 1
	163	[247]	SELF     	4 1 -23	; "close"
	164	[247]	CALL     	4 2 1
	165	[249]	LOADBOOL 	4 1 0
	166	[249]	RETURN   	4 2
	167	[250]	RETURN   	0 1

function <./tools/zip.lua:255,273> (30 instructions, 120 bytes at 0x7fcab8408e60)
1 param, 5 slots, 6 upvalues, 2 locals, 13 constants, 0 functions
	1	[257]	NEWTABLE 	1 0 0
	2	[259]	GETGLOBAL	2 -2	; io
	3	[259]	GETTABLE 	2 2 -3	; "open"
	4	[259]	GETUPVAL 	3 0	; fs
	5	[259]	GETTABLE 	3 3 -4	; "absolute_name"
	6	[259]	MOVE     	4 0
	7	[259]	CALL     	3 2 2
	8	[259]	LOADK    	4 -5	; "wb"
	9	[259]	CALL     	2 3 2
	10	[259]	SETTABLE 	1 -1 2	; "ziphandle" -
	11	[260]	GETTABLE 	2 1 -1	; "ziphandle"
	12	[260]	TEST     	2 0 1
	13	[260]	JMP      	2	; to 16
	14	[261]	LOADNIL  	2 2
	15	[261]	RETURN   	2 2
	16	[263]	NEWTABLE 	2 0 0
	17	[263]	SETTABLE 	1 -6 2	; "files" -
	18	[264]	SETTABLE 	1 -7 -8	; "in_open_file" false
	19	[266]	GETUPVAL 	2 1	; zipwriter_add
	20	[266]	SETTABLE 	1 -9 2	; "add" -
	21	[267]	GETUPVAL 	2 2	; zipwriter_close
	22	[267]	SETTABLE 	1 -10 2	; "close" -
	23	[268]	GETUPVAL 	2 3	; zipwriter_open_new_file_in_zip
	24	[268]	SETTABLE 	1 -11 2	; "open_new_file_in_zip" -
	25	[269]	GETUPVAL 	2 4	; zipwriter_write_file_in_zip
	26	[269]	SETTABLE 	1 -12 2	; "write_file_in_zip" -
	27	[270]	GETUPVAL 	2 5	; zipwriter_close_file_in_zip
	28	[270]	SETTABLE 	1 -13 2	; "close_file_in_zip" -
	29	[272]	RETURN   	1 2
	30	[273]	RETURN   	0 1

function <./tools/zip.lua:281,305> (69 instructions, 276 bytes at 0x7fcab840b130)
1+ param, 19 slots, 3 upvalues, 16 locals, 9 constants, 0 functions
	1	[282]	GETUPVAL 	2 0	; zip
	2	[282]	GETTABLE 	2 2 -1	; "new_zipwriter"
	3	[282]	MOVE     	3 0
	4	[282]	CALL     	2 2 2
	5	[283]	TEST     	2 0 1
	6	[283]	JMP      	5	; to 12
	7	[284]	LOADNIL  	3 3
	8	[284]	LOADK    	4 -2	; "error opening "
	9	[284]	MOVE     	5 0
	10	[284]	CONCAT   	4 4 5
	11	[284]	RETURN   	3 3
	12	[287]	LOADNIL  	3 4
	13	[288]	GETGLOBAL	5 -3	; pairs
	14	[288]	NEWTABLE 	6 0 0
	15	[288]	VARARG   	7 0
	16	[288]	SETLIST  	6 0 1	; 1
	17	[288]	CALL     	5 2 4
	18	[288]	JMP      	43	; to 62
	19	[289]	GETUPVAL 	10 1	; fs
	20	[289]	GETTABLE 	10 10 -4	; "is_dir"
	21	[289]	MOVE     	11 9
	22	[289]	CALL     	10 2 2
	23	[289]	TEST     	10 0 0
	24	[289]	JMP      	29	; to 54
	25	[290]	GETGLOBAL	10 -3	; pairs
	26	[290]	GETUPVAL 	11 1	; fs
	27	[290]	GETTABLE 	11 11 -5	; "find"
	28	[290]	MOVE     	12 9
	29	[290]	CALL     	11 2 0
	30	[290]	CALL     	10 0 4
	31	[290]	JMP      	19	; to 51
	32	[291]	GETUPVAL 	15 2	; dir
	33	[291]	GETTABLE 	15 15 -6	; "path"
	34	[291]	MOVE     	16 9
	35	[291]	MOVE     	17 14
	36	[291]	CALL     	15 3 2
	37	[292]	GETUPVAL 	16 1	; fs
	38	[292]	GETTABLE 	16 16 -7	; "is_file"
	39	[292]	MOVE     	17 15
	40	[292]	CALL     	16 2 2
	41	[292]	TEST     	16 0 0
	42	[292]	JMP      	8	; to 51
	43	[293]	SELF     	16 2 -8	; "add"
	44	[293]	MOVE     	18 15
	45	[293]	CALL     	16 3 3
	46	[293]	MOVE     	4 17
	47	[293]	MOVE     	3 16
	48	[294]	TEST     	3 0 1
	49	[294]	JMP      	1	; to 51
	50	[294]	JMP      	11	; to 62
	51	[290]	TFORLOOP 	10 2
	52	[295]	JMP      	-21	; to 32
	53	[296]	JMP      	8	; to 62
	54	[298]	SELF     	10 2 -8	; "add"
	55	[298]	MOVE     	12 9
	56	[298]	CALL     	10 3 3
	57	[298]	MOVE     	4 11
	58	[298]	MOVE     	3 10
	59	[299]	TEST     	3 0 1
	60	[299]	JMP      	1	; to 62
	61	[299]	JMP      	2	; to 64
	62	[288]	TFORLOOP 	5 2
	63	[300]	JMP      	-45	; to 19
	64	[303]	SELF     	5 2 -9	; "close"
	65	[303]	CALL     	5 2 1
	66	[304]	MOVE     	5 3
	67	[304]	MOVE     	6 4
	68	[304]	RETURN   	5 3
	69	[305]	RETURN   	0 1

function <./tools/zip.lua:308,322> (49 instructions, 196 bytes at 0x7fcab840aeb0)
2 params, 7 slots, 2 upvalues, 3 locals, 13 constants, 0 functions
	1	[309]	NEWTABLE 	2 0 6
	2	[310]	GETUPVAL 	3 0	; shr
	3	[310]	MOVE     	4 1
	4	[310]	LOADK    	5 -2	; 9
	5	[310]	CALL     	3 3 2
	6	[310]	ADD      	3 3 -3	; - 1980
	7	[310]	SETTABLE 	2 -1 3	; "year" -
	8	[311]	GETUPVAL 	3 0	; shr
	9	[311]	GETUPVAL 	4 1	; lowbits
	10	[311]	MOVE     	5 1
	11	[311]	LOADK    	6 -2	; 9
	12	[311]	CALL     	4 3 2
	13	[311]	LOADK    	5 -5	; 5
	14	[311]	CALL     	3 3 2
	15	[311]	SETTABLE 	2 -4 3	; "month" -
	16	[312]	GETUPVAL 	3 1	; lowbits
	17	[312]	MOVE     	4 1
	18	[312]	LOADK    	5 -5	; 5
	19	[312]	CALL     	3 3 2
	20	[312]	SETTABLE 	2 -6 3	; "day" -
	21	[313]	GETUPVAL 	3 0	; shr
	22	[313]	MOVE     	4 0
	23	[313]	LOADK    	5 -8	; 11
	24	[313]	CALL     	3 3 2
	25	[313]	SETTABLE 	2 -7 3	; "hour" -
	26	[314]	GETUPVAL 	3 0	; shr
	27	[314]	GETUPVAL 	4 1	; lowbits
	28	[314]	MOVE     	5 0
	29	[314]	LOADK    	6 -8	; 11
	30	[314]	CALL     	4 3 2
	31	[314]	LOADK    	5 -5	; 5
	32	[314]	CALL     	3 3 2
	33	[314]	SETTABLE 	2 -9 3	; "min" -
	34	[315]	GETUPVAL 	3 1	; lowbits
	35	[315]	MOVE     	4 0
	36	[315]	LOADK    	5 -5	; 5
	37	[315]	CALL     	3 3 2
	38	[315]	MUL      	3 3 -11	; - 2
	39	[315]	SETTABLE 	2 -10 3	; "sec" -
	40	[318]	GETTABLE 	3 2 -4	; "month"
	41	[318]	EQ       	0 3 -12	; - 0
	42	[318]	JMP      	1	; to 44
	43	[318]	SETTABLE 	2 -4 -13	; "month" 1
	44	[319]	GETTABLE 	3 2 -6	; "day"
	45	[319]	EQ       	0 3 -12	; - 0
	46	[319]	JMP      	1	; to 48
	47	[319]	SETTABLE 	2 -6 -13	; "day" 1
	48	[321]	RETURN   	2 2
	49	[322]	RETURN   	0 1

function <./tools/zip.lua:324,363> (123 instructions, 492 bytes at 0x7fcab840b6b0)
2 params, 11 slots, 4 upvalues, 6 locals, 23 constants, 0 functions
	1	[325]	SELF     	2 0 -1	; "read"
	2	[325]	LOADK    	4 -2	; 4
	3	[325]	CALL     	2 3 2
	4	[326]	GETUPVAL 	3 0	; LOCAL_FILE_HEADER_SIGNATURE
	5	[326]	EQ       	1 2 3
	6	[326]	JMP      	3	; to 10
	7	[327]	LOADNIL  	3 3
	8	[327]	LOADK    	4 -3	; "failed reading Local File Header signature"
	9	[327]	RETURN   	3 3
	10	[330]	NEWTABLE 	3 0 0
	11	[331]	GETUPVAL 	4 1	; lestring_to_number
	12	[331]	SELF     	5 0 -1	; "read"
	13	[331]	LOADK    	7 -5	; 2
	14	[331]	CALL     	5 3 0
	15	[331]	CALL     	4 0 2
	16	[331]	SETTABLE 	3 -4 4	; "version_needed" -
	17	[332]	GETUPVAL 	4 1	; lestring_to_number
	18	[332]	SELF     	5 0 -1	; "read"
	19	[332]	LOADK    	7 -5	; 2
	20	[332]	CALL     	5 3 0
	21	[332]	CALL     	4 0 2
	22	[332]	SETTABLE 	3 -6 4	; "bitflag" -
	23	[333]	GETUPVAL 	4 1	; lestring_to_number
	24	[333]	SELF     	5 0 -1	; "read"
	25	[333]	LOADK    	7 -5	; 2
	26	[333]	CALL     	5 3 0
	27	[333]	CALL     	4 0 2
	28	[333]	SETTABLE 	3 -7 4	; "compression_method" -
	29	[334]	GETUPVAL 	4 1	; lestring_to_number
	30	[334]	SELF     	5 0 -1	; "read"
	31	[334]	LOADK    	7 -5	; 2
	32	[334]	CALL     	5 3 0
	33	[334]	CALL     	4 0 2
	34	[334]	SETTABLE 	3 -8 4	; "last_mod_file_time" -
	35	[335]	GETUPVAL 	4 1	; lestring_to_number
	36	[335]	SELF     	5 0 -1	; "read"
	37	[335]	LOADK    	7 -5	; 2
	38	[335]	CALL     	5 3 0
	39	[335]	CALL     	4 0 2
	40	[335]	SETTABLE 	3 -9 4	; "last_mod_file_date" -
	41	[336]	GETUPVAL 	4 1	; lestring_to_number
	42	[336]	SELF     	5 0 -1	; "read"
	43	[336]	LOADK    	7 -2	; 4
	44	[336]	CALL     	5 3 0
	45	[336]	CALL     	4 0 2
	46	[336]	SETTABLE 	3 -10 4	; "crc32" -
	47	[337]	GETUPVAL 	4 1	; lestring_to_number
	48	[337]	SELF     	5 0 -1	; "read"
	49	[337]	LOADK    	7 -2	; 4
	50	[337]	CALL     	5 3 0
	51	[337]	CALL     	4 0 2
	52	[337]	SETTABLE 	3 -11 4	; "compressed_size" -
	53	[338]	GETUPVAL 	4 1	; lestring_to_number
	54	[338]	SELF     	5 0 -1	; "read"
	55	[338]	LOADK    	7 -2	; 4
	56	[338]	CALL     	5 3 0
	57	[338]	CALL     	4 0 2
	58	[338]	SETTABLE 	3 -12 4	; "uncompressed_size" -
	59	[339]	GETUPVAL 	4 1	; lestring_to_number
	60	[339]	SELF     	5 0 -1	; "read"
	61	[339]	LOADK    	7 -5	; 2
	62	[339]	CALL     	5 3 0
	63	[339]	CALL     	4 0 2
	64	[339]	SETTABLE 	3 -13 4	; "file_name_length" -
	65	[340]	GETUPVAL 	4 1	; lestring_to_number
	66	[340]	SELF     	5 0 -1	; "read"
	67	[340]	LOADK    	7 -5	; 2
	68	[340]	CALL     	5 3 0
	69	[340]	CALL     	4 0 2
	70	[340]	SETTABLE 	3 -14 4	; "extra_field_length" -
	71	[341]	SELF     	4 0 -1	; "read"
	72	[341]	GETTABLE 	6 3 -13	; "file_name_length"
	73	[341]	CALL     	4 3 2
	74	[341]	SETTABLE 	3 -15 4	; "file_name" -
	75	[342]	SELF     	4 0 -1	; "read"
	76	[342]	GETTABLE 	6 3 -14	; "extra_field_length"
	77	[342]	CALL     	4 3 2
	78	[342]	SETTABLE 	3 -16 4	; "extra_field" -
	79	[344]	SELF     	4 0 -1	; "read"
	80	[344]	GETTABLE 	6 1 -11	; "compressed_size"
	81	[344]	CALL     	4 3 2
	82	[346]	LOADNIL  	5 5
	83	[347]	GETTABLE 	6 1 -7	; "compression_method"
	84	[347]	EQ       	0 6 -17	; - 8
	85	[347]	JMP      	6	; to 92
	86	[348]	GETUPVAL 	6 2	; zlib_uncompress
	87	[348]	MOVE     	7 4
	88	[348]	LOADK    	8 -18	; "raw"
	89	[348]	CALL     	6 3 2
	90	[348]	MOVE     	5 6
	91	[348]	JMP      	10	; to 102
	92	[349]	GETTABLE 	6 1 -7	; "compression_method"
	93	[349]	EQ       	0 6 -19	; - 0
	94	[349]	JMP      	2	; to 97
	95	[350]	MOVE     	5 4
	96	[350]	JMP      	5	; to 102
	97	[352]	LOADNIL  	6 6
	98	[352]	LOADK    	7 -20	; "unknown compression method "
	99	[352]	GETTABLE 	8 1 -7	; "compression_method"
	100	[352]	CONCAT   	7 7 8
	101	[352]	RETURN   	6 3
	102	[355]	LEN      	6 5
	103	[355]	GETTABLE 	7 1 -12	; "uncompressed_size"
	104	[355]	EQ       	1 6 7
	105	[355]	JMP      	3	; to 109
	106	[356]	LOADNIL  	6 6
	107	[356]	LOADK    	7 -21	; "uncompressed size doesn't match"
	108	[356]	RETURN   	6 3
	109	[358]	GETTABLE 	6 1 -10	; "crc32"
	110	[358]	GETUPVAL 	7 3	; zlib_crc32
	111	[358]	MOVE     	8 5
	112	[358]	CALL     	7 2 2
	113	[358]	EQ       	1 6 7
	114	[358]	JMP      	7	; to 122
	115	[359]	LOADNIL  	6 6
	116	[359]	LOADK    	7 -22	; "crc32 failed (expected "
	117	[359]	GETTABLE 	8 1 -10	; "crc32"
	118	[359]	LOADK    	9 -23	; ") - data: "
	119	[359]	MOVE     	10 5
	120	[359]	CONCAT   	7 7 10
	121	[359]	RETURN   	6 3
	122	[362]	RETURN   	5 2
	123	[363]	RETURN   	0 1

function <./tools/zip.lua:365,397> (49 instructions, 196 bytes at 0x7fcab840c510)
1 param, 8 slots, 2 upvalues, 8 locals, 11 constants, 0 functions
	1	[366]	SELF     	1 0 -1	; "seek"
	2	[366]	LOADK    	3 -2	; "end"
	3	[366]	LOADK    	4 -3	; -22
	4	[366]	CALL     	1 4 3
	5	[367]	TEST     	1 0 1
	6	[367]	JMP      	3	; to 10
	7	[368]	LOADNIL  	3 3
	8	[368]	MOVE     	4 2
	9	[368]	RETURN   	3 3
	10	[372]	SELF     	3 0 -4	; "read"
	11	[372]	LOADK    	5 -5	; 4
	12	[372]	CALL     	3 3 2
	13	[373]	GETUPVAL 	4 0	; END_OF_CENTRAL_DIR_SIGNATURE
	14	[373]	EQ       	0 3 4
	15	[373]	JMP      	1	; to 17
	16	[374]	JMP      	11	; to 28
	17	[376]	SUB      	1 1 -6	; - 1
	18	[377]	SELF     	4 0 -1	; "seek"
	19	[377]	LOADK    	6 -7	; "set"
	20	[377]	MOVE     	7 1
	21	[377]	CALL     	4 4 3
	22	[378]	EQ       	1 4 1
	23	[378]	JMP      	-14	; to 10
	24	[379]	LOADNIL  	6 6
	25	[379]	LOADK    	7 -8	; "Could not find End of Central Directory signature"
	26	[379]	RETURN   	6 3
	27	[380]	JMP      	-18	; to 10
	28	[387]	SELF     	3 0 -1	; "seek"
	29	[387]	LOADK    	5 -9	; "cur"
	30	[387]	LOADK    	6 -10	; 6
	31	[387]	CALL     	3 4 1
	32	[389]	GETUPVAL 	3 1	; lestring_to_number
	33	[389]	SELF     	4 0 -4	; "read"
	34	[389]	LOADK    	6 -11	; 2
	35	[389]	CALL     	4 3 0
	36	[389]	CALL     	3 0 2
	37	[392]	SELF     	4 0 -1	; "seek"
	38	[392]	LOADK    	6 -9	; "cur"
	39	[392]	LOADK    	7 -5	; 4
	40	[392]	CALL     	4 4 1
	41	[394]	GETUPVAL 	4 1	; lestring_to_number
	42	[394]	SELF     	5 0 -4	; "read"
	43	[394]	LOADK    	7 -5	; 4
	44	[394]	CALL     	5 3 0
	45	[394]	CALL     	4 0 2
	46	[396]	MOVE     	5 3
	47	[396]	MOVE     	6 4
	48	[396]	RETURN   	5 3
	49	[397]	RETURN   	0 1

function <./tools/zip.lua:399,434> (132 instructions, 528 bytes at 0x7fcab840cc30)
2 params, 13 slots, 3 upvalues, 9 locals, 25 constants, 0 functions
	1	[401]	NEWTABLE 	2 0 0
	2	[403]	LOADK    	3 -1	; 1
	3	[403]	MOVE     	4 1
	4	[403]	LOADK    	5 -1	; 1
	5	[403]	FORPREP  	3 124	; to 130
	6	[404]	SELF     	7 0 -2	; "read"
	7	[404]	LOADK    	9 -3	; 4
	8	[404]	CALL     	7 3 2
	9	[405]	GETUPVAL 	8 0	; CENTRAL_DIRECTORY_SIGNATURE
	10	[405]	EQ       	1 7 8
	11	[405]	JMP      	3	; to 15
	12	[406]	LOADNIL  	8 8
	13	[406]	LOADK    	9 -4	; "failed reading Central Directory signature"
	14	[406]	RETURN   	8 3
	15	[409]	NEWTABLE 	8 0 0
	16	[410]	SETTABLE 	2 6 8
	17	[412]	GETUPVAL 	9 1	; lestring_to_number
	18	[412]	SELF     	10 0 -2	; "read"
	19	[412]	LOADK    	12 -6	; 2
	20	[412]	CALL     	10 3 0
	21	[412]	CALL     	9 0 2
	22	[412]	SETTABLE 	8 -5 9	; "version_made_by" -
	23	[413]	GETUPVAL 	9 1	; lestring_to_number
	24	[413]	SELF     	10 0 -2	; "read"
	25	[413]	LOADK    	12 -6	; 2
	26	[413]	CALL     	10 3 0
	27	[413]	CALL     	9 0 2
	28	[413]	SETTABLE 	8 -7 9	; "version_needed" -
	29	[414]	GETUPVAL 	9 1	; lestring_to_number
	30	[414]	SELF     	10 0 -2	; "read"
	31	[414]	LOADK    	12 -6	; 2
	32	[414]	CALL     	10 3 0
	33	[414]	CALL     	9 0 2
	34	[414]	SETTABLE 	8 -8 9	; "bitflag" -
	35	[415]	GETUPVAL 	9 1	; lestring_to_number
	36	[415]	SELF     	10 0 -2	; "read"
	37	[415]	LOADK    	12 -6	; 2
	38	[415]	CALL     	10 3 0
	39	[415]	CALL     	9 0 2
	40	[415]	SETTABLE 	8 -9 9	; "compression_method" -
	41	[416]	GETUPVAL 	9 1	; lestring_to_number
	42	[416]	SELF     	10 0 -2	; "read"
	43	[416]	LOADK    	12 -6	; 2
	44	[416]	CALL     	10 3 0
	45	[416]	CALL     	9 0 2
	46	[416]	SETTABLE 	8 -10 9	; "last_mod_file_time" -
	47	[417]	GETUPVAL 	9 1	; lestring_to_number
	48	[417]	SELF     	10 0 -2	; "read"
	49	[417]	LOADK    	12 -6	; 2
	50	[417]	CALL     	10 3 0
	51	[417]	CALL     	9 0 2
	52	[417]	SETTABLE 	8 -11 9	; "last_mod_file_date" -
	53	[418]	GETUPVAL 	9 2	; ziptime_to_luatime
	54	[418]	GETTABLE 	10 8 -10	; "last_mod_file_time"
	55	[418]	GETTABLE 	11 8 -11	; "last_mod_file_date"
	56	[418]	CALL     	9 3 2
	57	[418]	SETTABLE 	8 -12 9	; "last_mod_luatime" -
	58	[419]	GETUPVAL 	9 1	; lestring_to_number
	59	[419]	SELF     	10 0 -2	; "read"
	60	[419]	LOADK    	12 -3	; 4
	61	[419]	CALL     	10 3 0
	62	[419]	CALL     	9 0 2
	63	[419]	SETTABLE 	8 -13 9	; "crc32" -
	64	[420]	GETUPVAL 	9 1	; lestring_to_number
	65	[420]	SELF     	10 0 -2	; "read"
	66	[420]	LOADK    	12 -3	; 4
	67	[420]	CALL     	10 3 0
	68	[420]	CALL     	9 0 2
	69	[420]	SETTABLE 	8 -14 9	; "compressed_size" -
	70	[421]	GETUPVAL 	9 1	; lestring_to_number
	71	[421]	SELF     	10 0 -2	; "read"
	72	[421]	LOADK    	12 -3	; 4
	73	[421]	CALL     	10 3 0
	74	[421]	CALL     	9 0 2
	75	[421]	SETTABLE 	8 -15 9	; "uncompressed_size" -
	76	[422]	GETUPVAL 	9 1	; lestring_to_number
	77	[422]	SELF     	10 0 -2	; "read"
	78	[422]	LOADK    	12 -6	; 2
	79	[422]	CALL     	10 3 0
	80	[422]	CALL     	9 0 2
	81	[422]	SETTABLE 	8 -16 9	; "file_name_length" -
	82	[423]	GETUPVAL 	9 1	; lestring_to_number
	83	[423]	SELF     	10 0 -2	; "read"
	84	[423]	LOADK    	12 -6	; 2
	85	[423]	CALL     	10 3 0
	86	[423]	CALL     	9 0 2
	87	[423]	SETTABLE 	8 -17 9	; "extra_field_length" -
	88	[424]	GETUPVAL 	9 1	; lestring_to_number
	89	[424]	SELF     	10 0 -2	; "read"
	90	[424]	LOADK    	12 -6	; 2
	91	[424]	CALL     	10 3 0
	92	[424]	CALL     	9 0 2
	93	[424]	SETTABLE 	8 -18 9	; "file_comment_length" -
	94	[425]	GETUPVAL 	9 1	; lestring_to_number
	95	[425]	SELF     	10 0 -2	; "read"
	96	[425]	LOADK    	12 -6	; 2
	97	[425]	CALL     	10 3 0
	98	[425]	CALL     	9 0 2
	99	[425]	SETTABLE 	8 -19 9	; "disk_number_start" -
	100	[426]	GETUPVAL 	9 1	; lestring_to_number
	101	[426]	SELF     	10 0 -2	; "read"
	102	[426]	LOADK    	12 -6	; 2
	103	[426]	CALL     	10 3 0
	104	[426]	CALL     	9 0 2
	105	[426]	SETTABLE 	8 -20 9	; "internal_attr" -
	106	[427]	GETUPVAL 	9 1	; lestring_to_number
	107	[427]	SELF     	10 0 -2	; "read"
	108	[427]	LOADK    	12 -3	; 4
	109	[427]	CALL     	10 3 0
	110	[427]	CALL     	9 0 2
	111	[427]	SETTABLE 	8 -21 9	; "external_attr" -
	112	[428]	GETUPVAL 	9 1	; lestring_to_number
	113	[428]	SELF     	10 0 -2	; "read"
	114	[428]	LOADK    	12 -3	; 4
	115	[428]	CALL     	10 3 0
	116	[428]	CALL     	9 0 2
	117	[428]	SETTABLE 	8 -22 9	; "offset" -
	118	[429]	SELF     	9 0 -2	; "read"
	119	[429]	GETTABLE 	11 8 -16	; "file_name_length"
	120	[429]	CALL     	9 3 2
	121	[429]	SETTABLE 	8 -23 9	; "file_name" -
	122	[430]	SELF     	9 0 -2	; "read"
	123	[430]	GETTABLE 	11 8 -17	; "extra_field_length"
	124	[430]	CALL     	9 3 2
	125	[430]	SETTABLE 	8 -24 9	; "extra_field" -
	126	[431]	SELF     	9 0 -2	; "read"
	127	[431]	GETTABLE 	11 8 -18	; "file_comment_length"
	128	[431]	CALL     	9 3 2
	129	[431]	SETTABLE 	8 -25 9	; "file_comment" -
	130	[403]	FORLOOP  	3 -125	; to 6
	131	[433]	RETURN   	2 2
	132	[434]	RETURN   	0 1

function <./tools/zip.lua:440,509> (166 instructions, 664 bytes at 0x7fcab840d2a0)
1 param, 27 slots, 5 upvalues, 27 locals, 28 constants, 0 functions
	1	[441]	GETUPVAL 	1 0	; fs
	2	[441]	GETTABLE 	1 1 -1	; "absolute_name"
	3	[441]	MOVE     	2 0
	4	[441]	CALL     	1 2 2
	5	[441]	MOVE     	0 1
	6	[442]	GETGLOBAL	1 -2	; io
	7	[442]	GETTABLE 	1 1 -3	; "open"
	8	[442]	MOVE     	2 0
	9	[442]	LOADK    	3 -4	; "rb"
	10	[442]	CALL     	1 3 3
	11	[443]	TEST     	1 0 1
	12	[443]	JMP      	3	; to 16
	13	[444]	LOADNIL  	3 3
	14	[444]	MOVE     	4 2
	15	[444]	RETURN   	3 3
	16	[447]	GETUPVAL 	3 1	; process_end_of_central_dir
	17	[447]	MOVE     	4 1
	18	[447]	CALL     	3 2 3
	19	[448]	TEST     	3 0 1
	20	[448]	JMP      	3	; to 24
	21	[449]	LOADNIL  	5 5
	22	[449]	MOVE     	6 4
	23	[449]	RETURN   	5 3
	24	[452]	SELF     	5 1 -5	; "seek"
	25	[452]	LOADK    	7 -6	; "set"
	26	[452]	MOVE     	8 4
	27	[452]	CALL     	5 4 3
	28	[453]	TEST     	5 0 1
	29	[453]	JMP      	3	; to 33
	30	[454]	LOADNIL  	7 7
	31	[454]	MOVE     	8 6
	32	[454]	RETURN   	7 3
	33	[457]	GETUPVAL 	7 2	; process_central_dir
	34	[457]	MOVE     	8 1
	35	[457]	MOVE     	9 3
	36	[457]	CALL     	7 3 3
	37	[458]	TEST     	7 0 1
	38	[458]	JMP      	3	; to 42
	39	[459]	LOADNIL  	9 9
	40	[459]	MOVE     	10 8
	41	[459]	RETURN   	9 3
	42	[462]	GETGLOBAL	9 -7	; ipairs
	43	[462]	MOVE     	10 7
	44	[462]	CALL     	9 2 4
	45	[462]	JMP      	114	; to 160
	46	[463]	GETTABLE 	14 13 -8	; "file_name"
	47	[464]	SELF     	15 14 -9	; "sub"
	48	[464]	LEN      	17 14
	49	[464]	CALL     	15 3 2
	50	[464]	EQ       	0 15 -10	; - "/"
	51	[464]	JMP      	16	; to 68
	52	[465]	GETUPVAL 	15 0	; fs
	53	[465]	GETTABLE 	15 15 -11	; "make_dir"
	54	[465]	GETUPVAL 	16 3	; dir
	55	[465]	GETTABLE 	16 16 -12	; "path"
	56	[465]	GETUPVAL 	17 0	; fs
	57	[465]	GETTABLE 	17 17 -13	; "current_dir"
	58	[465]	CALL     	17 1 2
	59	[465]	MOVE     	18 14
	60	[465]	CALL     	16 3 0
	61	[465]	CALL     	15 0 3
	62	[466]	TEST     	15 0 1
	63	[466]	JMP      	96	; to 160
	64	[467]	LOADNIL  	17 17
	65	[467]	MOVE     	18 16
	66	[467]	RETURN   	17 3
	67	[468]	JMP      	92	; to 160
	68	[470]	GETUPVAL 	15 3	; dir
	69	[470]	GETTABLE 	15 15 -14	; "dir_name"
	70	[470]	MOVE     	16 14
	71	[470]	CALL     	15 2 2
	72	[471]	EQ       	1 15 -15	; - ""
	73	[471]	JMP      	23	; to 97
	74	[472]	GETUPVAL 	16 3	; dir
	75	[472]	GETTABLE 	16 16 -12	; "path"
	76	[472]	GETUPVAL 	17 0	; fs
	77	[472]	GETTABLE 	17 17 -13	; "current_dir"
	78	[472]	CALL     	17 1 2
	79	[472]	MOVE     	18 15
	80	[472]	CALL     	16 3 2
	81	[472]	MOVE     	15 16
	82	[473]	GETUPVAL 	16 0	; fs
	83	[473]	GETTABLE 	16 16 -16	; "is_dir"
	84	[473]	MOVE     	17 15
	85	[473]	CALL     	16 2 2
	86	[473]	TEST     	16 0 1
	87	[473]	JMP      	9	; to 97
	88	[474]	GETUPVAL 	16 0	; fs
	89	[474]	GETTABLE 	16 16 -11	; "make_dir"
	90	[474]	MOVE     	17 15
	91	[474]	CALL     	16 2 3
	92	[475]	TEST     	16 0 1
	93	[475]	JMP      	3	; to 97
	94	[476]	LOADNIL  	18 18
	95	[476]	MOVE     	19 17
	96	[476]	RETURN   	18 3
	97	[481]	SELF     	16 1 -5	; "seek"
	98	[481]	LOADK    	18 -6	; "set"
	99	[481]	GETTABLE 	19 13 -17	; "offset"
	100	[481]	CALL     	16 4 3
	101	[482]	TEST     	16 0 1
	102	[482]	JMP      	3	; to 106
	103	[483]	LOADNIL  	18 18
	104	[483]	MOVE     	19 17
	105	[483]	RETURN   	18 3
	106	[486]	GETUPVAL 	18 4	; read_file_in_zip
	107	[486]	MOVE     	19 1
	108	[486]	MOVE     	20 13
	109	[486]	CALL     	18 3 3
	110	[487]	TEST     	18 0 1
	111	[487]	JMP      	3	; to 115
	112	[488]	LOADNIL  	20 20
	113	[488]	MOVE     	21 19
	114	[488]	RETURN   	20 3
	115	[490]	GETUPVAL 	20 3	; dir
	116	[490]	GETTABLE 	20 20 -12	; "path"
	117	[490]	GETUPVAL 	21 0	; fs
	118	[490]	GETTABLE 	21 21 -13	; "current_dir"
	119	[490]	CALL     	21 1 2
	120	[490]	MOVE     	22 14
	121	[490]	CALL     	20 3 2
	122	[491]	GETGLOBAL	21 -2	; io
	123	[491]	GETTABLE 	21 21 -3	; "open"
	124	[491]	MOVE     	22 20
	125	[491]	LOADK    	23 -18	; "wb"
	126	[491]	CALL     	21 3 3
	127	[492]	TEST     	21 0 1
	128	[492]	JMP      	5	; to 134
	129	[493]	SELF     	23 1 -19	; "close"
	130	[493]	CALL     	23 2 1
	131	[494]	LOADNIL  	23 23
	132	[494]	MOVE     	24 22
	133	[494]	RETURN   	23 3
	134	[496]	SELF     	23 21 -20	; "write"
	135	[496]	MOVE     	25 18
	136	[496]	CALL     	23 3 1
	137	[497]	SELF     	23 21 -19	; "close"
	138	[497]	CALL     	23 2 1
	139	[499]	GETTABLE 	23 13 -21	; "external_attr"
	140	[499]	LT       	0 -22 23	; 0 -
	141	[499]	JMP      	7	; to 149
	142	[500]	GETUPVAL 	23 0	; fs
	143	[500]	GETTABLE 	23 23 -23	; "set_permissions"
	144	[500]	MOVE     	24 20
	145	[500]	LOADK    	25 -24	; "exec"
	146	[500]	LOADK    	26 -25	; "all"
	147	[500]	CALL     	23 4 1
	148	[500]	JMP      	6	; to 155
	149	[502]	GETUPVAL 	23 0	; fs
	150	[502]	GETTABLE 	23 23 -23	; "set_permissions"
	151	[502]	MOVE     	24 20
	152	[502]	LOADK    	25 -26	; "read"
	153	[502]	LOADK    	26 -25	; "all"
	154	[502]	CALL     	23 4 1
	155	[504]	GETUPVAL 	23 0	; fs
	156	[504]	GETTABLE 	23 23 -27	; "set_time"
	157	[504]	MOVE     	24 20
	158	[504]	GETTABLE 	25 13 -28	; "last_mod_luatime"
	159	[504]	CALL     	23 3 1
	160	[462]	TFORLOOP 	9 2
	161	[505]	JMP      	-116	; to 46
	162	[507]	SELF     	9 1 -19	; "close"
	163	[507]	CALL     	9 2 1
	164	[508]	LOADBOOL 	9 1 0
	165	[508]	RETURN   	9 2
	166	[509]	RETURN   	0 1

function <./tools/zip.lua:511,521> (41 instructions, 164 bytes at 0x7fcab840dba0)
2 params, 7 slots, 3 upvalues, 3 locals, 9 constants, 0 functions
	1	[512]	GETGLOBAL	2 -1	; assert
	2	[512]	GETGLOBAL	3 -2	; type
	3	[512]	MOVE     	4 0
	4	[512]	CALL     	3 2 2
	5	[512]	EQ       	1 3 -3	; - "string"
	6	[512]	JMP      	1	; to 8
	7	[512]	LOADBOOL 	3 0 1
	8	[512]	LOADBOOL 	3 1 0
	9	[512]	CALL     	2 2 1
	10	[513]	GETGLOBAL	2 -1	; assert
	11	[513]	EQ       	1 1 -4	; - nil
	12	[513]	JMP      	6	; to 19
	13	[513]	GETGLOBAL	3 -2	; type
	14	[513]	MOVE     	4 1
	15	[513]	CALL     	3 2 2
	16	[513]	EQ       	1 3 -3	; - "string"
	17	[513]	JMP      	1	; to 19
	18	[513]	LOADBOOL 	3 0 1
	19	[513]	LOADBOOL 	3 1 0
	20	[513]	CALL     	2 2 1
	21	[515]	TEST     	1 0 1
	22	[515]	JMP      	3	; to 26
	23	[516]	MOVE     	2 0
	24	[516]	LOADK    	3 -5	; ".gz"
	25	[516]	CONCAT   	1 2 3
	26	[519]	GETUPVAL 	2 0	; fun
	27	[519]	GETTABLE 	2 2 -6	; "partial"
	28	[519]	GETUPVAL 	3 0	; fun
	29	[519]	GETTABLE 	3 3 -7	; "flip"
	30	[519]	GETUPVAL 	4 1	; zlib_compress
	31	[519]	CALL     	3 2 2
	32	[519]	LOADK    	4 -8	; "gzip"
	33	[519]	CALL     	2 3 2
	34	[520]	GETUPVAL 	3 2	; fs
	35	[520]	GETTABLE 	3 3 -9	; "filter_file"
	36	[520]	MOVE     	4 2
	37	[520]	MOVE     	5 0
	38	[520]	MOVE     	6 1
	39	[520]	TAILCALL 	3 4 0
	40	[520]	RETURN   	3 0
	41	[521]	RETURN   	0 1

function <./tools/zip.lua:523,533> (43 instructions, 172 bytes at 0x7fcab840d7f0)
2 params, 7 slots, 3 upvalues, 3 locals, 11 constants, 0 functions
	1	[524]	GETGLOBAL	2 -1	; assert
	2	[524]	GETGLOBAL	3 -2	; type
	3	[524]	MOVE     	4 0
	4	[524]	CALL     	3 2 2
	5	[524]	EQ       	1 3 -3	; - "string"
	6	[524]	JMP      	1	; to 8
	7	[524]	LOADBOOL 	3 0 1
	8	[524]	LOADBOOL 	3 1 0
	9	[524]	CALL     	2 2 1
	10	[525]	GETGLOBAL	2 -1	; assert
	11	[525]	EQ       	1 1 -4	; - nil
	12	[525]	JMP      	6	; to 19
	13	[525]	GETGLOBAL	3 -2	; type
	14	[525]	MOVE     	4 1
	15	[525]	CALL     	3 2 2
	16	[525]	EQ       	1 3 -3	; - "string"
	17	[525]	JMP      	1	; to 19
	18	[525]	LOADBOOL 	3 0 1
	19	[525]	LOADBOOL 	3 1 0
	20	[525]	CALL     	2 2 1
	21	[527]	TEST     	1 0 1
	22	[527]	JMP      	5	; to 28
	23	[528]	SELF     	2 0 -5	; "gsub"
	24	[528]	LOADK    	4 -6	; "%.gz$"
	25	[528]	LOADK    	5 -7	; ""
	26	[528]	CALL     	2 4 2
	27	[528]	MOVE     	1 2
	28	[531]	GETUPVAL 	2 0	; fun
	29	[531]	GETTABLE 	2 2 -8	; "partial"
	30	[531]	GETUPVAL 	3 0	; fun
	31	[531]	GETTABLE 	3 3 -9	; "flip"
	32	[531]	GETUPVAL 	4 1	; zlib_uncompress
	33	[531]	CALL     	3 2 2
	34	[531]	LOADK    	4 -10	; "gzip"
	35	[531]	CALL     	2 3 2
	36	[532]	GETUPVAL 	3 2	; fs
	37	[532]	GETTABLE 	3 3 -11	; "filter_file"
	38	[532]	MOVE     	4 2
	39	[532]	MOVE     	5 0
	40	[532]	MOVE     	6 1
	41	[532]	TAILCALL 	3 4 0
	42	[532]	RETURN   	3 0
	43	[533]	RETURN   	0 1
